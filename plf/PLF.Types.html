<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<link href="../common/css/tapl.css" rel="stylesheet" type="text/css" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<title>PLF.Types</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library PLF.Types</h1>

<div class="code">
</div>

<div class="doc">
<a id="lab705"></a><h1 class="section">Types: Type Systems</h1>

<div class="paragraph"> </div>

 Our next major topic is <i>type systems</i> -- static program
    analyses that classify expressions according to the "shapes" of
    their results.  We'll begin with a typed version of the simplest
    imaginable language, to introduce the basic ideas of types and
    typing rules and the fundamental theorems about type systems:
    <i>type preservation</i> and <i>progress</i>.  In chapter <span class="inlinecode"><span class="id" title="var">Stlc</span></span> we'll move
    on to the <i>simply typed lambda-calculus</i>, which lives at the core
    of every modern functional programming language (including
    Coq!). 
</div>
<div class="code">

<br/>
<a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">Set</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">Warnings</span></a> "-notation-overridden,-parsing,-deprecated-hint-without-locality".<br/>
<span class="id" title="keyword">From</span> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">Stdlib</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">Require</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">Import</span></a> <span class="id" title="library">Arith</span>.<br/>
<span class="id" title="keyword">From</span> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">PLF</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">Require</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">Import</span></a> <a class="idref" href="PLF.Maps.html#"><span class="id" title="library">Maps</span></a>.<br/>
<span class="id" title="keyword">From</span> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">PLF</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">Require</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">Import</span></a> <a class="idref" href="PLF.Smallstep.html#"><span class="id" title="library">Smallstep</span></a>.<br/>
<a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">Set</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">Default</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">Goal</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">Selector</span></a> "!".<br/>

<br/>
<span class="id" title="keyword">Hint Constructors</span> <a class="idref" href="PLF.Types.html#multi"><span class="id" title="inductive">multi</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">core</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab706"></a><h1 class="section">Typed Arithmetic Expressions</h1>

<div class="paragraph"> </div>

 To motivate the discussion of type systems, let's begin as
    usual with a tiny toy language.  We want it to have the potential
    for programs to go wrong because of runtime type errors, so we
    need something a tiny bit more complex than the language of
    constants and addition that we used in chapter <span class="inlinecode"><span class="id" title="var">Smallstep</span></span>: a
    single kind of data (e.g., numbers) is too simple, but just two
    kinds (numbers and booleans) gives us enough material to tell an
    interesting story.

<div class="paragraph"> </div>

    The language definition is completely routine. 
</div>
<div class="code">

<br/>
</div>

<div class="doc">
<a id="lab707"></a><h2 class="section">Syntax</h2>

<div class="paragraph"> </div>

 Here is the syntax, informally:

<div class="paragraph"> </div>

    t ::= true
        | false
        | if t then t else t
        | 0
        | succ t
        | pred t
        | iszero t
 And here it is formally: 
</div>
<div class="code">
<span class="id" title="keyword">Module</span> <a id="TM" class="idref" href="#TM"><span class="id" title="module">TM</span></a>.<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a id="TM.tm" class="idref" href="#TM.tm"><span class="id" title="definition, inductive"><span id="TM.tm_rect" class="id"><span id="TM.tm_ind" class="id"><span id="TM.tm_rec" class="id"><span id="TM.tm_sind" class="id">tm</span></span></span></span></span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">Type</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">:=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">|</span></a> <a id="TM.tru" class="idref" href="#TM.tru"><span class="id" title="constructor">tru</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Types.html#tm:1"><span class="id" title="inductive">tm</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">|</span></a> <a id="TM.fls" class="idref" href="#TM.fls"><span class="id" title="constructor">fls</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Types.html#tm:1"><span class="id" title="inductive">tm</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">|</span></a> <a id="TM.ite" class="idref" href="#TM.ite"><span class="id" title="constructor">ite</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Types.html#tm:1"><span class="id" title="inductive">tm</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="PLF.Types.html#tm:1"><span class="id" title="inductive">tm</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="PLF.Types.html#tm:1"><span class="id" title="inductive">tm</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="PLF.Types.html#tm:1"><span class="id" title="inductive">tm</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">|</span></a> <a id="TM.zro" class="idref" href="#TM.zro"><span class="id" title="constructor">zro</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Types.html#tm:1"><span class="id" title="inductive">tm</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">|</span></a> <a id="TM.scc" class="idref" href="#TM.scc"><span class="id" title="constructor">scc</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Types.html#tm:1"><span class="id" title="inductive">tm</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="PLF.Types.html#tm:1"><span class="id" title="inductive">tm</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">|</span></a> <a id="TM.prd" class="idref" href="#TM.prd"><span class="id" title="constructor">prd</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Types.html#tm:1"><span class="id" title="inductive">tm</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="PLF.Types.html#tm:1"><span class="id" title="inductive">tm</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">|</span></a> <a id="TM.iszro" class="idref" href="#TM.iszro"><span class="id" title="constructor">iszro</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Types.html#tm:1"><span class="id" title="inductive">tm</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="PLF.Types.html#tm:1"><span class="id" title="inductive">tm</span></a>.<br/>

<br/>
<a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">Declare</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">Custom</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">Entry</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">tm</span></a>.<br/>
<span class="id" title="keyword">Declare Scope</span> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">tm_scope</span></a>.<br/>
<span class="id" title="keyword">Notation</span> <a id="TM.::tm_scope:'true'" class="idref" href="#TM.::tm_scope:'true'"><span class="id" title="notation">&quot;</span></a><a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">'true'</span></a>"  <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">:=</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">1):</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">tm_scope</span></a>.<br/>
<span class="id" title="keyword">Notation</span> <a id="TM.:tm:tm_scope:'true'" class="idref" href="#TM.:tm:tm_scope:'true'"><span class="id" title="notation">&quot;</span></a><a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">'true'</span></a>" <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">:=</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Types.html#TM.tru"><span class="id" title="constructor">tru</span></a><a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">)</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">in</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">custom</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">tm</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">0):</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">tm_scope</span></a>.<br/>
<span class="id" title="keyword">Notation</span> <a id="TM.::tm_scope:'false'" class="idref" href="#TM.::tm_scope:'false'"><span class="id" title="notation">&quot;</span></a><a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">'false'</span></a>"  <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">:=</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">1):</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">tm_scope</span></a>.<br/>
<span class="id" title="keyword">Notation</span> <a id="TM.:tm:tm_scope:'false'" class="idref" href="#TM.:tm:tm_scope:'false'"><span class="id" title="notation">&quot;</span></a><a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">'false'</span></a>" <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">:=</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Types.html#TM.fls"><span class="id" title="constructor">fls</span></a><a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">)</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">in</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">custom</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">tm</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">0):</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">tm_scope</span></a>.<br/>
<span class="id" title="keyword">Notation</span> <a id="d0fb5c2ace8d127472c53eefbdee4581" class="idref" href="#d0fb5c2ace8d127472c53eefbdee4581"><span class="id" title="notation">&quot;</span></a><a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">&lt;{ e }&gt;</span></a>" <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">:=</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">e</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">e</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">custom</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">tm</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">99):</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">tm_scope</span></a>.<br/>
<span class="id" title="keyword">Notation</span> <a id="e6dcc4bae745a293fcd17495036b58ed" class="idref" href="#e6dcc4bae745a293fcd17495036b58ed"><span class="id" title="notation">&quot;</span></a><a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">( x )</span></a>" <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">:=</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">x</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">in</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">custom</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">tm</span></a><a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">,</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">x</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">99):</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">tm_scope</span></a>.<br/>
<span class="id" title="keyword">Notation</span> <a id="TM.:tm:tm_scope:x" class="idref" href="#TM.:tm:tm_scope:x"><span class="id" title="notation">&quot;</span></a><a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">x</span></a>" <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">:=</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">x</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">in</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">custom</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">tm</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">0,</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">x</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">constr</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">0):</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">tm_scope</span></a>.<br/>
<span class="id" title="keyword">Notation</span> <a id="TM.:tm:tm_scope:'0'" class="idref" href="#TM.:tm:tm_scope:'0'"><span class="id" title="notation">&quot;</span></a><a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">'0'</span></a>" <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">:=</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Types.html#TM.zro"><span class="id" title="constructor">zro</span></a><a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">)</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">in</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">custom</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">tm</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">0):</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">tm_scope</span></a>.<br/>
<span class="id" title="keyword">Notation</span> <a id="TM.::tm_scope:'0'" class="idref" href="#TM.::tm_scope:'0'"><span class="id" title="notation">&quot;</span></a><a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">'0'</span></a>"  <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">:=</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">0</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">1):</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">tm_scope</span></a>.<br/>
<span class="id" title="keyword">Notation</span> <a id="TM.:tm:tm_scope:'succ'_x" class="idref" href="#TM.:tm:tm_scope:'succ'_x"><span class="id" title="notation">&quot;</span></a><a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">'succ' x</span></a>" <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">:=</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Types.html#TM.scc"><span class="id" title="constructor">scc</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">x</span></a><a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">)</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">in</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">custom</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">tm</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">90,</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">x</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">custom</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">tm</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">80):</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">tm_scope</span></a>.<br/>
<span class="id" title="keyword">Notation</span> <a id="TM.:tm:tm_scope:'pred'_x" class="idref" href="#TM.:tm:tm_scope:'pred'_x"><span class="id" title="notation">&quot;</span></a><a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">'pred' x</span></a>" <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">:=</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Types.html#TM.prd"><span class="id" title="constructor">prd</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">x</span></a><a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">)</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">in</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">custom</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">tm</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">90,</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">x</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">custom</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">tm</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">80):</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">tm_scope</span></a>.<br/>
<span class="id" title="keyword">Notation</span> <a id="TM.:tm:tm_scope:'iszero'_x" class="idref" href="#TM.:tm:tm_scope:'iszero'_x"><span class="id" title="notation">&quot;</span></a><a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">'iszero' x</span></a>" <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">:=</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Types.html#TM.iszro"><span class="id" title="constructor">iszro</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">x</span></a><a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">)</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">in</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">custom</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">tm</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">80,</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">x</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">custom</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">tm</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">70):</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">tm_scope</span></a>.<br/>
<span class="id" title="keyword">Notation</span> <a id="TM.:tm:tm_scope:'if'_x_'then'_x_'else'_x" class="idref" href="#TM.:tm:tm_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">&quot;</span></a><a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">'if' c 'then' t 'else' e</span></a>" <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">:=</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Types.html#TM.ite"><span class="id" title="constructor">ite</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">c</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">t</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">e</span></a><a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">in</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">custom</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">tm</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">90,</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">c</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">custom</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">tm</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">80,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">t</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">custom</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">tm</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">80,</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">e</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">custom</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">tm</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">80):</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">tm_scope</span></a>.<br/>
<span class="id" title="keyword">Local Open</span> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">Scope</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">tm_scope</span></a>.<br/>

<br/>
</div>

<div class="doc">
<i>Values</i> are <span class="inlinecode"><span class="id" title="var">true</span></span>, <span class="inlinecode"><span class="id" title="var">false</span></span>, and numeric values... 
</div>
<div class="code">
<span class="id" title="keyword">Inductive</span> <a id="TM.bvalue" class="idref" href="#TM.bvalue"><span class="id" title="definition, inductive"><span id="TM.bvalue_ind" class="id"><span id="TM.bvalue_sind" class="id">bvalue</span></span></span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Types.html#TM.tm"><span class="id" title="inductive">tm</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">Prop</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">:=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">|</span></a> <a id="TM.bv_true" class="idref" href="#TM.bv_true"><span class="id" title="constructor">bv_true</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Types.html#bvalue:3"><span class="id" title="inductive">bvalue</span></a> <a class="idref" href="PLF.Types.html#d0fb5c2ace8d127472c53eefbdee4581"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Types.html#TM.:tm:tm_scope:'true'"><span class="id" title="notation">true</span></a> <a class="idref" href="PLF.Types.html#d0fb5c2ace8d127472c53eefbdee4581"><span class="id" title="notation">}&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">|</span></a> <a id="TM.bv_false" class="idref" href="#TM.bv_false"><span class="id" title="constructor">bv_false</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Types.html#bvalue:3"><span class="id" title="inductive">bvalue</span></a> <a class="idref" href="PLF.Types.html#d0fb5c2ace8d127472c53eefbdee4581"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Types.html#TM.:tm:tm_scope:'false'"><span class="id" title="notation">false</span></a> <a class="idref" href="PLF.Types.html#d0fb5c2ace8d127472c53eefbdee4581"><span class="id" title="notation">}&gt;</span></a>.<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a id="TM.nvalue" class="idref" href="#TM.nvalue"><span class="id" title="definition, inductive"><span id="TM.nvalue_ind" class="id"><span id="TM.nvalue_sind" class="id">nvalue</span></span></span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Types.html#TM.tm"><span class="id" title="inductive">tm</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">Prop</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">:=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">|</span></a> <a id="TM.nv_0" class="idref" href="#TM.nv_0"><span class="id" title="constructor">nv_0</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Types.html#nvalue:5"><span class="id" title="inductive">nvalue</span></a> <a class="idref" href="PLF.Types.html#d0fb5c2ace8d127472c53eefbdee4581"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Types.html#TM.:tm:tm_scope:'0'"><span class="id" title="notation">0</span></a> <a class="idref" href="PLF.Types.html#d0fb5c2ace8d127472c53eefbdee4581"><span class="id" title="notation">}&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">|</span></a> <a id="TM.nv_succ" class="idref" href="#TM.nv_succ"><span class="id" title="constructor">nv_succ</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">∀</span></a> <a id="t:7" class="idref" href="#t:7"><span class="id" title="binder">t</span></a><a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">,</span></a> <a class="idref" href="PLF.Types.html#nvalue:5"><span class="id" title="inductive">nvalue</span></a> <a class="idref" href="PLF.Types.html#t:7"><span class="id" title="variable">t</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="PLF.Types.html#nvalue:5"><span class="id" title="inductive">nvalue</span></a> <a class="idref" href="PLF.Types.html#d0fb5c2ace8d127472c53eefbdee4581"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Types.html#TM.:tm:tm_scope:'succ'_x"><span class="id" title="notation">succ</span></a> <a class="idref" href="PLF.Types.html#t:7"><span class="id" title="variable">t</span></a> <a class="idref" href="PLF.Types.html#d0fb5c2ace8d127472c53eefbdee4581"><span class="id" title="notation">}&gt;</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="TM.value" class="idref" href="#TM.value"><span class="id" title="definition">value</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">(</span></a><a id="t:8" class="idref" href="#t:8"><span class="id" title="binder">t</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Types.html#TM.tm"><span class="id" title="inductive">tm</span></a><a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">)</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">:=</span></a> <a class="idref" href="PLF.Types.html#TM.bvalue"><span class="id" title="inductive">bvalue</span></a> <a class="idref" href="PLF.Types.html#t:8"><span class="id" title="variable">t</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a> <a class="idref" href="PLF.Types.html#TM.nvalue"><span class="id" title="inductive">nvalue</span></a> <a class="idref" href="PLF.Types.html#t:8"><span class="id" title="variable">t</span></a>.<br/>

<br/>
<span class="id" title="keyword">Hint Constructors</span> <a class="idref" href="PLF.Types.html#bvalue"><span class="id" title="inductive">bvalue</span></a> <a class="idref" href="PLF.Types.html#nvalue"><span class="id" title="inductive">nvalue</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">core</span></a>.<br/>
<span class="id" title="keyword">Hint Unfold</span> <a class="idref" href="PLF.Types.html#TM.value"><span class="id" title="definition">value</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">core</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab708"></a><h2 class="section">Operational Semantics</h2>

<div class="paragraph"> </div>

 Here is the single-step relation, first informally...
<hr/>
                   (ST_IfTrue)
                   if true then t1 else t2 --&gt; t1
<hr/>
                  (ST_IfFalse)
                   if false then t1 else t2 --&gt; t2

<div class="paragraph"> </div>

                               t1 --&gt; t1'
<hr/>
             (ST_If)
            if t1 then t2 else t3 --&gt; if t1' then t2 else t3

<div class="paragraph"> </div>

                             t1 --&gt; t1'
<hr/>
                          (ST_Succ)
                         succ t1 --&gt; succ t1'
<hr/>
                               (ST_Pred0)
                           pred 0 --&gt; 0

<div class="paragraph"> </div>

                         numeric value v
<hr/>
                        (ST_PredSucc)
                        pred (succ v) --&gt; v

<div class="paragraph"> </div>

                              t1 --&gt; t1'
<hr/>
                          (ST_Pred)
                         pred t1 --&gt; pred t1'
<hr/>
                         (ST_IsZero0)
                          iszero 0 --&gt; true

<div class="paragraph"> </div>

                         numeric value v
<hr/>
                  (ST_IsZeroSucc)
                      iszero (succ v) --&gt; false

<div class="paragraph"> </div>

                            t1 --&gt; t1'
<hr/>
                      (ST_IsZero)
                       iszero t1 --&gt; iszero t1'

<div class="paragraph"> </div>

 ... and then formally: 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Reserved Notation</span> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">&quot;t '--&gt;' t'</span></a>" <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">40)</span></a>.<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a id="TM.step" class="idref" href="#TM.step"><span class="id" title="definition, inductive"><span id="TM.step_ind" class="id"><span id="TM.step_sind" class="id">step</span></span></span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Types.html#TM.tm"><span class="id" title="inductive">tm</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="PLF.Types.html#TM.tm"><span class="id" title="inductive">tm</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">Prop</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">:=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">|</span></a> <a id="TM.ST_IfTrue" class="idref" href="#TM.ST_IfTrue"><span class="id" title="constructor">ST_IfTrue</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">∀</span></a> <a id="t1:11" class="idref" href="#t1:11"><span class="id" title="binder">t1</span></a> <a id="t2:12" class="idref" href="#t2:12"><span class="id" title="binder">t2</span></a><a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Types.html#d0fb5c2ace8d127472c53eefbdee4581"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Types.html#TM.:tm:tm_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="PLF.Types.html#TM.:tm:tm_scope:'true'"><span class="id" title="notation">true</span></a> <a class="idref" href="PLF.Types.html#TM.:tm:tm_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="PLF.Types.html#t1:11"><span class="id" title="variable">t1</span></a> <a class="idref" href="PLF.Types.html#TM.:tm:tm_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <a class="idref" href="PLF.Types.html#t2:12"><span class="id" title="variable">t2</span></a> <a class="idref" href="PLF.Types.html#d0fb5c2ace8d127472c53eefbdee4581"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="PLF.Types.html#TM.:::x_'--&gt;'_x"><span class="id" title="notation">--&gt;</span></a> <a class="idref" href="PLF.Types.html#t1:11"><span class="id" title="variable">t1</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">|</span></a> <a id="TM.ST_IfFalse" class="idref" href="#TM.ST_IfFalse"><span class="id" title="constructor">ST_IfFalse</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">∀</span></a> <a id="t1:13" class="idref" href="#t1:13"><span class="id" title="binder">t1</span></a> <a id="t2:14" class="idref" href="#t2:14"><span class="id" title="binder">t2</span></a><a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Types.html#d0fb5c2ace8d127472c53eefbdee4581"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Types.html#TM.:tm:tm_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="PLF.Types.html#TM.:tm:tm_scope:'false'"><span class="id" title="notation">false</span></a> <a class="idref" href="PLF.Types.html#TM.:tm:tm_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="PLF.Types.html#t1:13"><span class="id" title="variable">t1</span></a> <a class="idref" href="PLF.Types.html#TM.:tm:tm_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <a class="idref" href="PLF.Types.html#t2:14"><span class="id" title="variable">t2</span></a> <a class="idref" href="PLF.Types.html#d0fb5c2ace8d127472c53eefbdee4581"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="PLF.Types.html#TM.:::x_'--&gt;'_x"><span class="id" title="notation">--&gt;</span></a> <a class="idref" href="PLF.Types.html#t2:14"><span class="id" title="variable">t2</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">|</span></a> <a id="TM.ST_If" class="idref" href="#TM.ST_If"><span class="id" title="constructor">ST_If</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">∀</span></a> <a id="c:15" class="idref" href="#c:15"><span class="id" title="binder">c</span></a> <a id="c':16" class="idref" href="#c':16"><span class="id" title="binder">c'</span></a> <a id="t2:17" class="idref" href="#t2:17"><span class="id" title="binder">t2</span></a> <a id="t3:18" class="idref" href="#t3:18"><span class="id" title="binder">t3</span></a><a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Types.html#c:15"><span class="id" title="variable">c</span></a> <a class="idref" href="PLF.Types.html#TM.:::x_'--&gt;'_x"><span class="id" title="notation">--&gt;</span></a> <a class="idref" href="PLF.Types.html#c':16"><span class="id" title="variable">c'</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Types.html#d0fb5c2ace8d127472c53eefbdee4581"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Types.html#TM.:tm:tm_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="PLF.Types.html#c:15"><span class="id" title="variable">c</span></a> <a class="idref" href="PLF.Types.html#TM.:tm:tm_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="PLF.Types.html#t2:17"><span class="id" title="variable">t2</span></a> <a class="idref" href="PLF.Types.html#TM.:tm:tm_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <a class="idref" href="PLF.Types.html#t3:18"><span class="id" title="variable">t3</span></a> <a class="idref" href="PLF.Types.html#d0fb5c2ace8d127472c53eefbdee4581"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="PLF.Types.html#TM.:::x_'--&gt;'_x"><span class="id" title="notation">--&gt;</span></a> <a class="idref" href="PLF.Types.html#d0fb5c2ace8d127472c53eefbdee4581"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Types.html#TM.:tm:tm_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="PLF.Types.html#c':16"><span class="id" title="variable">c'</span></a> <a class="idref" href="PLF.Types.html#TM.:tm:tm_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="PLF.Types.html#t2:17"><span class="id" title="variable">t2</span></a> <a class="idref" href="PLF.Types.html#TM.:tm:tm_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <a class="idref" href="PLF.Types.html#t3:18"><span class="id" title="variable">t3</span></a> <a class="idref" href="PLF.Types.html#d0fb5c2ace8d127472c53eefbdee4581"><span class="id" title="notation">}&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">|</span></a> <a id="TM.ST_Succ" class="idref" href="#TM.ST_Succ"><span class="id" title="constructor">ST_Succ</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">∀</span></a> <a id="t1:19" class="idref" href="#t1:19"><span class="id" title="binder">t1</span></a> <a id="t1':20" class="idref" href="#t1':20"><span class="id" title="binder">t1'</span></a><a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Types.html#t1:19"><span class="id" title="variable">t1</span></a> <a class="idref" href="PLF.Types.html#TM.:::x_'--&gt;'_x"><span class="id" title="notation">--&gt;</span></a> <a class="idref" href="PLF.Types.html#t1':20"><span class="id" title="variable">t1'</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Types.html#d0fb5c2ace8d127472c53eefbdee4581"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Types.html#TM.:tm:tm_scope:'succ'_x"><span class="id" title="notation">succ</span></a> <a class="idref" href="PLF.Types.html#t1:19"><span class="id" title="variable">t1</span></a> <a class="idref" href="PLF.Types.html#d0fb5c2ace8d127472c53eefbdee4581"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="PLF.Types.html#TM.:::x_'--&gt;'_x"><span class="id" title="notation">--&gt;</span></a> <a class="idref" href="PLF.Types.html#d0fb5c2ace8d127472c53eefbdee4581"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Types.html#TM.:tm:tm_scope:'succ'_x"><span class="id" title="notation">succ</span></a> <a class="idref" href="PLF.Types.html#t1':20"><span class="id" title="variable">t1'</span></a> <a class="idref" href="PLF.Types.html#d0fb5c2ace8d127472c53eefbdee4581"><span class="id" title="notation">}&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">|</span></a> <a id="TM.ST_Pred0" class="idref" href="#TM.ST_Pred0"><span class="id" title="constructor">ST_Pred0</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">:</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Types.html#d0fb5c2ace8d127472c53eefbdee4581"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Types.html#TM.:tm:tm_scope:'pred'_x"><span class="id" title="notation">pred</span></a> <a class="idref" href="PLF.Types.html#TM.:tm:tm_scope:'0'"><span class="id" title="notation">0</span></a> <a class="idref" href="PLF.Types.html#d0fb5c2ace8d127472c53eefbdee4581"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="PLF.Types.html#TM.:::x_'--&gt;'_x"><span class="id" title="notation">--&gt;</span></a> <a class="idref" href="PLF.Types.html#d0fb5c2ace8d127472c53eefbdee4581"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Types.html#TM.:tm:tm_scope:'0'"><span class="id" title="notation">0</span></a> <a class="idref" href="PLF.Types.html#d0fb5c2ace8d127472c53eefbdee4581"><span class="id" title="notation">}&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">|</span></a> <a id="TM.ST_PredSucc" class="idref" href="#TM.ST_PredSucc"><span class="id" title="constructor">ST_PredSucc</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">∀</span></a> <a id="v:21" class="idref" href="#v:21"><span class="id" title="binder">v</span></a><a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Types.html#TM.nvalue"><span class="id" title="inductive">nvalue</span></a> <a class="idref" href="PLF.Types.html#v:21"><span class="id" title="variable">v</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Types.html#d0fb5c2ace8d127472c53eefbdee4581"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Types.html#TM.:tm:tm_scope:'pred'_x"><span class="id" title="notation">pred</span></a> <a class="idref" href="PLF.Types.html#e6dcc4bae745a293fcd17495036b58ed"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Types.html#TM.:tm:tm_scope:'succ'_x"><span class="id" title="notation">succ</span></a> <a class="idref" href="PLF.Types.html#v:21"><span class="id" title="variable">v</span></a><a class="idref" href="PLF.Types.html#e6dcc4bae745a293fcd17495036b58ed"><span class="id" title="notation">)</span></a> <a class="idref" href="PLF.Types.html#d0fb5c2ace8d127472c53eefbdee4581"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="PLF.Types.html#TM.:::x_'--&gt;'_x"><span class="id" title="notation">--&gt;</span></a> <a class="idref" href="PLF.Types.html#v:21"><span class="id" title="variable">v</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">|</span></a> <a id="TM.ST_Pred" class="idref" href="#TM.ST_Pred"><span class="id" title="constructor">ST_Pred</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">∀</span></a> <a id="t1:22" class="idref" href="#t1:22"><span class="id" title="binder">t1</span></a> <a id="t1':23" class="idref" href="#t1':23"><span class="id" title="binder">t1'</span></a><a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Types.html#t1:22"><span class="id" title="variable">t1</span></a> <a class="idref" href="PLF.Types.html#TM.:::x_'--&gt;'_x"><span class="id" title="notation">--&gt;</span></a> <a class="idref" href="PLF.Types.html#t1':23"><span class="id" title="variable">t1'</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Types.html#d0fb5c2ace8d127472c53eefbdee4581"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Types.html#TM.:tm:tm_scope:'pred'_x"><span class="id" title="notation">pred</span></a> <a class="idref" href="PLF.Types.html#t1:22"><span class="id" title="variable">t1</span></a> <a class="idref" href="PLF.Types.html#d0fb5c2ace8d127472c53eefbdee4581"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="PLF.Types.html#TM.:::x_'--&gt;'_x"><span class="id" title="notation">--&gt;</span></a> <a class="idref" href="PLF.Types.html#d0fb5c2ace8d127472c53eefbdee4581"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Types.html#TM.:tm:tm_scope:'pred'_x"><span class="id" title="notation">pred</span></a> <a class="idref" href="PLF.Types.html#t1':23"><span class="id" title="variable">t1'</span></a> <a class="idref" href="PLF.Types.html#d0fb5c2ace8d127472c53eefbdee4581"><span class="id" title="notation">}&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">|</span></a> <a id="TM.ST_IsZero0" class="idref" href="#TM.ST_IsZero0"><span class="id" title="constructor">ST_IsZero0</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">:</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Types.html#d0fb5c2ace8d127472c53eefbdee4581"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Types.html#TM.:tm:tm_scope:'iszero'_x"><span class="id" title="notation">iszero</span></a> <a class="idref" href="PLF.Types.html#TM.:tm:tm_scope:'0'"><span class="id" title="notation">0</span></a> <a class="idref" href="PLF.Types.html#d0fb5c2ace8d127472c53eefbdee4581"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="PLF.Types.html#TM.:::x_'--&gt;'_x"><span class="id" title="notation">--&gt;</span></a> <a class="idref" href="PLF.Types.html#d0fb5c2ace8d127472c53eefbdee4581"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Types.html#TM.:tm:tm_scope:'true'"><span class="id" title="notation">true</span></a> <a class="idref" href="PLF.Types.html#d0fb5c2ace8d127472c53eefbdee4581"><span class="id" title="notation">}&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">|</span></a> <a id="TM.ST_IsZeroSucc" class="idref" href="#TM.ST_IsZeroSucc"><span class="id" title="constructor">ST_IsZeroSucc</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">∀</span></a> <a id="v:24" class="idref" href="#v:24"><span class="id" title="binder">v</span></a><a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Types.html#TM.nvalue"><span class="id" title="inductive">nvalue</span></a> <a class="idref" href="PLF.Types.html#v:24"><span class="id" title="variable">v</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Types.html#d0fb5c2ace8d127472c53eefbdee4581"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Types.html#TM.:tm:tm_scope:'iszero'_x"><span class="id" title="notation">iszero</span></a> <a class="idref" href="PLF.Types.html#e6dcc4bae745a293fcd17495036b58ed"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Types.html#TM.:tm:tm_scope:'succ'_x"><span class="id" title="notation">succ</span></a> <a class="idref" href="PLF.Types.html#v:24"><span class="id" title="variable">v</span></a><a class="idref" href="PLF.Types.html#e6dcc4bae745a293fcd17495036b58ed"><span class="id" title="notation">)</span></a> <a class="idref" href="PLF.Types.html#d0fb5c2ace8d127472c53eefbdee4581"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="PLF.Types.html#TM.:::x_'--&gt;'_x"><span class="id" title="notation">--&gt;</span></a> <a class="idref" href="PLF.Types.html#d0fb5c2ace8d127472c53eefbdee4581"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Types.html#TM.:tm:tm_scope:'false'"><span class="id" title="notation">false</span></a> <a class="idref" href="PLF.Types.html#d0fb5c2ace8d127472c53eefbdee4581"><span class="id" title="notation">}&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">|</span></a> <a id="TM.ST_IsZero" class="idref" href="#TM.ST_IsZero"><span class="id" title="constructor">ST_IsZero</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">∀</span></a> <a id="t1:25" class="idref" href="#t1:25"><span class="id" title="binder">t1</span></a> <a id="t1':26" class="idref" href="#t1':26"><span class="id" title="binder">t1'</span></a><a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Types.html#t1:25"><span class="id" title="variable">t1</span></a> <a class="idref" href="PLF.Types.html#TM.:::x_'--&gt;'_x"><span class="id" title="notation">--&gt;</span></a> <a class="idref" href="PLF.Types.html#t1':26"><span class="id" title="variable">t1'</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Types.html#d0fb5c2ace8d127472c53eefbdee4581"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Types.html#TM.:tm:tm_scope:'iszero'_x"><span class="id" title="notation">iszero</span></a> <a class="idref" href="PLF.Types.html#t1:25"><span class="id" title="variable">t1</span></a> <a class="idref" href="PLF.Types.html#d0fb5c2ace8d127472c53eefbdee4581"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="PLF.Types.html#TM.:::x_'--&gt;'_x"><span class="id" title="notation">--&gt;</span></a> <a class="idref" href="PLF.Types.html#d0fb5c2ace8d127472c53eefbdee4581"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Types.html#TM.:tm:tm_scope:'iszero'_x"><span class="id" title="notation">iszero</span></a> <a class="idref" href="PLF.Types.html#t1':26"><span class="id" title="variable">t1'</span></a> <a class="idref" href="PLF.Types.html#d0fb5c2ace8d127472c53eefbdee4581"><span class="id" title="notation">}&gt;</span></a><br/>
<br/>
<span class="id" title="keyword">where</span> <a id="TM.:::x_'--&gt;'_x" class="idref" href="#TM.:::x_'--&gt;'_x"><span class="id" title="notation">&quot;</span></a><a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">t '--&gt;' t'</span></a>" <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">:=</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Types.html#step:10"><span class="id" title="inductive">step</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">t</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">t'</span></a><a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">)</span></a>.<br/>

<br/>
<span class="id" title="keyword">Hint Constructors</span> <a class="idref" href="PLF.Types.html#step"><span class="id" title="inductive">step</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">core</span></a>.<br/>

<br/>
</div>

<div class="doc">
Notice that the <span class="inlinecode"><span class="id" title="var">step</span></span> relation doesn't care about whether the
    expression being stepped makes global sense -- it just checks that
    the operation in the <i>next</i> reduction step is being applied to the
    right kinds of operands.  For example, the term <span class="inlinecode"><span class="id" title="var">succ</span></span> <span class="inlinecode"><span class="id" title="var">true</span></span> cannot
    take a step, but the almost as obviously nonsensical term

<div class="paragraph"> </div>

       succ (if true then true else true)

<div class="paragraph"> </div>

    can take a step (once, before becoming stuck). 
</div>
<div class="code">

<br/>
</div>

<div class="doc">
<a id="lab709"></a><h2 class="section">Normal Forms and Values</h2>

<div class="paragraph"> </div>

 The first interesting thing to notice about this <span class="inlinecode"><span class="id" title="var">step</span></span> relation
    is that the strong progress theorem from the <span class="inlinecode"><span class="id" title="var">Smallstep</span></span>
    chapter fails here.  That is, there are terms that are normal
    forms (they can't take a step) but not values (they are not
    included in our definition of possible "results of reduction").

<div class="paragraph"> </div>

    Such terms are <i>stuck</i>. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Notation</span> <a id="TM.step_normal_form" class="idref" href="#TM.step_normal_form"><span class="id" title="abbreviation">step_normal_form</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">:=</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Smallstep.html#normal_form"><span class="id" title="definition">normal_form</span></a> <a class="idref" href="PLF.Types.html#TM.step"><span class="id" title="inductive">step</span></a><a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">)</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="TM.stuck" class="idref" href="#TM.stuck"><span class="id" title="definition">stuck</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">(</span></a><a id="t:27" class="idref" href="#t:27"><span class="id" title="binder">t</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Types.html#TM.tm"><span class="id" title="inductive">tm</span></a><a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">)</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">Prop</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">:=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Types.html#TM.step_normal_form"><span class="id" title="abbreviation">step_normal_form</span></a> <a class="idref" href="PLF.Types.html#t:27"><span class="id" title="variable">t</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="PLF.Types.html#TM.value"><span class="id" title="definition">value</span></a> <a class="idref" href="PLF.Types.html#t:27"><span class="id" title="variable">t</span></a>.<br/>

<br/>
<span class="id" title="keyword">Hint Unfold</span> <a class="idref" href="PLF.Types.html#TM.stuck"><span class="id" title="definition">stuck</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">core</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab710"></a><h4 class="section">Exercise: 2 stars, standard (some_term_is_stuck)</h4>

</div>
<div class="code">
<span class="id" title="keyword">Example</span> <a id="TM.some_term_is_stuck" class="idref" href="#TM.some_term_is_stuck"><span class="id" title="definition">some_term_is_stuck</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">:</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="t:28" class="idref" href="#t:28"><span class="id" title="binder">t</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="PLF.Types.html#TM.stuck"><span class="id" title="definition">stuck</span></a> <a class="idref" href="PLF.Types.html#t:28"><span class="id" title="variable">t</span></a>.<br/>
<a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">Proof</span></a>.<br/>
 <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">Admitted</span></a>.<br/>
</div>

<div class="doc">
<font size=-2>&#9744;</font> 
<div class="paragraph"> </div>

 However, although values and normal forms are <i>not</i> the same in this
    language, the set of values is a subset of the set of normal forms.

<div class="paragraph"> </div>

    This is important because it shows we did not accidentally define
    things so that some value could still take a step. 
<div class="paragraph"> </div>

<a id="lab711"></a><h4 class="section">Exercise: 3 stars, standard (value_is_nf)</h4>

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="TM.value_is_nf" class="idref" href="#TM.value_is_nf"><span class="id" title="lemma">value_is_nf</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">∀</span></a> <a id="t:29" class="idref" href="#t:29"><span class="id" title="binder">t</span></a><a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Types.html#TM.value"><span class="id" title="definition">value</span></a> <a class="idref" href="PLF.Types.html#t:29"><span class="id" title="variable">t</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="PLF.Types.html#TM.step_normal_form"><span class="id" title="abbreviation">step_normal_form</span></a> <a class="idref" href="PLF.Types.html#t:29"><span class="id" title="variable">t</span></a>.<br/>
<a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">Proof</span></a>.<br/>
 <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">Admitted</span></a>.<br/>

<br/>
</div>

<div class="doc">
(Hint: You will reach a point in this proof where you need to
    use an induction to reason about a term that is known to be a
    numeric value.  This induction can be performed either over the
    term itself or over the evidence that it is a numeric value.  The
    proof goes through in either case, but you will find that one way
    is quite a bit shorter than the other.  For the sake of the
    exercise, try to complete the proof both ways.)

<div class="paragraph"> </div>

    <font size=-2>&#9744;</font> 
<div class="paragraph"> </div>

<a id="lab712"></a><h4 class="section">Exercise: 3 stars, standard, optional (step_deterministic)</h4>


<div class="paragraph"> </div>

    Use <span class="inlinecode"><span class="id" title="var">value_is_nf</span></span> to show that the <span class="inlinecode"><span class="id" title="var">step</span></span> relation is also
    deterministic. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Theorem</span> <a id="TM.step_deterministic" class="idref" href="#TM.step_deterministic"><span class="id" title="lemma">step_deterministic</span></a><a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">:</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#deterministic"><span class="id" title="definition">deterministic</span></a> <a class="idref" href="PLF.Types.html#TM.step"><span class="id" title="inductive">step</span></a>.<br/>
<a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">Proof</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">with</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">eauto</span></a>.<br/>
 <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">Admitted</span></a>.<br/>
</div>

<div class="doc">
<font size=-2>&#9744;</font> 
</div>
<div class="code">

<br/>
</div>

<div class="doc">
<a id="lab713"></a><h2 class="section">Typing</h2>

<div class="paragraph"> </div>

 The next critical observation is that, although this
    language has stuck terms, they are always nonsensical, mixing
    booleans and numbers in a way that we don't even <i>want</i> to have a
    meaning.  We can easily exclude such ill-typed terms by defining a
    <i>typing relation</i> that relates terms to the types (either numeric
    or boolean) of their final results.  
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Inductive</span> <a id="TM.ty" class="idref" href="#TM.ty"><span class="id" title="definition, inductive"><span id="TM.ty_rect" class="id"><span id="TM.ty_ind" class="id"><span id="TM.ty_rec" class="id"><span id="TM.ty_sind" class="id">ty</span></span></span></span></span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">Type</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">:=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">|</span></a> <a id="TM.Bool" class="idref" href="#TM.Bool"><span class="id" title="constructor">Bool</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Types.html#ty:30"><span class="id" title="inductive">ty</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">|</span></a> <a id="TM.Nat" class="idref" href="#TM.Nat"><span class="id" title="constructor">Nat</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Types.html#ty:30"><span class="id" title="inductive">ty</span></a>.<br/>

<br/>
</div>

<div class="doc">
In informal notation, the typing relation is often written
    <span class="inlinecode">|--</span> <span class="inlinecode"><span class="id" title="var">t</span></span> <span class="inlinecode">\<span class="id" title="tactic">in</span></span> <span class="inlinecode"><span class="id" title="var">T</span></span> and pronounced "<span class="inlinecode"><span class="id" title="var">t</span></span> has type <span class="inlinecode"><span class="id" title="var">T</span></span>."  The <span class="inlinecode">|--</span> symbol
    is called a "turnstile."  Below, we're going to see richer typing
    relations where one or more additional "context" arguments are
    written to the left of the turnstile.  For the moment, the context
    is always empty.
<hr/>
                   (T_True)
                           |-- true \in Bool
<hr/>
                   (T_False)
                          |-- false \in Bool

<div class="paragraph"> </div>

           |-- t1 \in Bool    |-- t2 \in T    |-- t3 \in T
<hr/>
     (T_If)
                   |-- if t1 then t2 else t3 \in T
<hr/>
                    (T_0)
                             |-- 0 \in Nat

<div class="paragraph"> </div>

                            |-- t1 \in Nat
<hr/>
                  (T_Succ)
                          |-- succ t1 \in Nat

<div class="paragraph"> </div>

                            |-- t1 \in Nat
<hr/>
                  (T_Pred)
                          |-- pred t1 \in Nat

<div class="paragraph"> </div>

                            |-- t1 \in Nat
<hr/>
               (T_IsZero)
                          |-- iszero t1 \in Bool

</div>
<div class="code">

<br/>
<a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">Declare</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">Custom</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">Entry</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">ty</span></a>.<br/>
<span class="id" title="keyword">Notation</span> <a id="TM.:ty::'Nat'" class="idref" href="#TM.:ty::'Nat'"><span class="id" title="notation">&quot;</span></a><a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">'Nat'</span></a>" <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">:=</span></a> <a class="idref" href="PLF.Types.html#TM.Nat"><span class="id" title="constructor">Nat</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">in</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">custom</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">ty</span></a><a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Notation</span> <a id="TM.:ty::'Bool'" class="idref" href="#TM.:ty::'Bool'"><span class="id" title="notation">&quot;</span></a><a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">'Bool'</span></a>" <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">:=</span></a> <a class="idref" href="PLF.Types.html#TM.Bool"><span class="id" title="constructor">Bool</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">in</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">custom</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">ty</span></a><a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Notation</span> <a id="TM.:ty::x" class="idref" href="#TM.:ty::x"><span class="id" title="notation">&quot;</span></a><a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">x</span></a>" <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">:=</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">x</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">in</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">custom</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">ty</span></a><a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">,</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">x</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">global</span></a><a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">)</span></a>.<br/>

<br/>
<span class="id" title="keyword">Reserved Notation</span> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">&quot;&lt;{ '|--' t '\in' T }&gt;</span></a>"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">0,</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">t</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">custom</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">tm</span></a><a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">,</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">T</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">custom</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">ty</span></a><a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">)</span></a>.<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a id="TM.has_type" class="idref" href="#TM.has_type"><span class="id" title="definition, inductive"><span id="TM.has_type_ind" class="id"><span id="TM.has_type_sind" class="id">has_type</span></span></span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Types.html#TM.tm"><span class="id" title="inductive">tm</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="PLF.Types.html#TM.ty"><span class="id" title="inductive">ty</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">Prop</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">:=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">|</span></a> <a id="TM.T_True" class="idref" href="#TM.T_True"><span class="id" title="constructor">T_True</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">:</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">|--</span></a> <a class="idref" href="PLF.Types.html#TM.:tm:tm_scope:'true'"><span class="id" title="notation">true</span></a> <a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">\</span></a><a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">in</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::'Bool'"><span class="id" title="notation">Bool</span></a> <a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">}&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">|</span></a> <a id="TM.T_False" class="idref" href="#TM.T_False"><span class="id" title="constructor">T_False</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">:</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">|--</span></a> <a class="idref" href="PLF.Types.html#TM.:tm:tm_scope:'false'"><span class="id" title="notation">false</span></a> <a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">\</span></a><a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">in</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::'Bool'"><span class="id" title="notation">Bool</span></a> <a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">}&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">|</span></a> <a id="TM.T_If" class="idref" href="#TM.T_If"><span class="id" title="constructor">T_If</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">∀</span></a> <a id="t1:34" class="idref" href="#t1:34"><span class="id" title="binder">t1</span></a> <a id="t2:35" class="idref" href="#t2:35"><span class="id" title="binder">t2</span></a> <a id="t3:36" class="idref" href="#t3:36"><span class="id" title="binder">t3</span></a> <a id="T:37" class="idref" href="#T:37"><span class="id" title="binder">T</span></a><a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">|--</span></a> <a class="idref" href="PLF.Types.html#t1:34"><span class="id" title="variable">t1</span></a> <a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">\</span></a><a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">in</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::'Bool'"><span class="id" title="notation">Bool</span></a> <a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">|--</span></a> <a class="idref" href="PLF.Types.html#t2:35"><span class="id" title="variable">t2</span></a> <a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">\</span></a><a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">in</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">T</span></a> <a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">|--</span></a> <a class="idref" href="PLF.Types.html#t3:36"><span class="id" title="variable">t3</span></a> <a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">\</span></a><a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">in</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">T</span></a> <a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">|--</span></a> <a class="idref" href="PLF.Types.html#TM.:tm:tm_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="PLF.Types.html#t1:34"><span class="id" title="variable">t1</span></a> <a class="idref" href="PLF.Types.html#TM.:tm:tm_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="PLF.Types.html#t2:35"><span class="id" title="variable">t2</span></a> <a class="idref" href="PLF.Types.html#TM.:tm:tm_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <a class="idref" href="PLF.Types.html#t3:36"><span class="id" title="variable">t3</span></a> <a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">\</span></a><a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">in</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">T</span></a> <a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">}&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">|</span></a> <a id="TM.T_0" class="idref" href="#TM.T_0"><span class="id" title="constructor">T_0</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">:</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">|--</span></a> <a class="idref" href="PLF.Types.html#TM.:tm:tm_scope:'0'"><span class="id" title="notation">0</span></a> <a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">\</span></a><a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">in</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::'Nat'"><span class="id" title="notation">Nat</span></a> <a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">}&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">|</span></a> <a id="TM.T_Succ" class="idref" href="#TM.T_Succ"><span class="id" title="constructor">T_Succ</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">∀</span></a> <a id="t1:38" class="idref" href="#t1:38"><span class="id" title="binder">t1</span></a><a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">|--</span></a> <a class="idref" href="PLF.Types.html#t1:38"><span class="id" title="variable">t1</span></a> <a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">\</span></a><a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">in</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::'Nat'"><span class="id" title="notation">Nat</span></a> <a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">|--</span></a> <a class="idref" href="PLF.Types.html#TM.:tm:tm_scope:'succ'_x"><span class="id" title="notation">succ</span></a> <a class="idref" href="PLF.Types.html#t1:38"><span class="id" title="variable">t1</span></a> <a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">\</span></a><a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">in</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::'Nat'"><span class="id" title="notation">Nat</span></a> <a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">}&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">|</span></a> <a id="TM.T_Pred" class="idref" href="#TM.T_Pred"><span class="id" title="constructor">T_Pred</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">∀</span></a> <a id="t1:39" class="idref" href="#t1:39"><span class="id" title="binder">t1</span></a><a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">|--</span></a> <a class="idref" href="PLF.Types.html#t1:39"><span class="id" title="variable">t1</span></a> <a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">\</span></a><a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">in</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::'Nat'"><span class="id" title="notation">Nat</span></a> <a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">|--</span></a> <a class="idref" href="PLF.Types.html#TM.:tm:tm_scope:'pred'_x"><span class="id" title="notation">pred</span></a> <a class="idref" href="PLF.Types.html#t1:39"><span class="id" title="variable">t1</span></a> <a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">\</span></a><a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">in</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::'Nat'"><span class="id" title="notation">Nat</span></a> <a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">}&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">|</span></a> <a id="TM.T_Iszero" class="idref" href="#TM.T_Iszero"><span class="id" title="constructor">T_Iszero</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">∀</span></a> <a id="t1:40" class="idref" href="#t1:40"><span class="id" title="binder">t1</span></a><a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">|--</span></a> <a class="idref" href="PLF.Types.html#t1:40"><span class="id" title="variable">t1</span></a> <a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">\</span></a><a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">in</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::'Nat'"><span class="id" title="notation">Nat</span></a> <a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">|--</span></a> <a class="idref" href="PLF.Types.html#TM.:tm:tm_scope:'iszero'_x"><span class="id" title="notation">iszero</span></a> <a class="idref" href="PLF.Types.html#t1:40"><span class="id" title="variable">t1</span></a> <a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">\</span></a><a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">in</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::'Bool'"><span class="id" title="notation">Bool</span></a> <a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">}&gt;</span></a><br/>
<br/>
<span class="id" title="keyword">where</span> <a id="ccaaa89793d1ac9439e9ed2ddf867523" class="idref" href="#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">&quot;</span></a><a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">&lt;{ '|--' t '\in' T }&gt;</span></a>" <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">:=</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Types.html#has_type:33"><span class="id" title="inductive">has_type</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">t</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">T</span></a><a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">)</span></a>.<br/>

<br/>
<span class="id" title="keyword">Hint Constructors</span> <a class="idref" href="PLF.Types.html#has_type"><span class="id" title="inductive">has_type</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">core</span></a>.<br/>

<br/>
<span class="id" title="keyword">Example</span> <a id="TM.has_type_1" class="idref" href="#TM.has_type_1"><span class="id" title="definition">has_type_1</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">:</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">|--</span></a> <a class="idref" href="PLF.Types.html#TM.:tm:tm_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="PLF.Types.html#TM.:tm:tm_scope:'false'"><span class="id" title="notation">false</span></a> <a class="idref" href="PLF.Types.html#TM.:tm:tm_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="PLF.Types.html#TM.:tm:tm_scope:'0'"><span class="id" title="notation">0</span></a> <a class="idref" href="PLF.Types.html#TM.:tm:tm_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <a class="idref" href="PLF.Types.html#e6dcc4bae745a293fcd17495036b58ed"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Types.html#TM.:tm:tm_scope:'succ'_x"><span class="id" title="notation">succ</span></a> <a class="idref" href="PLF.Types.html#TM.:tm:tm_scope:'0'"><span class="id" title="notation">0</span></a><a class="idref" href="PLF.Types.html#e6dcc4bae745a293fcd17495036b58ed"><span class="id" title="notation">)</span></a> <a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">\</span></a><a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">in</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::'Nat'"><span class="id" title="notation">Nat</span></a> <a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">}&gt;</span></a>.<br/>
<a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">Proof</span></a>.<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">apply</span></a> <a class="idref" href="PLF.Types.html#TM.T_If"><span class="id" title="constructor">T_If</span></a>.<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">-</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">apply</span></a> <a class="idref" href="PLF.Types.html#TM.T_False"><span class="id" title="constructor">T_False</span></a>.<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">-</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">apply</span></a> <a class="idref" href="PLF.Types.html#TM.T_0"><span class="id" title="constructor">T_0</span></a>.<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">-</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">apply</span></a> <a class="idref" href="PLF.Types.html#TM.T_Succ"><span class="id" title="constructor">T_Succ</span></a>. <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">apply</span></a> <a class="idref" href="PLF.Types.html#TM.T_0"><span class="id" title="constructor">T_0</span></a>.<br/>
<a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">Qed</span></a>.<br/>

<br/>
</div>

<div class="doc">
(Since we've included all the constructors of the typing relation
    in the hint database, the <span class="inlinecode"><span class="id" title="tactic">auto</span></span> tactic can actually find this
    proof automatically.) 
<div class="paragraph"> </div>

 It's important to realize that the typing relation is a
    <i>conservative</i> (or <i>static</i>) approximation: it does not consider
    what happens when the term is reduced -- in particular, it does
    not calculate the type of its normal form. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Example</span> <a id="TM.has_type_not" class="idref" href="#TM.has_type_not"><span class="id" title="definition">has_type_not</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">:</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">|--</span></a> <a class="idref" href="PLF.Types.html#TM.:tm:tm_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="PLF.Types.html#TM.:tm:tm_scope:'false'"><span class="id" title="notation">false</span></a> <a class="idref" href="PLF.Types.html#TM.:tm:tm_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="PLF.Types.html#TM.:tm:tm_scope:'0'"><span class="id" title="notation">0</span></a> <a class="idref" href="PLF.Types.html#TM.:tm:tm_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <a class="idref" href="PLF.Types.html#TM.:tm:tm_scope:'true'"><span class="id" title="notation">true</span></a> <a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">\</span></a><a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">in</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::'Bool'"><span class="id" title="notation">Bool</span></a> <a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">}&gt;</span></a>.<br/>
<a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">Proof</span></a>.<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">intros</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">Contra</span></a>. <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">solve_by_inverts</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">2</span></a>. <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">Qed</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab714"></a><h4 class="section">Exercise: 1 star, standard, optional (succ_hastype_nat__hastype_nat)</h4>

</div>
<div class="code">
<span class="id" title="keyword">Example</span> <a id="TM.succ_hastype_nat__hastype_nat" class="idref" href="#TM.succ_hastype_nat__hastype_nat"><span class="id" title="definition">succ_hastype_nat__hastype_nat</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">∀</span></a> <a id="t:41" class="idref" href="#t:41"><span class="id" title="binder">t</span></a><a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">|--</span></a>  <a class="idref" href="PLF.Types.html#TM.:tm:tm_scope:'succ'_x"><span class="id" title="notation">succ</span></a> <a class="idref" href="PLF.Types.html#t:41"><span class="id" title="variable">t</span></a> <a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">\</span></a><a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">in</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::'Nat'"><span class="id" title="notation">Nat</span></a> <a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">|--</span></a> <a class="idref" href="PLF.Types.html#t:41"><span class="id" title="variable">t</span></a> <a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">\</span></a><a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">in</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::'Nat'"><span class="id" title="notation">Nat</span></a> <a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">}&gt;</span></a>.<br/>
<a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">Proof</span></a>.<br/>
 <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">Admitted</span></a>.<br/>
</div>

<div class="doc">
<font size=-2>&#9744;</font> 
</div>
<div class="code">

<br/>
</div>

<div class="doc">
<a id="lab715"></a><h3 class="section">Canonical forms</h3>

<div class="paragraph"> </div>

 The following two lemmas capture the fundamental fact that the
    definitions of boolean and numeric values agree with the typing
    relation. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a id="TM.bool_canonical" class="idref" href="#TM.bool_canonical"><span class="id" title="lemma">bool_canonical</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">∀</span></a> <a id="t:42" class="idref" href="#t:42"><span class="id" title="binder">t</span></a><a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">|--</span></a> <a class="idref" href="PLF.Types.html#t:42"><span class="id" title="variable">t</span></a> <a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">\</span></a><a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">in</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::'Bool'"><span class="id" title="notation">Bool</span></a> <a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="PLF.Types.html#TM.value"><span class="id" title="definition">value</span></a> <a class="idref" href="PLF.Types.html#t:42"><span class="id" title="variable">t</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="PLF.Types.html#TM.bvalue"><span class="id" title="inductive">bvalue</span></a> <a class="idref" href="PLF.Types.html#t:42"><span class="id" title="variable">t</span></a>.<br/>
<a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">Proof</span></a>.<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">intros</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">t</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">HT</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">[</span></a><a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">Hb</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">|</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">Hn</span></a><a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">]</span></a>.<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">-</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">assumption</span></a>.<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">-</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">destruct</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">Hn</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">as</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">[</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">|</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">Hs</span></a><a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">]</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">+</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">inversion</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">HT</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">+</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">inversion</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">HT</span></a>.<br/>
<a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">Qed</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="TM.nat_canonical" class="idref" href="#TM.nat_canonical"><span class="id" title="lemma">nat_canonical</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">∀</span></a> <a id="t:43" class="idref" href="#t:43"><span class="id" title="binder">t</span></a><a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">|--</span></a> <a class="idref" href="PLF.Types.html#t:43"><span class="id" title="variable">t</span></a> <a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">\</span></a><a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">in</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::'Nat'"><span class="id" title="notation">Nat</span></a> <a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="PLF.Types.html#TM.value"><span class="id" title="definition">value</span></a> <a class="idref" href="PLF.Types.html#t:43"><span class="id" title="variable">t</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="PLF.Types.html#TM.nvalue"><span class="id" title="inductive">nvalue</span></a> <a class="idref" href="PLF.Types.html#t:43"><span class="id" title="variable">t</span></a>.<br/>
<a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">Proof</span></a>.<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">intros</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">t</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">HT</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">[</span></a><a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">Hb</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">|</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">Hn</span></a><a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">]</span></a>.<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">-</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">inversion</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">Hb</span></a><a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">;</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">subst</span></a><a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">;</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">inversion</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">HT</span></a>.<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">-</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">assumption</span></a>.<br/>
<a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">Qed</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab716"></a><h2 class="section">Progress</h2>

<div class="paragraph"> </div>

 The typing relation enjoys two critical properties.

<div class="paragraph"> </div>

    The first is that well-typed normal forms are not stuck -- or
    conversely, if a term is well typed, then either it is a value or it
    can take at least one step.  We call this <i>progress</i>. 
<div class="paragraph"> </div>

<a id="lab717"></a><h4 class="section">Exercise: 3 stars, standard (finish_progress)</h4>

</div>
<div class="code">
<span class="id" title="keyword">Theorem</span> <a id="TM.progress" class="idref" href="#TM.progress"><span class="id" title="lemma">progress</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">∀</span></a> <a id="t:44" class="idref" href="#t:44"><span class="id" title="binder">t</span></a> <a id="T:45" class="idref" href="#T:45"><span class="id" title="binder">T</span></a><a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">|--</span></a> <a class="idref" href="PLF.Types.html#t:44"><span class="id" title="variable">t</span></a> <a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">\</span></a><a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">in</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">T</span></a> <a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Types.html#TM.value"><span class="id" title="definition">value</span></a> <a class="idref" href="PLF.Types.html#t:44"><span class="id" title="variable">t</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="t':46" class="idref" href="#t':46"><span class="id" title="binder">t'</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="PLF.Types.html#t:44"><span class="id" title="variable">t</span></a> <a class="idref" href="PLF.Types.html#TM.:::x_'--&gt;'_x"><span class="id" title="notation">--&gt;</span></a> <a class="idref" href="PLF.Types.html#t':46"><span class="id" title="variable">t'</span></a>.<br/>

<br/>
</div>

<div class="doc">
Complete the formal proof of the <span class="inlinecode"><span class="id" title="tactic">progress</span></span> property.  (Make sure
    you understand the parts we've given of the informal proof in the
    following exercise before starting -- this will save you a lot of
    time.) 
</div>
<div class="code">
<a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">Proof</span></a>.<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">intros</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">t</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">T</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">HT</span></a>.<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">induction</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">HT</span></a><a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">;</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">auto</span></a>.<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">-</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">right</span></a>. <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">destruct</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">IHHT1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">+</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">apply</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Types.html#TM.bool_canonical"><span class="id" title="lemma">bool_canonical</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">t1</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">HT1</span></a><a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">)</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">in</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">H</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">destruct</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">H</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">×</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">∃</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">t2</span></a>. <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">auto</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">×</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">∃</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">t3</span></a>. <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">auto</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">+</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">destruct</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">H</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">as</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">[</span></a><a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">t1'</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">H1</span></a><a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">]</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">∃</span></a> <a class="idref" href="PLF.Types.html#d0fb5c2ace8d127472c53eefbdee4581"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Types.html#TM.:tm:tm_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">t1'</span></a> <a class="idref" href="PLF.Types.html#TM.:tm:tm_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">t2</span></a> <a class="idref" href="PLF.Types.html#TM.:tm:tm_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">t3</span></a> <a class="idref" href="PLF.Types.html#d0fb5c2ace8d127472c53eefbdee4581"><span class="id" title="notation">}&gt;</span></a>. <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">auto</span></a>.<br/>
 <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">Admitted</span></a>.<br/>
</div>

<div class="doc">
<font size=-2>&#9744;</font> 
<div class="paragraph"> </div>

<a id="lab718"></a><h4 class="section">Exercise: 3 stars, advanced (finish_progress_informal)</h4>


<div class="paragraph"> </div>

    Complete the corresponding informal proof: 
<div class="paragraph"> </div>

 <i>Theorem</i>: If <span class="inlinecode">|--</span> <span class="inlinecode"><span class="id" title="var">t</span></span> <span class="inlinecode">\<span class="id" title="tactic">in</span></span> <span class="inlinecode"><span class="id" title="var">T</span></span>, then either <span class="inlinecode"><span class="id" title="var">t</span></span> is a value or else
    <span class="inlinecode"><span class="id" title="var">t</span></span> <span class="inlinecode">--&gt;</span> <span class="inlinecode"><span class="id" title="var">t'</span></span> for some <span class="inlinecode"><span class="id" title="var">t'</span></span>. 
<div class="paragraph"> </div>

 <i>Proof</i>: By induction on a derivation of <span class="inlinecode">|--</span> <span class="inlinecode"><span class="id" title="var">t</span></span> <span class="inlinecode">\<span class="id" title="tactic">in</span></span> <span class="inlinecode"><span class="id" title="var">T</span></span>.

<div class="paragraph"> </div>

<ul class="doclist">
<li> If the last rule in the derivation is <span class="inlinecode"><span class="id" title="var">T_If</span></span>, then <span class="inlinecode"><span class="id" title="var">t</span></span> <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" title="keyword">if</span></span> <span class="inlinecode"><span class="id" title="var">t1</span></span>
      <span class="inlinecode"><span class="id" title="keyword">then</span></span> <span class="inlinecode"><span class="id" title="var">t2</span></span> <span class="inlinecode"><span class="id" title="keyword">else</span></span> <span class="inlinecode"><span class="id" title="var">t3</span></span>, with <span class="inlinecode">|--</span> <span class="inlinecode"><span class="id" title="var">t1</span></span> <span class="inlinecode">\<span class="id" title="tactic">in</span></span> <span class="inlinecode"><span class="id" title="var">Bool</span></span>, <span class="inlinecode">|--</span> <span class="inlinecode"><span class="id" title="var">t2</span></span> <span class="inlinecode">\<span class="id" title="tactic">in</span></span> <span class="inlinecode"><span class="id" title="var">T</span></span> and <span class="inlinecode">|--</span> <span class="inlinecode"><span class="id" title="var">t3</span></span>
      <span class="inlinecode">\<span class="id" title="tactic">in</span></span> <span class="inlinecode"><span class="id" title="var">T</span></span>.  By the IH, either <span class="inlinecode"><span class="id" title="var">t1</span></span> is a value or else <span class="inlinecode"><span class="id" title="var">t1</span></span> can step
      to some <span class="inlinecode"><span class="id" title="var">t1'</span></span>.

<div class="paragraph"> </div>

<ul class="doclist">
<li> If <span class="inlinecode"><span class="id" title="var">t1</span></span> is a value, then by the canonical forms lemmas
        and the fact that <span class="inlinecode">|--</span> <span class="inlinecode"><span class="id" title="var">t1</span></span> <span class="inlinecode">\<span class="id" title="tactic">in</span></span> <span class="inlinecode"><span class="id" title="var">Bool</span></span> we have that <span class="inlinecode"><span class="id" title="var">t1</span></span>
        is a <span class="inlinecode"><span class="id" title="var">bvalue</span></span> -- i.e., it is either <span class="inlinecode"><span class="id" title="var">true</span></span> or <span class="inlinecode"><span class="id" title="var">false</span></span>.
        If <span class="inlinecode"><span class="id" title="var">t1</span></span> <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" title="var">true</span></span>, then <span class="inlinecode"><span class="id" title="var">t</span></span> steps to <span class="inlinecode"><span class="id" title="var">t2</span></span> by <span class="inlinecode"><span class="id" title="var">ST_IfTrue</span></span>,
        while if <span class="inlinecode"><span class="id" title="var">t1</span></span> <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" title="var">false</span></span>, then <span class="inlinecode"><span class="id" title="var">t</span></span> steps to <span class="inlinecode"><span class="id" title="var">t3</span></span> by
        <span class="inlinecode"><span class="id" title="var">ST_IfFalse</span></span>.  Either way, <span class="inlinecode"><span class="id" title="var">t</span></span> can step, which is what
        we wanted to show.

<div class="paragraph"> </div>


</li>
<li> If <span class="inlinecode"><span class="id" title="var">t1</span></span> itself can take a step, then, by <span class="inlinecode"><span class="id" title="var">ST_If</span></span>, so can
        <span class="inlinecode"><span class="id" title="var">t</span></span>.

<div class="paragraph"> </div>


</li>
</ul>

</li>
<li> 
</li>
</ul>
 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="TM.manual_grade_for_finish_progress_informal" class="idref" href="#TM.manual_grade_for_finish_progress_informal"><span class="id" title="definition">manual_grade_for_finish_progress_informal</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">:</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">(</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a><span class="id" title="inductive">string</span><a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">)</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">:=</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>
</div>

<div class="doc">
<font size=-2>&#9744;</font> 
<div class="paragraph"> </div>

 This theorem is more interesting than the strong progress theorem
    that we saw in the <span class="inlinecode"><span class="id" title="var">Smallstep</span></span> chapter, where <i>all</i> normal forms
    were values.  Here a term can be stuck, but only if it is ill
    typed. 
</div>
<div class="code">

<br/>
</div>

<div class="doc">
<a id="lab719"></a><h2 class="section">Type Preservation</h2>

<div class="paragraph"> </div>

 The second critical property of typing is that, when a well-typed
    term takes a step, the result is a well-typed term (of the same type). 
<div class="paragraph"> </div>

<a id="lab720"></a><h4 class="section">Exercise: 2 stars, standard (finish_preservation)</h4>

</div>
<div class="code">
<span class="id" title="keyword">Theorem</span> <a id="TM.preservation" class="idref" href="#TM.preservation"><span class="id" title="lemma">preservation</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">∀</span></a> <a id="t:47" class="idref" href="#t:47"><span class="id" title="binder">t</span></a> <a id="t':48" class="idref" href="#t':48"><span class="id" title="binder">t'</span></a> <a id="T:49" class="idref" href="#T:49"><span class="id" title="binder">T</span></a><a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">|--</span></a> <a class="idref" href="PLF.Types.html#t:47"><span class="id" title="variable">t</span></a> <a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">\</span></a><a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">in</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">T</span></a> <a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Types.html#t:47"><span class="id" title="variable">t</span></a> <a class="idref" href="PLF.Types.html#TM.:::x_'--&gt;'_x"><span class="id" title="notation">--&gt;</span></a> <a class="idref" href="PLF.Types.html#t':48"><span class="id" title="variable">t'</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">|--</span></a> <a class="idref" href="PLF.Types.html#t':48"><span class="id" title="variable">t'</span></a> <a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">\</span></a><a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">in</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">T</span></a> <a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">}&gt;</span></a>.<br/>

<br/>
</div>

<div class="doc">
Complete the formal proof of the <span class="inlinecode"><span class="id" title="var">preservation</span></span> property.  (Again,
    make sure you understand the informal proof fragment in the
    following exercise first.) 
</div>
<div class="code">

<br/>
<a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">Proof</span></a>.<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">intros</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">t</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">t'</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">T</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">HT</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">HE</span></a>.<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">generalize</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">dependent</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">t'</span></a>.<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">induction</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">HT</span></a><a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">intros</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">t'</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">HE</span></a><a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">try</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">solve_by_invert</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">-</span></a>  <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">inversion</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">HE</span></a><a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">;</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">subst</span></a><a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">;</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">clear</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">HE</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">+</span></a>  <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">assumption</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">+</span></a>  <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">assumption</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">+</span></a>  <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">apply</span></a> <a class="idref" href="PLF.Types.html#TM.T_If"><span class="id" title="constructor">T_If</span></a><a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">;</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">try</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">assumption</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">apply</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">IHHT1</span></a><a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">;</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">assumption</span></a>.<br/>
 <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">Admitted</span></a>.<br/>
</div>

<div class="doc">
<font size=-2>&#9744;</font> 
<div class="paragraph"> </div>

<a id="lab721"></a><h4 class="section">Exercise: 3 stars, advanced (finish_preservation_informal)</h4>


<div class="paragraph"> </div>

    Complete the following informal proof: 
<div class="paragraph"> </div>

 <i>Theorem</i>: If <span class="inlinecode">|--</span> <span class="inlinecode"><span class="id" title="var">t</span></span> <span class="inlinecode">\<span class="id" title="tactic">in</span></span> <span class="inlinecode"><span class="id" title="var">T</span></span> and <span class="inlinecode"><span class="id" title="var">t</span></span> <span class="inlinecode">--&gt;</span> <span class="inlinecode"><span class="id" title="var">t'</span></span>, then <span class="inlinecode">|--</span> <span class="inlinecode"><span class="id" title="var">t'</span></span> <span class="inlinecode">\<span class="id" title="tactic">in</span></span> <span class="inlinecode"><span class="id" title="var">T</span></span>. 
<div class="paragraph"> </div>

 <i>Proof</i>: By induction on a derivation of <span class="inlinecode">|--</span> <span class="inlinecode"><span class="id" title="var">t</span></span> <span class="inlinecode">\<span class="id" title="tactic">in</span></span> <span class="inlinecode"><span class="id" title="var">T</span></span>.

<div class="paragraph"> </div>

<ul class="doclist">
<li> If the last rule in the derivation is <span class="inlinecode"><span class="id" title="var">T_If</span></span>, then <span class="inlinecode"><span class="id" title="var">t</span></span> <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" title="keyword">if</span></span> <span class="inlinecode"><span class="id" title="var">t1</span></span>
      <span class="inlinecode"><span class="id" title="keyword">then</span></span> <span class="inlinecode"><span class="id" title="var">t2</span></span> <span class="inlinecode"><span class="id" title="keyword">else</span></span> <span class="inlinecode"><span class="id" title="var">t3</span></span>, with <span class="inlinecode">|--</span> <span class="inlinecode"><span class="id" title="var">t1</span></span> <span class="inlinecode">\<span class="id" title="tactic">in</span></span> <span class="inlinecode"><span class="id" title="var">Bool</span></span>, <span class="inlinecode">|--</span> <span class="inlinecode"><span class="id" title="var">t2</span></span> <span class="inlinecode">\<span class="id" title="tactic">in</span></span> <span class="inlinecode"><span class="id" title="var">T</span></span> and <span class="inlinecode">|--</span> <span class="inlinecode"><span class="id" title="var">t3</span></span>
      <span class="inlinecode">\<span class="id" title="tactic">in</span></span> <span class="inlinecode"><span class="id" title="var">T</span></span>.

<div class="paragraph"> </div>

      Inspecting the rules for the small-step reduction relation and
      remembering that <span class="inlinecode"><span class="id" title="var">t</span></span> has the form <span class="inlinecode"><span class="id" title="keyword">if</span></span> <span class="inlinecode">...</span>, we see that the
      only ones that could have been used to prove <span class="inlinecode"><span class="id" title="var">t</span></span> <span class="inlinecode">--&gt;</span> <span class="inlinecode"><span class="id" title="var">t'</span></span> are
      <span class="inlinecode"><span class="id" title="var">ST_IfTrue</span></span>, <span class="inlinecode"><span class="id" title="var">ST_IfFalse</span></span>, or <span class="inlinecode"><span class="id" title="var">ST_If</span></span>.

<div class="paragraph"> </div>

<ul class="doclist">
<li> If the last rule was <span class="inlinecode"><span class="id" title="var">ST_IfTrue</span></span>, then <span class="inlinecode"><span class="id" title="var">t'</span></span> <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" title="var">t2</span></span>.  But we
        know that <span class="inlinecode">|--</span> <span class="inlinecode"><span class="id" title="var">t2</span></span> <span class="inlinecode">\<span class="id" title="tactic">in</span></span> <span class="inlinecode"><span class="id" title="var">T</span></span>, so we are done.

<div class="paragraph"> </div>


</li>
<li> If the last rule was <span class="inlinecode"><span class="id" title="var">ST_IfFalse</span></span>, then <span class="inlinecode"><span class="id" title="var">t'</span></span> <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" title="var">t3</span></span>.  But we
        know that <span class="inlinecode">|--</span> <span class="inlinecode"><span class="id" title="var">t3</span></span> <span class="inlinecode">\<span class="id" title="tactic">in</span></span> <span class="inlinecode"><span class="id" title="var">T</span></span>, so we are done.

<div class="paragraph"> </div>


</li>
<li> If the last rule was <span class="inlinecode"><span class="id" title="var">ST_If</span></span>, then <span class="inlinecode"><span class="id" title="var">t'</span></span> <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" title="keyword">if</span></span> <span class="inlinecode"><span class="id" title="var">t1'</span></span> <span class="inlinecode"><span class="id" title="keyword">then</span></span> <span class="inlinecode"><span class="id" title="var">t2</span></span>
        <span class="inlinecode"><span class="id" title="keyword">else</span></span> <span class="inlinecode"><span class="id" title="var">t3</span></span>, where <span class="inlinecode"><span class="id" title="var">t1</span></span> <span class="inlinecode">--&gt;</span> <span class="inlinecode"><span class="id" title="var">t1'</span></span>.  We know <span class="inlinecode">|--</span> <span class="inlinecode"><span class="id" title="var">t1</span></span> <span class="inlinecode">\<span class="id" title="tactic">in</span></span> <span class="inlinecode"><span class="id" title="var">Bool</span></span> so,
        by the IH, <span class="inlinecode">|--</span> <span class="inlinecode"><span class="id" title="var">t1'</span></span> <span class="inlinecode">\<span class="id" title="tactic">in</span></span> <span class="inlinecode"><span class="id" title="var">Bool</span></span>.  The <span class="inlinecode"><span class="id" title="var">T_If</span></span> rule then gives us
        <span class="inlinecode">|--</span> <span class="inlinecode"><span class="id" title="keyword">if</span></span> <span class="inlinecode"><span class="id" title="var">t1'</span></span> <span class="inlinecode"><span class="id" title="keyword">then</span></span> <span class="inlinecode"><span class="id" title="var">t2</span></span> <span class="inlinecode"><span class="id" title="keyword">else</span></span> <span class="inlinecode"><span class="id" title="var">t3</span></span> <span class="inlinecode">\<span class="id" title="tactic">in</span></span> <span class="inlinecode"><span class="id" title="var">T</span></span>, as required.

<div class="paragraph"> </div>


</li>
</ul>

</li>
<li> 
</li>
</ul>

</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="TM.manual_grade_for_finish_preservation_informal" class="idref" href="#TM.manual_grade_for_finish_preservation_informal"><span class="id" title="definition">manual_grade_for_finish_preservation_informal</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">:</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">(</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a><span class="id" title="inductive">string</span><a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">)</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">:=</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>
</div>

<div class="doc">
<font size=-2>&#9744;</font> 
<div class="paragraph"> </div>

<a id="lab722"></a><h4 class="section">Exercise: 3 stars, standard (preservation_alternate_proof)</h4>


<div class="paragraph"> </div>

    Now prove the same property again by induction on the
    <i>evaluation</i> derivation instead of on the typing derivation.
    Begin by carefully reading and thinking about the first few
    lines of the above proofs to make sure you understand what
    each one is doing.  The set-up for this proof is similar, but
    not exactly the same. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Theorem</span> <a id="TM.preservation'" class="idref" href="#TM.preservation'"><span class="id" title="lemma">preservation'</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">∀</span></a> <a id="t:50" class="idref" href="#t:50"><span class="id" title="binder">t</span></a> <a id="t':51" class="idref" href="#t':51"><span class="id" title="binder">t'</span></a> <a id="T:52" class="idref" href="#T:52"><span class="id" title="binder">T</span></a><a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">|--</span></a> <a class="idref" href="PLF.Types.html#t:50"><span class="id" title="variable">t</span></a> <a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">\</span></a><a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">in</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">T</span></a> <a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Types.html#t:50"><span class="id" title="variable">t</span></a> <a class="idref" href="PLF.Types.html#TM.:::x_'--&gt;'_x"><span class="id" title="notation">--&gt;</span></a> <a class="idref" href="PLF.Types.html#t':51"><span class="id" title="variable">t'</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">|--</span></a> <a class="idref" href="PLF.Types.html#t':51"><span class="id" title="variable">t'</span></a> <a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">\</span></a><a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">in</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">T</span></a> <a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">}&gt;</span></a>.<br/>
<a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">Proof</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">with</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">eauto</span></a>.<br/>
 <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">Admitted</span></a>.<br/>
</div>

<div class="doc">
<font size=-2>&#9744;</font> 
<div class="paragraph"> </div>

 The preservation theorem is often called <i>subject reduction</i>,
    because it tells us what happens when the "subject" of the typing
    relation is reduced.  This terminology comes from thinking of
    typing statements as sentences, where the term is the subject and
    the type is the predicate. 
</div>
<div class="code">

<br/>
</div>

<div class="doc">
<a id="lab723"></a><h2 class="section">Type Soundness</h2>

<div class="paragraph"> </div>

 Putting progress and preservation together, we see that a
    well-typed term can never reach a stuck state.  
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a id="TM.multistep" class="idref" href="#TM.multistep"><span class="id" title="definition">multistep</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">:=</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Smallstep.html#multi"><span class="id" title="inductive">multi</span></a> <a class="idref" href="PLF.Types.html#TM.step"><span class="id" title="inductive">step</span></a><a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Notation</span> <a id="ebda40a256fc53fad80986b74c7388c7" class="idref" href="#ebda40a256fc53fad80986b74c7388c7"><span class="id" title="notation">&quot;</span></a><a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">t1 '--&gt;*' t2</span></a>" <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">:=</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Types.html#TM.multistep"><span class="id" title="definition">multistep</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">t1</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">t2</span></a><a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">)</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">40)</span></a>.<br/>

<br/>
<span class="id" title="keyword">Corollary</span> <a id="TM.soundness" class="idref" href="#TM.soundness"><span class="id" title="lemma">soundness</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">∀</span></a> <a id="t:53" class="idref" href="#t:53"><span class="id" title="binder">t</span></a> <a id="t':54" class="idref" href="#t':54"><span class="id" title="binder">t'</span></a> <a id="T:55" class="idref" href="#T:55"><span class="id" title="binder">T</span></a><a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">|--</span></a> <a class="idref" href="PLF.Types.html#t:53"><span class="id" title="variable">t</span></a> <a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">\</span></a><a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">in</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">T</span></a> <a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Types.html#t:53"><span class="id" title="variable">t</span></a> <a class="idref" href="PLF.Types.html#ebda40a256fc53fad80986b74c7388c7"><span class="id" title="notation">--&gt;*</span></a> <a class="idref" href="PLF.Types.html#t':54"><span class="id" title="variable">t'</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~(</span></a><a class="idref" href="PLF.Types.html#TM.stuck"><span class="id" title="definition">stuck</span></a> <a class="idref" href="PLF.Types.html#t':54"><span class="id" title="variable">t'</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">)</span></a>.<br/>
<a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">Proof</span></a>.<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">intros</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">t</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">t'</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">T</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">HT</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">P</span></a>. <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">induction</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">P</span></a><a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">;</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">intros</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">[</span></a><a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">R</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">S</span></a><a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">]</span></a>.<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">-</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">apply</span></a> <a class="idref" href="PLF.Types.html#TM.progress"><span class="id" title="axiom">progress</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">in</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">HT</span></a>. <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">destruct</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">HT</span></a><a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">;</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">auto</span></a>.<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">-</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">apply</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">IHP</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">+</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">apply</span></a> <a class="idref" href="PLF.Types.html#TM.preservation"><span class="id" title="axiom">preservation</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">with</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">t</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">:=</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">x</span></a><a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">);</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">auto</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">+</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">unfold</span></a> <a class="idref" href="PLF.Types.html#TM.stuck"><span class="id" title="definition">stuck</span></a>. <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">split</span></a><a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">;</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">auto</span></a>.<br/>
<a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">Qed</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab724"></a><h2 class="section">Additional Exercises</h2>

<div class="paragraph"> </div>

<a id="lab725"></a><h4 class="section">Exercise: 3 stars, standard, especially useful (subject_expansion)</h4>


<div class="paragraph"> </div>

    Having seen the subject reduction property, one might
    wonder whether the opposite property -- subject <i>expansion</i> --
    also holds.  That is, is it always the case that, if <span class="inlinecode"><span class="id" title="var">t</span></span> <span class="inlinecode">--&gt;</span> <span class="inlinecode"><span class="id" title="var">t'</span></span>
    and <span class="inlinecode">|--</span> <span class="inlinecode"><span class="id" title="var">t'</span></span> <span class="inlinecode">\<span class="id" title="tactic">in</span></span> <span class="inlinecode"><span class="id" title="var">T</span></span>, then <span class="inlinecode">|--</span> <span class="inlinecode"><span class="id" title="var">t</span></span> <span class="inlinecode">\<span class="id" title="tactic">in</span></span> <span class="inlinecode"><span class="id" title="var">T</span></span>?  If so, prove it.  If
    not, give a counter-example.

<div class="paragraph"> </div>

    
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Theorem</span> <a id="TM.subject_expansion" class="idref" href="#TM.subject_expansion"><span class="id" title="lemma">subject_expansion</span></a><a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">:</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">∀</span></a> <a id="t:56" class="idref" href="#t:56"><span class="id" title="binder">t</span></a> <a id="t':57" class="idref" href="#t':57"><span class="id" title="binder">t'</span></a> <a id="T:58" class="idref" href="#T:58"><span class="id" title="binder">T</span></a><a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">,</span></a> <a class="idref" href="PLF.Types.html#t:56"><span class="id" title="variable">t</span></a> <a class="idref" href="PLF.Types.html#TM.:::x_'--&gt;'_x"><span class="id" title="notation">--&gt;</span></a> <a class="idref" href="PLF.Types.html#t':57"><span class="id" title="variable">t'</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">|--</span></a> <a class="idref" href="PLF.Types.html#t':57"><span class="id" title="variable">t'</span></a> <a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">\</span></a><a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">in</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">T</span></a> <a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">|--</span></a> <a class="idref" href="PLF.Types.html#t:56"><span class="id" title="variable">t</span></a> <a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">\</span></a><a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">in</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">T</span></a> <a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">}&gt;</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">∀</span></a> <a id="t:59" class="idref" href="#t:59"><span class="id" title="binder">t</span></a> <a id="t':60" class="idref" href="#t':60"><span class="id" title="binder">t'</span></a> <a id="T:61" class="idref" href="#T:61"><span class="id" title="binder">T</span></a><a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">,</span></a> <a class="idref" href="PLF.Types.html#t:59"><span class="id" title="variable">t</span></a> <a class="idref" href="PLF.Types.html#TM.:::x_'--&gt;'_x"><span class="id" title="notation">--&gt;</span></a> <a class="idref" href="PLF.Types.html#t':60"><span class="id" title="variable">t'</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">|--</span></a> <a class="idref" href="PLF.Types.html#t':60"><span class="id" title="variable">t'</span></a> <a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">\</span></a><a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">in</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">T</span></a> <a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">|--</span></a> <a class="idref" href="PLF.Types.html#t:59"><span class="id" title="variable">t</span></a> <a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">\</span></a><a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">in</span></a> <a class="idref" href="PLF.Types.html#TM.:ty::x"><span class="id" title="notation">T</span></a> <a class="idref" href="PLF.Types.html#ccaaa89793d1ac9439e9ed2ddf867523"><span class="id" title="notation">}&gt;</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
 <span class="id" title="var">Admitted</span>.<br/>
</div>

<div class="doc">
<font size=-2>&#9744;</font> 
<div class="paragraph"> </div>

<a id="lab726"></a><h4 class="section">Exercise: 2 stars, standard (variation1)</h4>


<div class="paragraph"> </div>

    Suppose that we add this new rule to the typing relation:

<div class="paragraph"> </div>

      | T_SuccBool : forall t,
           &lt;{ |-- t \in Bool }&gt; -&gt;
           &lt;{ |--  succ t \in Bool }&gt;

<div class="paragraph"> </div>

   Which of the following properties remain true in the presence of
   this rule?  For each one, write either "remains true" or
   else "becomes false." If a property becomes false, give a
   counterexample.
<ul class="doclist">
<li> Determinism of <span class="inlinecode"><span class="id" title="var">step</span></span>
            
</li>
<li> Progress
            
</li>
<li> Preservation
            
</li>
</ul>

</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="TM.manual_grade_for_variation1" class="idref" href="#TM.manual_grade_for_variation1"><span class="id" title="definition">manual_grade_for_variation1</span></a> : <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> (<a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a><span class="id" title="inductive">string</span>) := <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>
</div>

<div class="doc">
<font size=-2>&#9744;</font> 
<div class="paragraph"> </div>

<a id="lab727"></a><h4 class="section">Exercise: 2 stars, standard (variation2)</h4>


<div class="paragraph"> </div>

    Suppose, instead, that we add this new rule to the <span class="inlinecode"><span class="id" title="var">step</span></span> relation:

<div class="paragraph"> </div>

      | ST_Funny1 : forall t2 t3,
           (&lt;{ if true then t2 else t3 }&gt;) --&gt; t3

<div class="paragraph"> </div>

   Which of the above properties become false in the presence of
   this rule?  For each one that does, give a counter-example.
            
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="TM.manual_grade_for_variation2" class="idref" href="#TM.manual_grade_for_variation2"><span class="id" title="definition">manual_grade_for_variation2</span></a> : <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> (<a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a><span class="id" title="inductive">string</span>) := <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>
</div>

<div class="doc">
<font size=-2>&#9744;</font> 
<div class="paragraph"> </div>

<a id="lab728"></a><h4 class="section">Exercise: 2 stars, standard, optional (variation3)</h4>


<div class="paragraph"> </div>

    Suppose instead that we add this rule:

<div class="paragraph"> </div>

      | ST_Funny2 : forall t1 t2 t2' t3,
           t2 --&gt; t2' -&gt;
           (&lt;{ if t1 then t2 else t3 }&gt;) --&gt; (&lt;{ if t1 then t2' else t3 }&gt;)

<div class="paragraph"> </div>

   Which of the above properties become false in the presence of
   this rule?  For each one that does, give a counter-example.
             <font size=-2>&#9744;</font> 
<div class="paragraph"> </div>

<a id="lab729"></a><h4 class="section">Exercise: 2 stars, standard, optional (variation4)</h4>


<div class="paragraph"> </div>

    Suppose instead that we add this rule:

<div class="paragraph"> </div>

      | ST_Funny3 :
          (&lt;{pred false}&gt;) --&gt; (&lt;{ pred (pred false)}&gt;)

<div class="paragraph"> </div>

   Which of the above properties become false in the presence of
   this rule?  For each one that does, give a counter-example.
 <font size=-2>&#9744;</font> 
<div class="paragraph"> </div>

<a id="lab730"></a><h4 class="section">Exercise: 2 stars, standard, optional (variation5)</h4>


<div class="paragraph"> </div>

    Suppose instead that we add this rule:

<div class="paragraph"> </div>

      | T_Funny4 :
            |-- &lt;{ 0 }&gt; \in Bool

<div class="paragraph"> </div>

   Which of the above properties become false in the presence of
   this rule?  For each one that does, give a counter-example.
 <font size=-2>&#9744;</font> 
<div class="paragraph"> </div>

<a id="lab731"></a><h4 class="section">Exercise: 2 stars, standard, optional (variation6)</h4>


<div class="paragraph"> </div>

    Suppose instead that we add this rule:

<div class="paragraph"> </div>

      | T_Funny5 :
            |--  pred 0 }&gt; \in Bool

<div class="paragraph"> </div>

   Which of the above properties become false in the presence of
   this rule?  For each one that does, give a counter-example.
 <font size=-2>&#9744;</font> 
<div class="paragraph"> </div>

<a id="lab732"></a><h4 class="section">Exercise: 3 stars, standard, optional (more_variations)</h4>


<div class="paragraph"> </div>

    Make up some exercises of your own along the same lines as
    the ones above.  Try to find ways of selectively breaking
    properties -- i.e., ways of changing the definitions that
    break just one of the properties and leave the others alone.

</div>
<div class="code">

<br/>
</div>

<div class="doc">
<a id="lab733"></a><h4 class="section">Exercise: 1 star, standard (remove_pred0)</h4>


<div class="paragraph"> </div>

    The reduction rule <span class="inlinecode"><span class="id" title="var">ST_Pred0</span></span> is a bit counter-intuitive: we
    might feel that it makes more sense for the predecessor of <span class="inlinecode">0</span> to
    be undefined, rather than being defined to be <span class="inlinecode">0</span>.  Can we
    achieve this simply by removing the rule from the definition of
    <span class="inlinecode"><span class="id" title="var">step</span></span>?  Would doing so create any problems elsewhere?

<div class="paragraph"> </div>


</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="TM.manual_grade_for_remove_pred0" class="idref" href="#TM.manual_grade_for_remove_pred0"><span class="id" title="definition">manual_grade_for_remove_pred0</span></a>  : <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> (<a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a><span class="id" title="inductive">string</span>) := <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>
</div>

<div class="doc">
<font size=-2>&#9744;</font> 
<div class="paragraph"> </div>

<a id="lab734"></a><h4 class="section">Exercise: 4 stars, advanced (prog_pres_bigstep)</h4>


<div class="paragraph"> </div>

    Suppose our evaluation relation is defined in the big-step style.
    State appropriate analogs of the progress and preservation
    properties. (You do not need to prove them.)

<div class="paragraph"> </div>

    Can you see any limitations of either of your properties?  Do they
    allow for nonterminating programs?  Why might we prefer the
    small-step semantics for stating preservation and progress?

<div class="paragraph"> </div>


</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="TM.manual_grade_for_prog_pres_bigstep" class="idref" href="#TM.manual_grade_for_prog_pres_bigstep"><span class="id" title="definition">manual_grade_for_prog_pres_bigstep</span></a> : <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> (<a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a><span class="id" title="inductive">string</span>) := <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>
</div>

<div class="doc">
<font size=-2>&#9744;</font> 
</div>
<div class="code">
<span class="id" title="keyword">End</span> <a class="idref" href="PLF.Types.html#TM"><span class="id" title="module">TM</span></a>.<br/>

<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://rocq-prover.org/">coqdoc</a>
</div>

</div>

</body>
</html>