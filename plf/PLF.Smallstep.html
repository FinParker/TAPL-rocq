<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<link href="../common/css/tapl.css" rel="stylesheet" type="text/css" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<title>PLF.Smallstep</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library PLF.Smallstep</h1>

<div class="code">
</div>

<div class="doc">
<a id="lab511"></a><h1 class="section">Smallstep: Small-step Operational Semantics</h1>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Set</span> <span class="id" title="var">Warnings</span> "-notation-overridden,-parsing,-deprecated-hint-without-locality".<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Stdlib</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">Arith</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Stdlib</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">EqNat</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Stdlib</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">Init.Nat</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Stdlib</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">Lia</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Stdlib</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">List</span>. <span class="id" title="keyword">Import</span> <span class="id" title="module">ListNotations</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">PLF</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="PLF.Maps.html#"><span class="id" title="library">Maps</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">PLF</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="PLF.Imp.html#"><span class="id" title="library">Imp</span></a>.<br/>
<span class="id" title="keyword">Set</span> <span class="id" title="var">Default</span> <span class="id" title="keyword">Goal</span> <span class="id" title="var">Selector</span> "!".<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="FILL_IN_HERE" class="idref" href="#FILL_IN_HERE"><span class="id" title="definition">FILL_IN_HERE</span></a> := <a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#True"><span class="id" title="inductive">True</span></a><a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a>.<br/>

<br/>
</div>

<div class="doc">
The evaluators we have seen so far (for <span class="inlinecode"><span class="id" title="var">aexp</span></span>s, <span class="inlinecode"><span class="id" title="var">bexp</span></span>s,
    commands, ...) have been formulated in a "big-step" style: they
    specify how a given expression can be evaluated to its final
    value (or a how command plus a store can be evaluated to a final
    store) "all in one big step."

<div class="paragraph"> </div>

    This style is simple and natural for many purposes -- indeed,
    Gilles Kahn, who popularized it, called it <i>natural semantics</i>.
    But there are some things it does not do well.  In particular, it
    does not give us a convenient way of talking about <i>concurrent</i>
    programming languages, where the semantics of a program -- i.e.,
    the essence of how it behaves -- is not just which input states
    get mapped to which output states, but also includes the
    intermediate states that it passes through along the way; this is
    crucial, since these states can also be observed by concurrently
    executing code.

<div class="paragraph"> </div>

    Another shortcoming of the big-step style is more technical but
    equally critical in many situations.

<div class="paragraph"> </div>

    Suppose we want to define a variant of Imp where variables could
    hold <i>either</i> numbers <i>or</i> lists of numbers.  In the syntax of
    this extended language, it will be possible to write strange
    expressions like <span class="inlinecode">2</span> <span class="inlinecode">+</span> <span class="inlinecode"><span class="id" title="var">nil</span></span>, and our semantics for arithmetic
    expressions will then need to say something about how such
    expressions behave.  One possibility is to maintain the convention
    that every arithmetic expression evaluates to some number by
    choosing some way of viewing a list as a number -- e.g., by
    specifying that a list should be interpreted as <span class="inlinecode">0</span> when it occurs
    in a context expecting a number.  But this would be a bit of a
    hack.

<div class="paragraph"> </div>

    A much more natural approach is simply to say that the behavior of
    the expression <span class="inlinecode">2+<span class="id" title="var">nil</span></span> is <i>undefined</i> -- i.e., it doesn't evaluate
    to any result at all.  And we can easily do this: we just have to
    formulate <span class="inlinecode"><span class="id" title="var">aeval</span></span> and <span class="inlinecode"><span class="id" title="var">beval</span></span> as <span class="inlinecode"><span class="id" title="keyword">Inductive</span></span> propositions rather
    than <span class="inlinecode"><span class="id" title="keyword">Fixpoint</span></span>s, so that we can make them partial functions
    instead of total ones.

<div class="paragraph"> </div>

    Now, however, we encounter a serious deficiency.  In this
    language, a command might fail to map a given starting state to
    any ending state for <i>two quite different reasons</i>: either because
    the execution gets into an infinite loop or because, at some
    point, the program tries to do an operation that makes no sense,
    such as adding a number to a list, so that none of the evaluation
    rules can be applied.

<div class="paragraph"> </div>

    These two outcomes -- nontermination vs. getting stuck in an
    erroneous configuration -- should not be confused.  In particular,
    we want to <i>allow</i> the first (because permitting the possibility
    of infinite loops is the price we pay for the convenience of
    programming with general looping constructs like <span class="inlinecode"><span class="id" title="var">while</span></span>) but
    <i>prevent</i> the second (which is just wrong), for example by adding
    some form of <i>typechecking</i> to the language.  Indeed, this will be
    a major topic in the rest of the course.  As a first step, we need
    a way of presenting the semantics that allows us to distinguish
    nontermination from erroneous "stuck states."

<div class="paragraph"> </div>

    So, for lots of reasons, we'd like to have a finer-grained way of
    defining and reasoning about program behaviors.  This is the topic
    of the present chapter.  Our goal is to replace the "big-step"
    <span class="inlinecode"><span class="id" title="tactic">eval</span></span> relation with a "small-step" relation that specifies, for a
    given program, how its atomic steps of computation are
    performed. 
</div>
<div class="code">

<br/>
</div>

<div class="doc">
<a id="lab512"></a><h1 class="section">A Toy Language</h1>

<div class="paragraph"> </div>

 To save space in the discussion, let's go back to an
    incredibly simple language containing just constants and
    addition.  (We use single letters -- <span class="inlinecode"><span class="id" title="var">C</span></span> and <span class="inlinecode"><span class="id" title="var">P</span></span> (for Constant and
    Plus) -- as constructor names, for brevity.)  At the end of the
    chapter, we'll see how to apply the same techniques to the full
    Imp language.  
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Inductive</span> <a id="tm" class="idref" href="#tm"><span class="id" title="definition, inductive"><span id="tm_rect" class="id"><span id="tm_ind" class="id"><span id="tm_rec" class="id"><span id="tm_sind" class="id">tm</span></span></span></span></span></a> : <span class="id" title="keyword">Type</span> :=<br/>
&nbsp;&nbsp;| <a id="C" class="idref" href="#C"><span class="id" title="constructor">C</span></a> : <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="PLF.Smallstep.html#tm:1"><span class="id" title="inductive">tm</span></a>         <br/>
&nbsp;&nbsp;| <a id="P" class="idref" href="#P"><span class="id" title="constructor">P</span></a> : <a class="idref" href="PLF.Smallstep.html#tm:1"><span class="id" title="inductive">tm</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="PLF.Smallstep.html#tm:1"><span class="id" title="inductive">tm</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="PLF.Smallstep.html#tm:1"><span class="id" title="inductive">tm</span></a>. 
<br/>
</div>

<div class="doc">
Here is a standard evaluator for this language, written in
    the big-step style that we've been using up to this point. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Fixpoint</span> <a id="evalF" class="idref" href="#evalF"><span class="id" title="definition">evalF</span></a> (<a id="t:3" class="idref" href="#t:3"><span class="id" title="binder">t</span></a> : <a class="idref" href="PLF.Smallstep.html#tm"><span class="id" title="inductive">tm</span></a>) : <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="PLF.Smallstep.html#t:3"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="PLF.Smallstep.html#C"><span class="id" title="constructor">C</span></a> <span class="id" title="var">n</span> ⇒ <span class="id" title="var">n</span><br/>
&nbsp;&nbsp;| <a class="idref" href="PLF.Smallstep.html#P"><span class="id" title="constructor">P</span></a> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span> ⇒ <a class="idref" href="PLF.Smallstep.html#evalF:4"><span class="id" title="definition">evalF</span></a> <span class="id" title="var">t1</span> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Nat.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="PLF.Smallstep.html#evalF:4"><span class="id" title="definition">evalF</span></a> <span class="id" title="var">t2</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
Here is the same evaluator, written in exactly the same
    style, but formulated as an inductively defined relation.
    We use the notation <span class="inlinecode"><span class="id" title="var">t</span></span> <span class="inlinecode">==&gt;</span> <span class="inlinecode"><span class="id" title="var">n</span></span> for "<span class="inlinecode"><span class="id" title="var">t</span></span> evaluates to <span class="inlinecode"><span class="id" title="var">n</span></span>."
<hr/>
                               (E_Const)
                               C n ==&gt; n

<div class="paragraph"> </div>

                               t1 ==&gt; n1
                               t2 ==&gt; n2
<hr/>
                         (E_Plus)
                           P t1 t2 ==&gt; n1 + n2

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Reserved Notation</span> &quot; t '==&gt;' n " (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 50, <span class="id" title="tactic">left</span> <span class="id" title="keyword">associativity</span>).<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a id="eval" class="idref" href="#eval"><span class="id" title="definition, inductive"><span id="eval_ind" class="id"><span id="eval_sind" class="id">eval</span></span></span></a> : <a class="idref" href="PLF.Smallstep.html#tm"><span class="id" title="inductive">tm</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a id="E_Const" class="idref" href="#E_Const"><span class="id" title="constructor">E_Const</span></a> : <span class="id" title="keyword">∀</span> <a id="n:8" class="idref" href="#n:8"><span class="id" title="binder">n</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#C"><span class="id" title="constructor">C</span></a> <a class="idref" href="PLF.Smallstep.html#n:8"><span class="id" title="variable">n</span></a> <a class="idref" href="PLF.Smallstep.html#7cf9375cc810cd6cb65186f6ede01686"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="PLF.Smallstep.html#n:8"><span class="id" title="variable">n</span></a><br/>
&nbsp;&nbsp;| <a id="E_Plus" class="idref" href="#E_Plus"><span class="id" title="constructor">E_Plus</span></a> : <span class="id" title="keyword">∀</span> <a id="t1:9" class="idref" href="#t1:9"><span class="id" title="binder">t1</span></a> <a id="t2:10" class="idref" href="#t2:10"><span class="id" title="binder">t2</span></a> <a id="n1:11" class="idref" href="#n1:11"><span class="id" title="binder">n1</span></a> <a id="n2:12" class="idref" href="#n2:12"><span class="id" title="binder">n2</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#t1:9"><span class="id" title="variable">t1</span></a> <a class="idref" href="PLF.Smallstep.html#7cf9375cc810cd6cb65186f6ede01686"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="PLF.Smallstep.html#n1:11"><span class="id" title="variable">n1</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#t2:10"><span class="id" title="variable">t2</span></a> <a class="idref" href="PLF.Smallstep.html#7cf9375cc810cd6cb65186f6ede01686"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="PLF.Smallstep.html#n2:12"><span class="id" title="variable">n2</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#P"><span class="id" title="constructor">P</span></a> <a class="idref" href="PLF.Smallstep.html#t1:9"><span class="id" title="variable">t1</span></a> <a class="idref" href="PLF.Smallstep.html#t2:10"><span class="id" title="variable">t2</span></a> <a class="idref" href="PLF.Smallstep.html#7cf9375cc810cd6cb65186f6ede01686"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="PLF.Smallstep.html#7cf9375cc810cd6cb65186f6ede01686"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Smallstep.html#n1:11"><span class="id" title="variable">n1</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Nat.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="PLF.Smallstep.html#n2:12"><span class="id" title="variable">n2</span></a><a class="idref" href="PLF.Smallstep.html#7cf9375cc810cd6cb65186f6ede01686"><span class="id" title="notation">)</span></a><br/>
<br/>
<span class="id" title="keyword">where</span> <a id="7cf9375cc810cd6cb65186f6ede01686" class="idref" href="#7cf9375cc810cd6cb65186f6ede01686"><span class="id" title="notation">&quot;</span></a> t '==&gt;' n " := (<a class="idref" href="PLF.Smallstep.html#eval:7"><span class="id" title="inductive">eval</span></a> <span class="id" title="var">t</span> <span class="id" title="var">n</span>).<br/>

<br/>
<span class="id" title="keyword">Module</span> <a id="SimpleArith1" class="idref" href="#SimpleArith1"><span class="id" title="module">SimpleArith1</span></a>.<br/>

<br/>
</div>

<div class="doc">
Now, here is the corresponding <i>small-step</i> evaluation relation.
<hr/>
        (ST_PlusConstConst)
                     P (C n1) (C n2) --&gt; C (n1 + n2)

<div class="paragraph"> </div>

                              t1 --&gt; t1'
<hr/>
                        (ST_Plus1)
                         P t1 t2 --&gt; P t1' t2

<div class="paragraph"> </div>

                              t2 --&gt; t2'
<hr/>
                   (ST_Plus2)
                      P (C n1) t2 --&gt; P (C n1) t2'

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Reserved Notation</span> &quot; t '--&gt;' t' " (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 40).<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a id="SimpleArith1.step" class="idref" href="#SimpleArith1.step"><span class="id" title="definition, inductive"><span id="SimpleArith1.step_ind" class="id"><span id="SimpleArith1.step_sind" class="id">step</span></span></span></a> : <a class="idref" href="PLF.Smallstep.html#tm"><span class="id" title="inductive">tm</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="PLF.Smallstep.html#tm"><span class="id" title="inductive">tm</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a id="SimpleArith1.ST_PlusConstConst" class="idref" href="#SimpleArith1.ST_PlusConstConst"><span class="id" title="constructor">ST_PlusConstConst</span></a> : <span class="id" title="keyword">∀</span> <a id="n1:15" class="idref" href="#n1:15"><span class="id" title="binder">n1</span></a> <a id="n2:16" class="idref" href="#n2:16"><span class="id" title="binder">n2</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#P"><span class="id" title="constructor">P</span></a> (<a class="idref" href="PLF.Smallstep.html#C"><span class="id" title="constructor">C</span></a> <a class="idref" href="PLF.Smallstep.html#n1:15"><span class="id" title="variable">n1</span></a>) (<a class="idref" href="PLF.Smallstep.html#C"><span class="id" title="constructor">C</span></a> <a class="idref" href="PLF.Smallstep.html#n2:16"><span class="id" title="variable">n2</span></a>) <a class="idref" href="PLF.Smallstep.html#SimpleArith1.:::x_'--&gt;'_x"><span class="id" title="notation">--&gt;</span></a> <a class="idref" href="PLF.Smallstep.html#C"><span class="id" title="constructor">C</span></a> (<a class="idref" href="PLF.Smallstep.html#n1:15"><span class="id" title="variable">n1</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Nat.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="PLF.Smallstep.html#n2:16"><span class="id" title="variable">n2</span></a>)<br/>
&nbsp;&nbsp;| <a id="SimpleArith1.ST_Plus1" class="idref" href="#SimpleArith1.ST_Plus1"><span class="id" title="constructor">ST_Plus1</span></a> : <span class="id" title="keyword">∀</span> <a id="t1:17" class="idref" href="#t1:17"><span class="id" title="binder">t1</span></a> <a id="t1':18" class="idref" href="#t1':18"><span class="id" title="binder">t1'</span></a> <a id="t2:19" class="idref" href="#t2:19"><span class="id" title="binder">t2</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#t1:17"><span class="id" title="variable">t1</span></a> <a class="idref" href="PLF.Smallstep.html#SimpleArith1.:::x_'--&gt;'_x"><span class="id" title="notation">--&gt;</span></a> <a class="idref" href="PLF.Smallstep.html#t1':18"><span class="id" title="variable">t1'</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#P"><span class="id" title="constructor">P</span></a> <a class="idref" href="PLF.Smallstep.html#t1:17"><span class="id" title="variable">t1</span></a> <a class="idref" href="PLF.Smallstep.html#t2:19"><span class="id" title="variable">t2</span></a> <a class="idref" href="PLF.Smallstep.html#SimpleArith1.:::x_'--&gt;'_x"><span class="id" title="notation">--&gt;</span></a> <a class="idref" href="PLF.Smallstep.html#P"><span class="id" title="constructor">P</span></a> <a class="idref" href="PLF.Smallstep.html#t1':18"><span class="id" title="variable">t1'</span></a> <a class="idref" href="PLF.Smallstep.html#t2:19"><span class="id" title="variable">t2</span></a><br/>
&nbsp;&nbsp;| <a id="SimpleArith1.ST_Plus2" class="idref" href="#SimpleArith1.ST_Plus2"><span class="id" title="constructor">ST_Plus2</span></a> : <span class="id" title="keyword">∀</span> <a id="n1:20" class="idref" href="#n1:20"><span class="id" title="binder">n1</span></a> <a id="t2:21" class="idref" href="#t2:21"><span class="id" title="binder">t2</span></a> <a id="t2':22" class="idref" href="#t2':22"><span class="id" title="binder">t2'</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#t2:21"><span class="id" title="variable">t2</span></a> <a class="idref" href="PLF.Smallstep.html#SimpleArith1.:::x_'--&gt;'_x"><span class="id" title="notation">--&gt;</span></a> <a class="idref" href="PLF.Smallstep.html#t2':22"><span class="id" title="variable">t2'</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#P"><span class="id" title="constructor">P</span></a> (<a class="idref" href="PLF.Smallstep.html#C"><span class="id" title="constructor">C</span></a> <a class="idref" href="PLF.Smallstep.html#n1:20"><span class="id" title="variable">n1</span></a>) <a class="idref" href="PLF.Smallstep.html#t2:21"><span class="id" title="variable">t2</span></a> <a class="idref" href="PLF.Smallstep.html#SimpleArith1.:::x_'--&gt;'_x"><span class="id" title="notation">--&gt;</span></a> <a class="idref" href="PLF.Smallstep.html#P"><span class="id" title="constructor">P</span></a> (<a class="idref" href="PLF.Smallstep.html#C"><span class="id" title="constructor">C</span></a> <a class="idref" href="PLF.Smallstep.html#n1:20"><span class="id" title="variable">n1</span></a>) <a class="idref" href="PLF.Smallstep.html#t2':22"><span class="id" title="variable">t2'</span></a><br/>
<br/>
&nbsp;&nbsp;<span class="id" title="keyword">where</span> <a id="SimpleArith1.:::x_'--&gt;'_x" class="idref" href="#SimpleArith1.:::x_'--&gt;'_x"><span class="id" title="notation">&quot;</span></a> t '--&gt;' t' " := (<a class="idref" href="PLF.Smallstep.html#step:14"><span class="id" title="inductive">step</span></a> <span class="id" title="var">t</span> <span class="id" title="var">t'</span>).<br/>

<br/>
</div>

<div class="doc">
Things to notice:

<div class="paragraph"> </div>

<ul class="doclist">
<li> We are defining a single reduction step, in which just one <span class="inlinecode"><span class="id" title="var">P</span></span>
      node is replaced by its value.

<div class="paragraph"> </div>


</li>
<li> Each step finds the <i>leftmost</i> <span class="inlinecode"><span class="id" title="var">P</span></span> node that is ready to
      go (both of its operands are constants) and rewrites it in
      place.  The first rule tells how to rewrite this <span class="inlinecode"><span class="id" title="var">P</span></span> node
      itself; the other two rules tell how to find it.

<div class="paragraph"> </div>


</li>
<li> A term that is just a constant cannot take a step. 
</li>
</ul>

<div class="paragraph"> </div>

 Let's pause and check a couple of examples of reasoning with
    the <span class="inlinecode"><span class="id" title="var">step</span></span> relation... 
<div class="paragraph"> </div>

 If <span class="inlinecode"><span class="id" title="var">t1</span></span> can take a step to <span class="inlinecode"><span class="id" title="var">t1'</span></span>, then <span class="inlinecode"><span class="id" title="var">P</span></span> <span class="inlinecode"><span class="id" title="var">t1</span></span> <span class="inlinecode"><span class="id" title="var">t2</span></span> steps
    to <span class="inlinecode"><span class="id" title="var">P</span></span> <span class="inlinecode"><span class="id" title="var">t1'</span></span> <span class="inlinecode"><span class="id" title="var">t2</span></span>: 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Example</span> <a id="SimpleArith1.test_step_1" class="idref" href="#SimpleArith1.test_step_1"><span class="id" title="definition">test_step_1</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#P"><span class="id" title="constructor">P</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="PLF.Smallstep.html#P"><span class="id" title="constructor">P</span></a> (<a class="idref" href="PLF.Smallstep.html#C"><span class="id" title="constructor">C</span></a> 1) (<a class="idref" href="PLF.Smallstep.html#C"><span class="id" title="constructor">C</span></a> 3))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="PLF.Smallstep.html#P"><span class="id" title="constructor">P</span></a> (<a class="idref" href="PLF.Smallstep.html#C"><span class="id" title="constructor">C</span></a> 2) (<a class="idref" href="PLF.Smallstep.html#C"><span class="id" title="constructor">C</span></a> 4))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#SimpleArith1.:::x_'--&gt;'_x"><span class="id" title="notation">--&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#P"><span class="id" title="constructor">P</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="PLF.Smallstep.html#C"><span class="id" title="constructor">C</span></a> 4)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="PLF.Smallstep.html#P"><span class="id" title="constructor">P</span></a> (<a class="idref" href="PLF.Smallstep.html#C"><span class="id" title="constructor">C</span></a> 2) (<a class="idref" href="PLF.Smallstep.html#C"><span class="id" title="constructor">C</span></a> 4)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#SimpleArith1.ST_Plus1"><span class="id" title="constructor">ST_Plus1</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#SimpleArith1.ST_PlusConstConst"><span class="id" title="constructor">ST_PlusConstConst</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab513"></a><h4 class="section">Exercise: 1 star, standard (test_step_2)</h4>


<div class="paragraph"> </div>

    Right-hand sides of sums can take a step only when the
    left-hand side is finished: if <span class="inlinecode"><span class="id" title="var">t2</span></span> can take a step to <span class="inlinecode"><span class="id" title="var">t2'</span></span>,
    then <span class="inlinecode"><span class="id" title="var">P</span></span> <span class="inlinecode">(<span class="id" title="var">C</span></span> <span class="inlinecode"><span class="id" title="var">n</span>)</span> <span class="inlinecode"><span class="id" title="var">t2</span></span> steps to <span class="inlinecode"><span class="id" title="var">P</span></span> <span class="inlinecode">(<span class="id" title="var">C</span></span> <span class="inlinecode"><span class="id" title="var">n</span>)</span> <span class="inlinecode"><span class="id" title="var">t2'</span></span>: 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Example</span> <a id="SimpleArith1.test_step_2" class="idref" href="#SimpleArith1.test_step_2"><span class="id" title="definition">test_step_2</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#P"><span class="id" title="constructor">P</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="PLF.Smallstep.html#C"><span class="id" title="constructor">C</span></a> 0)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="PLF.Smallstep.html#P"><span class="id" title="constructor">P</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="PLF.Smallstep.html#C"><span class="id" title="constructor">C</span></a> 2)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="PLF.Smallstep.html#P"><span class="id" title="constructor">P</span></a> (<a class="idref" href="PLF.Smallstep.html#C"><span class="id" title="constructor">C</span></a> 1) (<a class="idref" href="PLF.Smallstep.html#C"><span class="id" title="constructor">C</span></a> 3)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#SimpleArith1.:::x_'--&gt;'_x"><span class="id" title="notation">--&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#P"><span class="id" title="constructor">P</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="PLF.Smallstep.html#C"><span class="id" title="constructor">C</span></a> 0)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="PLF.Smallstep.html#P"><span class="id" title="constructor">P</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="PLF.Smallstep.html#C"><span class="id" title="constructor">C</span></a> 2)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="PLF.Smallstep.html#C"><span class="id" title="constructor">C</span></a> 4)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
 <span class="id" title="var">Admitted</span>.<br/>
</div>

<div class="doc">
<font size=-2>&#9744;</font> 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="PLF.Smallstep.html#SimpleArith1"><span class="id" title="module">SimpleArith1</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab514"></a><h1 class="section">Relations</h1>

<div class="paragraph"> </div>

 We will be working with several different single-step relations,
    so it is helpful to generalize a bit and state a few definitions
    and theorems about relations in general.  (The optional chapter
    <span class="inlinecode"><span class="id" title="var">Rel.v</span></span> in <i>Logical Foundations</i> develops some of these ideas in
    a bit more detail; it may be useful if the treatment here feels
    too terse.) 
<div class="paragraph"> </div>

 A <i>binary relation</i> on a set <span class="inlinecode"><span class="id" title="var">X</span></span> is a family of propositions
    parameterized by two elements of <span class="inlinecode"><span class="id" title="var">X</span></span> -- i.e., a proposition about
    pairs of elements of <span class="inlinecode"><span class="id" title="var">X</span></span>.  
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a id="relation" class="idref" href="#relation"><span class="id" title="definition">relation</span></a> (<a id="X:23" class="idref" href="#X:23"><span class="id" title="binder">X</span></a> : <span class="id" title="keyword">Type</span>) := <a class="idref" href="PLF.Smallstep.html#X:23"><span class="id" title="variable">X</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="PLF.Smallstep.html#X:23"><span class="id" title="variable">X</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>.<br/>

<br/>
</div>

<div class="doc">
Our main examples of such relations in this chapter will be
    the single-step reduction relation, <span class="inlinecode">--&gt;</span>, and its multi-step
    variant, <span class="inlinecode">--&gt;*</span>, defined below, but there are many other
    examples -- e.g., the "equals," "less than," "less than or equal
    to," and "is the square of" relations on numbers, and the "prefix
    of" relation on lists and strings. 
<div class="paragraph"> </div>

 One simple property of the <span class="inlinecode">--&gt;</span> relation is that, like the
    big-step evaluation relation for Imp, it is <i>deterministic</i>.

<div class="paragraph"> </div>

    <i>Theorem</i>: For each <span class="inlinecode"><span class="id" title="var">t</span></span>, there is at most one <span class="inlinecode"><span class="id" title="var">t'</span></span> such that <span class="inlinecode"><span class="id" title="var">t</span></span>
    steps to <span class="inlinecode"><span class="id" title="var">t'</span></span> (<span class="inlinecode"><span class="id" title="var">t</span></span> <span class="inlinecode">--&gt;</span> <span class="inlinecode"><span class="id" title="var">t'</span></span> is provable). 
<div class="paragraph"> </div>

 <i>Proof sketch</i>: We show that if <span class="inlinecode"><span class="id" title="var">x</span></span> steps to both <span class="inlinecode"><span class="id" title="var">y1</span></span> and
    <span class="inlinecode"><span class="id" title="var">y2</span></span>, then <span class="inlinecode"><span class="id" title="var">y1</span></span> and <span class="inlinecode"><span class="id" title="var">y2</span></span> are equal, by induction on a derivation
    of <span class="inlinecode"><span class="id" title="var">step</span></span> <span class="inlinecode"><span class="id" title="var">x</span></span> <span class="inlinecode"><span class="id" title="var">y1</span></span>.  There are several cases to consider, depending on
    the last rule used in this derivation and the last rule in the
    given derivation of <span class="inlinecode"><span class="id" title="var">step</span></span> <span class="inlinecode"><span class="id" title="var">x</span></span> <span class="inlinecode"><span class="id" title="var">y2</span></span>.

<div class="paragraph"> </div>

<ul class="doclist">
<li> If both are <span class="inlinecode"><span class="id" title="var">ST_PlusConstConst</span></span>, the result is immediate.

<div class="paragraph"> </div>


</li>
<li> The cases when both derivations end with <span class="inlinecode"><span class="id" title="var">ST_Plus1</span></span> or
        <span class="inlinecode"><span class="id" title="var">ST_Plus2</span></span> follow by the induction hypothesis.

<div class="paragraph"> </div>


</li>
<li> It cannot happen that one is <span class="inlinecode"><span class="id" title="var">ST_PlusConstConst</span></span> and the other
        is <span class="inlinecode"><span class="id" title="var">ST_Plus1</span></span> or <span class="inlinecode"><span class="id" title="var">ST_Plus2</span></span>, since this would imply that <span class="inlinecode"><span class="id" title="var">x</span></span>
        has the form <span class="inlinecode"><span class="id" title="var">P</span></span> <span class="inlinecode"><span class="id" title="var">t1</span></span> <span class="inlinecode"><span class="id" title="var">t2</span></span> where both <span class="inlinecode"><span class="id" title="var">t1</span></span> and <span class="inlinecode"><span class="id" title="var">t2</span></span> are
        constants (by <span class="inlinecode"><span class="id" title="var">ST_PlusConstConst</span></span>) <i>and</i> one of <span class="inlinecode"><span class="id" title="var">t1</span></span> or <span class="inlinecode"><span class="id" title="var">t2</span></span>
        has the form <span class="inlinecode"><span class="id" title="var">P</span></span> <span class="inlinecode"><span class="id" title="var">_</span></span>.

<div class="paragraph"> </div>


</li>
<li> Similarly, it cannot happen that one is <span class="inlinecode"><span class="id" title="var">ST_Plus1</span></span> and the
        other is <span class="inlinecode"><span class="id" title="var">ST_Plus2</span></span>, since this would imply that <span class="inlinecode"><span class="id" title="var">x</span></span> has the
        form <span class="inlinecode"><span class="id" title="var">P</span></span> <span class="inlinecode"><span class="id" title="var">t1</span></span> <span class="inlinecode"><span class="id" title="var">t2</span></span> where <span class="inlinecode"><span class="id" title="var">t1</span></span> has both the form <span class="inlinecode"><span class="id" title="var">P</span></span> <span class="inlinecode"><span class="id" title="var">t11</span></span> <span class="inlinecode"><span class="id" title="var">t12</span></span> and the
        form <span class="inlinecode"><span class="id" title="var">C</span></span> <span class="inlinecode"><span class="id" title="var">n</span></span>. <font size=-2>&#9744;</font> 
</li>
</ul>

<div class="paragraph"> </div>

 Formally: 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a id="deterministic" class="idref" href="#deterministic"><span class="id" title="definition">deterministic</span></a> {<a id="X:24" class="idref" href="#X:24"><span class="id" title="binder">X</span></a> : <span class="id" title="keyword">Type</span>} (<a id="R:25" class="idref" href="#R:25"><span class="id" title="binder">R</span></a> : <a class="idref" href="PLF.Smallstep.html#relation"><span class="id" title="definition">relation</span></a> <a class="idref" href="PLF.Smallstep.html#X:24"><span class="id" title="variable">X</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="x:26" class="idref" href="#x:26"><span class="id" title="binder">x</span></a> <a id="y1:27" class="idref" href="#y1:27"><span class="id" title="binder">y1</span></a> <a id="y2:28" class="idref" href="#y2:28"><span class="id" title="binder">y2</span></a> : <a class="idref" href="PLF.Smallstep.html#X:24"><span class="id" title="variable">X</span></a>, <a class="idref" href="PLF.Smallstep.html#R:25"><span class="id" title="variable">R</span></a> <a class="idref" href="PLF.Smallstep.html#x:26"><span class="id" title="variable">x</span></a> <a class="idref" href="PLF.Smallstep.html#y1:27"><span class="id" title="variable">y1</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="PLF.Smallstep.html#R:25"><span class="id" title="variable">R</span></a> <a class="idref" href="PLF.Smallstep.html#x:26"><span class="id" title="variable">x</span></a> <a class="idref" href="PLF.Smallstep.html#y2:28"><span class="id" title="variable">y2</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="PLF.Smallstep.html#y1:27"><span class="id" title="variable">y1</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="PLF.Smallstep.html#y2:28"><span class="id" title="variable">y2</span></a>.<br/>

<br/>
<span class="id" title="keyword">Module</span> <a id="SimpleArith2" class="idref" href="#SimpleArith2"><span class="id" title="module">SimpleArith2</span></a>.<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="PLF.Smallstep.html#SimpleArith1"><span class="id" title="module">SimpleArith1</span></a>.<br/>

<br/>
<span class="id" title="keyword">Theorem</span> <a id="SimpleArith2.step_deterministic" class="idref" href="#SimpleArith2.step_deterministic"><span class="id" title="lemma">step_deterministic</span></a>:<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#deterministic"><span class="id" title="definition">deterministic</span></a> <a class="idref" href="PLF.Smallstep.html#SimpleArith1.step"><span class="id" title="inductive">step</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="PLF.Smallstep.html#deterministic"><span class="id" title="definition">deterministic</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">y1</span> <span class="id" title="var">y2</span> <span class="id" title="var">Hy1</span> <span class="id" title="var">Hy2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">y2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Hy1</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">y2</span> <span class="id" title="var">Hy2</span>.<br/>
&nbsp;&nbsp;-  <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hy2</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+  <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+  <span class="id" title="tactic">inversion</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+  <span class="id" title="tactic">inversion</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;-  <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hy2</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hy1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHHy1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hy1</span>.<br/>
&nbsp;&nbsp;-  <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hy2</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hy1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+  <span class="id" title="tactic">inversion</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHHy1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="PLF.Smallstep.html#SimpleArith2"><span class="id" title="module">SimpleArith2</span></a>.<br/>

<br/>
</div>

<div class="doc">
There is some annoying repetition in this proof.  Each use of
    <span class="inlinecode"><span class="id" title="tactic">inversion</span></span> <span class="inlinecode"><span class="id" title="var">Hy2</span></span> results in three subcases, only one of which is
    relevant (the one that matches the current case in the induction
    on <span class="inlinecode"><span class="id" title="var">Hy1</span></span>).  The other two subcases need to be dismissed by finding
    the contradiction among the hypotheses and doing inversion on it.

<div class="paragraph"> </div>

    The following custom tactic, called <span class="inlinecode"><span class="id" title="var">solve_by_inverts</span></span>, can be
    helpful in such cases.  It will solve the goal if it can be solved
    by inverting some hypothesis; otherwise, it fails. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">solve_by_inverts</span> <span class="id" title="var">n</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span> | <span class="id" title="var">H</span> : ?<span class="id" title="var">T</span> |- <span class="id" title="var">_</span> ⇒<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">type</span> <span class="id" title="keyword">of</span> <span class="id" title="var">T</span> <span class="id" title="keyword">with</span> <span class="id" title="keyword">Prop</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">solve</span> [<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">n</span> <span class="id" title="keyword">with</span> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (?<span class="id" title="var">n'</span>)) ⇒ <span class="id" title="tactic">subst</span>; <span class="id" title="var">solve_by_inverts</span> (<a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n'</span>) <span class="id" title="keyword">end</span> ]<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span> <span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
The details of how this works are not important for now, but it
    illustrates the power of Coq's <span class="inlinecode"><span class="id" title="keyword">Ltac</span></span> language for
    programmatically defining special-purpose tactics.  It looks
    through the current proof state for a hypothesis <span class="inlinecode"><span class="id" title="var">H</span></span> (the first
    <span class="inlinecode"><span class="id" title="keyword">match</span></span>) of type <span class="inlinecode"><span class="id" title="keyword">Prop</span></span> (the second <span class="inlinecode"><span class="id" title="keyword">match</span></span>) such that performing
    inversion on <span class="inlinecode"><span class="id" title="var">H</span></span> (followed by a recursive invocation of the same
    tactic, if its argument <span class="inlinecode"><span class="id" title="var">n</span></span> is greater than one) completely solves
    the current goal.  If no such hypothesis exists, it fails.

<div class="paragraph"> </div>

    We will usually want to call <span class="inlinecode"><span class="id" title="var">solve_by_inverts</span></span> with argument
    <span class="inlinecode">1</span> (especially as larger arguments can lead to very slow proof
    checking), so we define <span class="inlinecode"><span class="id" title="var">solve_by_invert</span></span> as a shorthand for this
    case. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">solve_by_invert</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">solve_by_inverts</span> 1.<br/>

<br/>
</div>

<div class="doc">
The proof of the previous theorem can now be simplified... 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Module</span> <a id="SimpleArith3" class="idref" href="#SimpleArith3"><span class="id" title="module">SimpleArith3</span></a>.<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="PLF.Smallstep.html#SimpleArith1"><span class="id" title="module">SimpleArith1</span></a>.<br/>

<br/>
<span class="id" title="keyword">Theorem</span> <a id="SimpleArith3.step_deterministic_alt" class="idref" href="#SimpleArith3.step_deterministic_alt"><span class="id" title="lemma">step_deterministic_alt</span></a>: <a class="idref" href="PLF.Smallstep.html#deterministic"><span class="id" title="definition">deterministic</span></a> <a class="idref" href="PLF.Smallstep.html#SimpleArith1.step"><span class="id" title="inductive">step</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">y1</span> <span class="id" title="var">y2</span> <span class="id" title="var">Hy1</span> <span class="id" title="var">Hy2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">y2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Hy1</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">y2</span> <span class="id" title="var">Hy2</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hy2</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">solve_by_invert</span>.<br/>
&nbsp;&nbsp;-  <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHHy1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHHy1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="PLF.Smallstep.html#SimpleArith3"><span class="id" title="module">SimpleArith3</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab515"></a><h2 class="section">Values</h2>

<div class="paragraph"> </div>

 Next, it will be useful to slightly reformulate the
    definition of single-step reduction by stating it in terms of
    "values." 
<div class="paragraph"> </div>

 It can be useful to think of the <span class="inlinecode">--&gt;</span> relation as defining an
    <i>abstract machine</i>:

<div class="paragraph"> </div>

<ul class="doclist">
<li> At any moment, the <i>state</i> of the machine is a term.

<div class="paragraph"> </div>


</li>
<li> A <i>step</i> of the machine is an atomic unit of computation --
        here, a single "add" operation.

<div class="paragraph"> </div>


</li>
<li> The <i>halting states</i> of the machine are ones where there is no
        more computation to be done. 
</li>
</ul>

<div class="paragraph"> </div>

 We can then <i>execute</i> a term <span class="inlinecode"><span class="id" title="var">t</span></span> as follows:

<div class="paragraph"> </div>

<ul class="doclist">
<li> Take <span class="inlinecode"><span class="id" title="var">t</span></span> as the starting state of the machine.

<div class="paragraph"> </div>


</li>
<li> Repeatedly use the <span class="inlinecode">--&gt;</span> relation to find a sequence of
        machine states, starting with <span class="inlinecode"><span class="id" title="var">t</span></span>, where each state steps to
        the next.

<div class="paragraph"> </div>


</li>
<li> When no more reduction is possible, "read out" the final state
        of the machine as the result of execution. 
</li>
</ul>

<div class="paragraph"> </div>

 Intuitively, it is clear that the final states of the
    machine are always terms of the form <span class="inlinecode"><span class="id" title="var">C</span></span> <span class="inlinecode"><span class="id" title="var">n</span></span> for some <span class="inlinecode"><span class="id" title="var">n</span></span>.
    We call such terms <i>values</i>. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Inductive</span> <a id="value" class="idref" href="#value"><span class="id" title="definition, inductive"><span id="value_ind" class="id"><span id="value_sind" class="id">value</span></span></span></a> : <a class="idref" href="PLF.Smallstep.html#tm"><span class="id" title="inductive">tm</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a id="v_const" class="idref" href="#v_const"><span class="id" title="constructor">v_const</span></a> : <span class="id" title="keyword">∀</span> <a id="n:31" class="idref" href="#n:31"><span class="id" title="binder">n</span></a>, <a class="idref" href="PLF.Smallstep.html#value:29"><span class="id" title="inductive">value</span></a> (<a class="idref" href="PLF.Smallstep.html#C"><span class="id" title="constructor">C</span></a> <a class="idref" href="PLF.Smallstep.html#n:31"><span class="id" title="variable">n</span></a>).<br/>

<br/>
</div>

<div class="doc">
Having introduced the idea of values, we can use it in the
    definition of the <span class="inlinecode">--&gt;</span> relation to write <span class="inlinecode"><span class="id" title="var">ST_Plus2</span></span> rule in a
    slightly more elegant way: 
<div class="paragraph"> </div>

<hr/>
        (ST_PlusConstConst)
                     P (C n1) (C n2) --&gt; C (n1 + n2)

<div class="paragraph"> </div>

                              t1 --&gt; t1'
<hr/>
                        (ST_Plus1)
                         P t1 t2 --&gt; P t1' t2

<div class="paragraph"> </div>

                               value v1
                              t2 --&gt; t2'
<hr/>
                        (ST_Plus2)
                         P v1 t2 --&gt; P v1 t2'

<div class="paragraph"> </div>

 Again, the variable names in the informal presentation carry
    important information: by convention, <span class="inlinecode"><span class="id" title="var">v1</span></span> ranges only over
    values, while <span class="inlinecode"><span class="id" title="var">t1</span></span> and <span class="inlinecode"><span class="id" title="var">t2</span></span> range over arbitrary terms.  (Given
    this convention, the explicit <span class="inlinecode"><span class="id" title="var">value</span></span> hypothesis is arguably
    redundant, since the naming convention tells us where to add it
    when translating the informal rule to Coq.  We'll keep it for now,
    to maintain a close correspondence between the informal and Coq
    versions of the rules, but later on we'll drop it in informal
    rules for brevity.) 
<div class="paragraph"> </div>

  Here are the formal rules: 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Reserved Notation</span> &quot; t '--&gt;' t' " (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 40).<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a id="step" class="idref" href="#step"><span class="id" title="definition, inductive"><span id="step_ind" class="id"><span id="step_sind" class="id">step</span></span></span></a> : <a class="idref" href="PLF.Smallstep.html#tm"><span class="id" title="inductive">tm</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="PLF.Smallstep.html#tm"><span class="id" title="inductive">tm</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a id="ST_PlusConstConst" class="idref" href="#ST_PlusConstConst"><span class="id" title="constructor">ST_PlusConstConst</span></a> : <span class="id" title="keyword">∀</span> <a id="n1:34" class="idref" href="#n1:34"><span class="id" title="binder">n1</span></a> <a id="n2:35" class="idref" href="#n2:35"><span class="id" title="binder">n2</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#P"><span class="id" title="constructor">P</span></a> (<a class="idref" href="PLF.Smallstep.html#C"><span class="id" title="constructor">C</span></a> <a class="idref" href="PLF.Smallstep.html#n1:34"><span class="id" title="variable">n1</span></a>) (<a class="idref" href="PLF.Smallstep.html#C"><span class="id" title="constructor">C</span></a> <a class="idref" href="PLF.Smallstep.html#n2:35"><span class="id" title="variable">n2</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#:::x_'--&gt;'_x"><span class="id" title="notation">--&gt;</span></a> <a class="idref" href="PLF.Smallstep.html#C"><span class="id" title="constructor">C</span></a> (<a class="idref" href="PLF.Smallstep.html#n1:34"><span class="id" title="variable">n1</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Nat.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="PLF.Smallstep.html#n2:35"><span class="id" title="variable">n2</span></a>)<br/>
&nbsp;&nbsp;| <a id="ST_Plus1" class="idref" href="#ST_Plus1"><span class="id" title="constructor">ST_Plus1</span></a> : <span class="id" title="keyword">∀</span> <a id="t1:36" class="idref" href="#t1:36"><span class="id" title="binder">t1</span></a> <a id="t1':37" class="idref" href="#t1':37"><span class="id" title="binder">t1'</span></a> <a id="t2:38" class="idref" href="#t2:38"><span class="id" title="binder">t2</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#t1:36"><span class="id" title="variable">t1</span></a> <a class="idref" href="PLF.Smallstep.html#:::x_'--&gt;'_x"><span class="id" title="notation">--&gt;</span></a> <a class="idref" href="PLF.Smallstep.html#t1':37"><span class="id" title="variable">t1'</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#P"><span class="id" title="constructor">P</span></a> <a class="idref" href="PLF.Smallstep.html#t1:36"><span class="id" title="variable">t1</span></a> <a class="idref" href="PLF.Smallstep.html#t2:38"><span class="id" title="variable">t2</span></a> <a class="idref" href="PLF.Smallstep.html#:::x_'--&gt;'_x"><span class="id" title="notation">--&gt;</span></a> <a class="idref" href="PLF.Smallstep.html#P"><span class="id" title="constructor">P</span></a> <a class="idref" href="PLF.Smallstep.html#t1':37"><span class="id" title="variable">t1'</span></a> <a class="idref" href="PLF.Smallstep.html#t2:38"><span class="id" title="variable">t2</span></a><br/>
&nbsp;&nbsp;| <a id="ST_Plus2" class="idref" href="#ST_Plus2"><span class="id" title="constructor">ST_Plus2</span></a> : <span class="id" title="keyword">∀</span> <a id="v1:39" class="idref" href="#v1:39"><span class="id" title="binder">v1</span></a> <a id="t2:40" class="idref" href="#t2:40"><span class="id" title="binder">t2</span></a> <a id="t2':41" class="idref" href="#t2':41"><span class="id" title="binder">t2'</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#value"><span class="id" title="inductive">value</span></a> <a class="idref" href="PLF.Smallstep.html#v1:39"><span class="id" title="variable">v1</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a>                     <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#t2:40"><span class="id" title="variable">t2</span></a> <a class="idref" href="PLF.Smallstep.html#:::x_'--&gt;'_x"><span class="id" title="notation">--&gt;</span></a> <a class="idref" href="PLF.Smallstep.html#t2':41"><span class="id" title="variable">t2'</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#P"><span class="id" title="constructor">P</span></a> <a class="idref" href="PLF.Smallstep.html#v1:39"><span class="id" title="variable">v1</span></a> <a class="idref" href="PLF.Smallstep.html#t2:40"><span class="id" title="variable">t2</span></a> <a class="idref" href="PLF.Smallstep.html#:::x_'--&gt;'_x"><span class="id" title="notation">--&gt;</span></a> <a class="idref" href="PLF.Smallstep.html#P"><span class="id" title="constructor">P</span></a> <a class="idref" href="PLF.Smallstep.html#v1:39"><span class="id" title="variable">v1</span></a> <a class="idref" href="PLF.Smallstep.html#t2':41"><span class="id" title="variable">t2'</span></a><br/>
<br/>
&nbsp;&nbsp;<span class="id" title="keyword">where</span> <a id=":::x_'--&gt;'_x" class="idref" href="#:::x_'--&gt;'_x"><span class="id" title="notation">&quot;</span></a> t '--&gt;' t' " := (<a class="idref" href="PLF.Smallstep.html#step:33"><span class="id" title="inductive">step</span></a> <span class="id" title="var">t</span> <span class="id" title="var">t'</span>).<br/>

<br/>
</div>

<div class="doc">
<a id="lab516"></a><h4 class="section">Exercise: 3 stars, standard, especially useful (redo_determinism)</h4>


<div class="paragraph"> </div>

    As a sanity check on this change, let's re-verify determinism.
    Here's an informal proof:

<div class="paragraph"> </div>

    <i>Proof sketch</i>: We must show that if <span class="inlinecode"><span class="id" title="var">x</span></span> steps to both <span class="inlinecode"><span class="id" title="var">y1</span></span> and
    <span class="inlinecode"><span class="id" title="var">y2</span></span>, then <span class="inlinecode"><span class="id" title="var">y1</span></span> and <span class="inlinecode"><span class="id" title="var">y2</span></span> are equal.  Consider the final rules used
    in the derivations of <span class="inlinecode"><span class="id" title="var">step</span></span> <span class="inlinecode"><span class="id" title="var">x</span></span> <span class="inlinecode"><span class="id" title="var">y1</span></span> and <span class="inlinecode"><span class="id" title="var">step</span></span> <span class="inlinecode"><span class="id" title="var">x</span></span> <span class="inlinecode"><span class="id" title="var">y2</span></span>.

<div class="paragraph"> </div>

<ul class="doclist">
<li> If both are <span class="inlinecode"><span class="id" title="var">ST_PlusConstConst</span></span>, the result is immediate.

<div class="paragraph"> </div>


</li>
<li> The cases when both derivations end with <span class="inlinecode"><span class="id" title="var">ST_Plus1</span></span> or
      <span class="inlinecode"><span class="id" title="var">ST_Plus2</span></span> follow by the induction hypothesis.

<div class="paragraph"> </div>


</li>
<li> It cannot happen that one is <span class="inlinecode"><span class="id" title="var">ST_PlusConstConst</span></span> and the other
      is <span class="inlinecode"><span class="id" title="var">ST_Plus1</span></span> or <span class="inlinecode"><span class="id" title="var">ST_Plus2</span></span>, since this would imply that <span class="inlinecode"><span class="id" title="var">x</span></span> has
      the form <span class="inlinecode"><span class="id" title="var">P</span></span> <span class="inlinecode"><span class="id" title="var">t1</span></span> <span class="inlinecode"><span class="id" title="var">t2</span></span> where both <span class="inlinecode"><span class="id" title="var">t1</span></span> and <span class="inlinecode"><span class="id" title="var">t2</span></span> are constants (by
      <span class="inlinecode"><span class="id" title="var">ST_PlusConstConst</span></span>) <i>and</i> one of <span class="inlinecode"><span class="id" title="var">t1</span></span> or <span class="inlinecode"><span class="id" title="var">t2</span></span> has the form <span class="inlinecode"><span class="id" title="var">P</span></span>
      <span class="inlinecode"><span class="id" title="var">_</span></span>.

<div class="paragraph"> </div>


</li>
<li> Similarly, it cannot happen that one is <span class="inlinecode"><span class="id" title="var">ST_Plus1</span></span> and the other
      is <span class="inlinecode"><span class="id" title="var">ST_Plus2</span></span>, since this would imply that <span class="inlinecode"><span class="id" title="var">x</span></span> has the form <span class="inlinecode"><span class="id" title="var">P</span></span>
      <span class="inlinecode"><span class="id" title="var">t1</span></span> <span class="inlinecode"><span class="id" title="var">t2</span></span> where <span class="inlinecode"><span class="id" title="var">t1</span></span> both has the form <span class="inlinecode"><span class="id" title="var">P</span></span> <span class="inlinecode"><span class="id" title="var">t11</span></span> <span class="inlinecode"><span class="id" title="var">t12</span></span> and is a
      value (hence has the form <span class="inlinecode"><span class="id" title="var">C</span></span> <span class="inlinecode"><span class="id" title="var">n</span></span>). <font size=-2>&#9744;</font> 
</li>
</ul>

<div class="paragraph"> </div>

 Most of this proof is the same as the one above.  But to get
    maximum benefit from the exercise you should try to write your
    formal version from scratch and just use the earlier one if you
    get stuck. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Theorem</span> <a id="step_deterministic" class="idref" href="#step_deterministic"><span class="id" title="lemma">step_deterministic</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#deterministic"><span class="id" title="definition">deterministic</span></a> <a class="idref" href="PLF.Smallstep.html#step"><span class="id" title="inductive">step</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
 <span class="id" title="var">Admitted</span>.<br/>
</div>

<div class="doc">
<font size=-2>&#9744;</font> 
</div>
<div class="code">

<br/>
</div>

<div class="doc">
<a id="lab517"></a><h2 class="section">Strong Progress and Normal Forms</h2>

<div class="paragraph"> </div>

 The definition of single-step reduction for our toy language
    is fairly simple, but for a larger language it would be easy to
    forget one of the rules and accidentally create a situation where
    some term cannot take a step even though it has not been
    completely reduced to a value.  The following theorem shows that
    we did not, in fact, make such a mistake here. 
<div class="paragraph"> </div>

 <i>Theorem</i> (<i>Strong Progress</i>): If <span class="inlinecode"><span class="id" title="var">t</span></span> is a term, then either <span class="inlinecode"><span class="id" title="var">t</span></span>
    is a value or else there exists a term <span class="inlinecode"><span class="id" title="var">t'</span></span> such that <span class="inlinecode"><span class="id" title="var">t</span></span> <span class="inlinecode">--&gt;</span> <span class="inlinecode"><span class="id" title="var">t'</span></span>. 
<div class="paragraph"> </div>

 <i>Proof</i>: By induction on <span class="inlinecode"><span class="id" title="var">t</span></span>.

<div class="paragraph"> </div>

<ul class="doclist">
<li> Suppose <span class="inlinecode"><span class="id" title="var">t</span></span> <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" title="var">C</span></span> <span class="inlinecode"><span class="id" title="var">n</span></span>. Then <span class="inlinecode"><span class="id" title="var">t</span></span> is a value.

<div class="paragraph"> </div>


</li>
<li> Suppose <span class="inlinecode"><span class="id" title="var">t</span></span> <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" title="var">P</span></span> <span class="inlinecode"><span class="id" title="var">t1</span></span> <span class="inlinecode"><span class="id" title="var">t2</span></span>, where (by the IH) <span class="inlinecode"><span class="id" title="var">t1</span></span> either is a value
      or can step to some <span class="inlinecode"><span class="id" title="var">t1'</span></span>, and where <span class="inlinecode"><span class="id" title="var">t2</span></span> is either a value or
      can step to some <span class="inlinecode"><span class="id" title="var">t2'</span></span>. We must show <span class="inlinecode"><span class="id" title="var">P</span></span> <span class="inlinecode"><span class="id" title="var">t1</span></span> <span class="inlinecode"><span class="id" title="var">t2</span></span> is either a value
      or steps to some <span class="inlinecode"><span class="id" title="var">t'</span></span>.

<div class="paragraph"> </div>

<ul class="doclist">
<li> If <span class="inlinecode"><span class="id" title="var">t1</span></span> and <span class="inlinecode"><span class="id" title="var">t2</span></span> are both values, then <span class="inlinecode"><span class="id" title="var">t</span></span> can take a step, by
        <span class="inlinecode"><span class="id" title="var">ST_PlusConstConst</span></span>.

<div class="paragraph"> </div>


</li>
<li> If <span class="inlinecode"><span class="id" title="var">t1</span></span> is a value and <span class="inlinecode"><span class="id" title="var">t2</span></span> can take a step, then so can <span class="inlinecode"><span class="id" title="var">t</span></span>,
        by <span class="inlinecode"><span class="id" title="var">ST_Plus2</span></span>.

<div class="paragraph"> </div>


</li>
<li> If <span class="inlinecode"><span class="id" title="var">t1</span></span> can take a step, then so can <span class="inlinecode"><span class="id" title="var">t</span></span>, by <span class="inlinecode"><span class="id" title="var">ST_Plus1</span></span>.  <font size=-2>&#9744;</font>

</li>
</ul>

</li>
</ul>

<div class="paragraph"> </div>

   Or, formally: 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Theorem</span> <a id="strong_progress" class="idref" href="#strong_progress"><span class="id" title="lemma">strong_progress</span></a> : <span class="id" title="keyword">∀</span> <a id="t:42" class="idref" href="#t:42"><span class="id" title="binder">t</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#value"><span class="id" title="inductive">value</span></a> <a class="idref" href="PLF.Smallstep.html#t:42"><span class="id" title="variable">t</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="t':43" class="idref" href="#t':43"><span class="id" title="binder">t'</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="PLF.Smallstep.html#t:42"><span class="id" title="variable">t</span></a> <a class="idref" href="PLF.Smallstep.html#:::x_'--&gt;'_x"><span class="id" title="notation">--&gt;</span></a> <a class="idref" href="PLF.Smallstep.html#t':43"><span class="id" title="variable">t'</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">t</span>.<br/>
&nbsp;&nbsp;-  <span class="id" title="tactic">left</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#v_const"><span class="id" title="constructor">v_const</span></a>.<br/>
&nbsp;&nbsp;-  <span class="id" title="tactic">right</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">IHt1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">IHt1</span> | [<span class="id" title="var">t1'</span> <span class="id" title="var">Ht1</span>] ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+  <span class="id" title="tactic">destruct</span> <span class="id" title="var">IHt2</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">IHt2</span> | [<span class="id" title="var">t2'</span> <span class="id" title="var">Ht2</span>] ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;×  <span class="id" title="tactic">inversion</span> <span class="id" title="var">IHt1</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">IHt2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> (<a class="idref" href="PLF.Smallstep.html#C"><span class="id" title="constructor">C</span></a> (<span class="id" title="var">n</span> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Nat.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">n0</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#ST_PlusConstConst"><span class="id" title="constructor">ST_PlusConstConst</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> (<a class="idref" href="PLF.Smallstep.html#P"><span class="id" title="constructor">P</span></a> <span class="id" title="var">t1</span> <span class="id" title="var">t2'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#ST_Plus2"><span class="id" title="constructor">ST_Plus2</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> (<a class="idref" href="PLF.Smallstep.html#P"><span class="id" title="constructor">P</span></a> <span class="id" title="var">t1'</span> <span class="id" title="var">t2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#ST_Plus1"><span class="id" title="constructor">ST_Plus1</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Ht1</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
This important property is called <i>strong progress</i>, because
    every term either is a value or can "make progress" by stepping to
    some other term.  (The qualifier "strong" distinguishes it from a
    more refined version that we'll see in later chapters, called
    just <i>progress</i>.) 
<div class="paragraph"> </div>

 The idea of "making progress" can be extended to tell us something
    interesting about values: they are exactly the terms that <i>cannot</i>
    make progress in this sense.

<div class="paragraph"> </div>

    To state this observation formally, let's begin by giving a name
    to "terms that cannot make progress."  We'll call them <i>normal
    forms</i>.  
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a id="normal_form" class="idref" href="#normal_form"><span class="id" title="definition">normal_form</span></a> {<a id="X:44" class="idref" href="#X:44"><span class="id" title="binder">X</span></a> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="R:45" class="idref" href="#R:45"><span class="id" title="binder">R</span></a> : <a class="idref" href="PLF.Smallstep.html#relation"><span class="id" title="definition">relation</span></a> <a class="idref" href="PLF.Smallstep.html#X:44"><span class="id" title="variable">X</span></a>) (<a id="t:46" class="idref" href="#t:46"><span class="id" title="binder">t</span></a> : <a class="idref" href="PLF.Smallstep.html#X:44"><span class="id" title="variable">X</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="t':47" class="idref" href="#t':47"><span class="id" title="binder">t'</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="PLF.Smallstep.html#R:45"><span class="id" title="variable">R</span></a> <a class="idref" href="PLF.Smallstep.html#t:46"><span class="id" title="variable">t</span></a> <a class="idref" href="PLF.Smallstep.html#t':47"><span class="id" title="variable">t'</span></a>.<br/>

<br/>
</div>

<div class="doc">
Note that this definition specifies what it is to be a normal form
    for an <i>arbitrary</i> relation <span class="inlinecode"><span class="id" title="var">R</span></span> over an arbitrary set <span class="inlinecode"><span class="id" title="var">X</span></span>, not
    just for the particular single-step reduction relation over terms
    that we are interested in at the moment.  We'll re-use the same
    terminology for talking about other relations later in the
    course. 
<div class="paragraph"> </div>

 We can use this terminology to generalize the observation we
    made in the strong progress theorem: in this language (though not
    necessarily, in general), normal forms and values are actually the
    same thing. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a id="value_is_nf" class="idref" href="#value_is_nf"><span class="id" title="lemma">value_is_nf</span></a> : <span class="id" title="keyword">∀</span> <a id="v:48" class="idref" href="#v:48"><span class="id" title="binder">v</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#value"><span class="id" title="inductive">value</span></a> <a class="idref" href="PLF.Smallstep.html#v:48"><span class="id" title="variable">v</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="PLF.Smallstep.html#normal_form"><span class="id" title="definition">normal_form</span></a> <a class="idref" href="PLF.Smallstep.html#step"><span class="id" title="inductive">step</span></a> <a class="idref" href="PLF.Smallstep.html#v:48"><span class="id" title="variable">v</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="PLF.Smallstep.html#normal_form"><span class="id" title="definition">normal_form</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">v</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">contra</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">contra</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="nf_is_value" class="idref" href="#nf_is_value"><span class="id" title="lemma">nf_is_value</span></a> : <span class="id" title="keyword">∀</span> <a id="t:49" class="idref" href="#t:49"><span class="id" title="binder">t</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#normal_form"><span class="id" title="definition">normal_form</span></a> <a class="idref" href="PLF.Smallstep.html#step"><span class="id" title="inductive">step</span></a> <a class="idref" href="PLF.Smallstep.html#t:49"><span class="id" title="variable">t</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="PLF.Smallstep.html#value"><span class="id" title="inductive">value</span></a> <a class="idref" href="PLF.Smallstep.html#t:49"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. &nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="PLF.Smallstep.html#normal_form"><span class="id" title="definition">normal_form</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">t</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">G</span> : <a class="idref" href="PLF.Smallstep.html#value"><span class="id" title="inductive">value</span></a> <span class="id" title="var">t</span> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="t':50" class="idref" href="#t':50"><span class="id" title="binder"><span id="t':51" class="id">t'</span></span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <span class="id" title="var">t</span> <a class="idref" href="PLF.Smallstep.html#:::x_'--&gt;'_x"><span class="id" title="notation">--&gt;</span></a> <a class="idref" href="PLF.Smallstep.html#t':50"><span class="id" title="variable">t'</span></a>).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#strong_progress"><span class="id" title="lemma">strong_progress</span></a>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">G</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">G</span> | <span class="id" title="var">G</span>].<br/>
&nbsp;&nbsp;-  <span class="id" title="tactic">apply</span> <span class="id" title="var">G</span>.<br/>
&nbsp;&nbsp;-  <span class="id" title="var">contradiction</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Corollary</span> <a id="nf_same_as_value" class="idref" href="#nf_same_as_value"><span class="id" title="lemma">nf_same_as_value</span></a> : <span class="id" title="keyword">∀</span> <a id="t:52" class="idref" href="#t:52"><span class="id" title="binder">t</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#normal_form"><span class="id" title="definition">normal_form</span></a> <a class="idref" href="PLF.Smallstep.html#step"><span class="id" title="inductive">step</span></a> <a class="idref" href="PLF.Smallstep.html#t:52"><span class="id" title="variable">t</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="PLF.Smallstep.html#value"><span class="id" title="inductive">value</span></a> <a class="idref" href="PLF.Smallstep.html#t:52"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#nf_is_value"><span class="id" title="lemma">nf_is_value</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#value_is_nf"><span class="id" title="lemma">value_is_nf</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Why is this interesting?

<div class="paragraph"> </div>

    Because <span class="inlinecode"><span class="id" title="var">value</span></span> is a syntactic concept -- it is defined by looking
    at the way a term is written -- while <span class="inlinecode"><span class="id" title="var">normal_form</span></span> is a semantic
    one -- it is defined by looking at how the term steps.

<div class="paragraph"> </div>

    It is not obvious that these concepts should characterize the same
    set of terms!  
<div class="paragraph"> </div>

 Indeed, we could easily have written the definitions (incorrectly)
    so that they would <i>not</i> coincide. 
<div class="paragraph"> </div>

<a id="lab518"></a><h4 class="section">Exercise: 3 stars, standard, optional (value_not_same_as_normal_form1)</h4>


<div class="paragraph"> </div>

    We might, for example, define <span class="inlinecode"><span class="id" title="var">value</span></span> so that it
    includes some terms that are not finished reducing.

<div class="paragraph"> </div>

    (Even if you don't work this exercise and the following ones
    in Coq, make sure you can think of an example of such a term.) 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Module</span> <a id="Temp1" class="idref" href="#Temp1"><span class="id" title="module">Temp1</span></a>.<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a id="Temp1.value" class="idref" href="#Temp1.value"><span class="id" title="definition, inductive"><span id="Temp1.value_ind" class="id"><span id="Temp1.value_sind" class="id">value</span></span></span></a> : <a class="idref" href="PLF.Smallstep.html#tm"><span class="id" title="inductive">tm</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a id="Temp1.v_const" class="idref" href="#Temp1.v_const"><span class="id" title="constructor">v_const</span></a> : <span class="id" title="keyword">∀</span> <a id="n:55" class="idref" href="#n:55"><span class="id" title="binder">n</span></a>, <a class="idref" href="PLF.Smallstep.html#value:53"><span class="id" title="inductive">value</span></a> (<a class="idref" href="PLF.Smallstep.html#C"><span class="id" title="constructor">C</span></a> <a class="idref" href="PLF.Smallstep.html#n:55"><span class="id" title="variable">n</span></a>)<br/>
&nbsp;&nbsp;| <a id="Temp1.v_funny" class="idref" href="#Temp1.v_funny"><span class="id" title="constructor">v_funny</span></a> : <span class="id" title="keyword">∀</span> <a id="t1:56" class="idref" href="#t1:56"><span class="id" title="binder">t1</span></a> <a id="n:57" class="idref" href="#n:57"><span class="id" title="binder">n</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#value:53"><span class="id" title="inductive">value</span></a> (<a class="idref" href="PLF.Smallstep.html#P"><span class="id" title="constructor">P</span></a> <a class="idref" href="PLF.Smallstep.html#t1:56"><span class="id" title="variable">t1</span></a> (<a class="idref" href="PLF.Smallstep.html#C"><span class="id" title="constructor">C</span></a> <a class="idref" href="PLF.Smallstep.html#n:57"><span class="id" title="variable">n</span></a>)). 
<br/>
<span class="id" title="keyword">Reserved Notation</span> &quot; t '--&gt;' t' " (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 40).<br/>
<span class="id" title="keyword">Inductive</span> <a id="Temp1.step" class="idref" href="#Temp1.step"><span class="id" title="definition, inductive"><span id="Temp1.step_ind" class="id"><span id="Temp1.step_sind" class="id">step</span></span></span></a> : <a class="idref" href="PLF.Smallstep.html#tm"><span class="id" title="inductive">tm</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="PLF.Smallstep.html#tm"><span class="id" title="inductive">tm</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a id="Temp1.ST_PlusConstConst" class="idref" href="#Temp1.ST_PlusConstConst"><span class="id" title="constructor">ST_PlusConstConst</span></a> : <span class="id" title="keyword">∀</span> <a id="n1:60" class="idref" href="#n1:60"><span class="id" title="binder">n1</span></a> <a id="n2:61" class="idref" href="#n2:61"><span class="id" title="binder">n2</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#P"><span class="id" title="constructor">P</span></a> (<a class="idref" href="PLF.Smallstep.html#C"><span class="id" title="constructor">C</span></a> <a class="idref" href="PLF.Smallstep.html#n1:60"><span class="id" title="variable">n1</span></a>) (<a class="idref" href="PLF.Smallstep.html#C"><span class="id" title="constructor">C</span></a> <a class="idref" href="PLF.Smallstep.html#n2:61"><span class="id" title="variable">n2</span></a>) <a class="idref" href="PLF.Smallstep.html#Temp1.:::x_'--&gt;'_x"><span class="id" title="notation">--&gt;</span></a> <a class="idref" href="PLF.Smallstep.html#C"><span class="id" title="constructor">C</span></a> (<a class="idref" href="PLF.Smallstep.html#n1:60"><span class="id" title="variable">n1</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Nat.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="PLF.Smallstep.html#n2:61"><span class="id" title="variable">n2</span></a>)<br/>
&nbsp;&nbsp;| <a id="Temp1.ST_Plus1" class="idref" href="#Temp1.ST_Plus1"><span class="id" title="constructor">ST_Plus1</span></a> : <span class="id" title="keyword">∀</span> <a id="t1:62" class="idref" href="#t1:62"><span class="id" title="binder">t1</span></a> <a id="t1':63" class="idref" href="#t1':63"><span class="id" title="binder">t1'</span></a> <a id="t2:64" class="idref" href="#t2:64"><span class="id" title="binder">t2</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#t1:62"><span class="id" title="variable">t1</span></a> <a class="idref" href="PLF.Smallstep.html#Temp1.:::x_'--&gt;'_x"><span class="id" title="notation">--&gt;</span></a> <a class="idref" href="PLF.Smallstep.html#t1':63"><span class="id" title="variable">t1'</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#P"><span class="id" title="constructor">P</span></a> <a class="idref" href="PLF.Smallstep.html#t1:62"><span class="id" title="variable">t1</span></a> <a class="idref" href="PLF.Smallstep.html#t2:64"><span class="id" title="variable">t2</span></a> <a class="idref" href="PLF.Smallstep.html#Temp1.:::x_'--&gt;'_x"><span class="id" title="notation">--&gt;</span></a> <a class="idref" href="PLF.Smallstep.html#P"><span class="id" title="constructor">P</span></a> <a class="idref" href="PLF.Smallstep.html#t1':63"><span class="id" title="variable">t1'</span></a> <a class="idref" href="PLF.Smallstep.html#t2:64"><span class="id" title="variable">t2</span></a><br/>
&nbsp;&nbsp;| <a id="Temp1.ST_Plus2" class="idref" href="#Temp1.ST_Plus2"><span class="id" title="constructor">ST_Plus2</span></a> : <span class="id" title="keyword">∀</span> <a id="v1:65" class="idref" href="#v1:65"><span class="id" title="binder">v1</span></a> <a id="t2:66" class="idref" href="#t2:66"><span class="id" title="binder">t2</span></a> <a id="t2':67" class="idref" href="#t2':67"><span class="id" title="binder">t2'</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#Temp1.value"><span class="id" title="inductive">value</span></a> <a class="idref" href="PLF.Smallstep.html#v1:65"><span class="id" title="variable">v1</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#t2:66"><span class="id" title="variable">t2</span></a> <a class="idref" href="PLF.Smallstep.html#Temp1.:::x_'--&gt;'_x"><span class="id" title="notation">--&gt;</span></a> <a class="idref" href="PLF.Smallstep.html#t2':67"><span class="id" title="variable">t2'</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#P"><span class="id" title="constructor">P</span></a> <a class="idref" href="PLF.Smallstep.html#v1:65"><span class="id" title="variable">v1</span></a> <a class="idref" href="PLF.Smallstep.html#t2:66"><span class="id" title="variable">t2</span></a> <a class="idref" href="PLF.Smallstep.html#Temp1.:::x_'--&gt;'_x"><span class="id" title="notation">--&gt;</span></a> <a class="idref" href="PLF.Smallstep.html#P"><span class="id" title="constructor">P</span></a> <a class="idref" href="PLF.Smallstep.html#v1:65"><span class="id" title="variable">v1</span></a> <a class="idref" href="PLF.Smallstep.html#t2':67"><span class="id" title="variable">t2'</span></a><br/>
<br/>
&nbsp;&nbsp;<span class="id" title="keyword">where</span> <a id="Temp1.:::x_'--&gt;'_x" class="idref" href="#Temp1.:::x_'--&gt;'_x"><span class="id" title="notation">&quot;</span></a> t '--&gt;' t' " := (<a class="idref" href="PLF.Smallstep.html#step:59"><span class="id" title="inductive">step</span></a> <span class="id" title="var">t</span> <span class="id" title="var">t'</span>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Temp1.value_not_same_as_normal_form" class="idref" href="#Temp1.value_not_same_as_normal_form"><span class="id" title="lemma">value_not_same_as_normal_form</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="v:68" class="idref" href="#v:68"><span class="id" title="binder">v</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="PLF.Smallstep.html#Temp1.value"><span class="id" title="inductive">value</span></a> <a class="idref" href="PLF.Smallstep.html#v:68"><span class="id" title="variable">v</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="PLF.Smallstep.html#normal_form"><span class="id" title="definition">normal_form</span></a> <a class="idref" href="PLF.Smallstep.html#Temp1.step"><span class="id" title="inductive">step</span></a> <a class="idref" href="PLF.Smallstep.html#v:68"><span class="id" title="variable">v</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
 <span class="id" title="var">Admitted</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="PLF.Smallstep.html#Temp1"><span class="id" title="module">Temp1</span></a>.<br/>

<br/>
</div>

<div class="doc">
<font size=-2>&#9744;</font> 
<div class="paragraph"> </div>

<a id="lab519"></a><h4 class="section">Exercise: 2 stars, standard, optional (value_not_same_as_normal_form2)</h4>


<div class="paragraph"> </div>

    Or we might (again, wrongly) define <span class="inlinecode"><span class="id" title="var">step</span></span> so that it permits
    something designated as a value to reduce further. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Module</span> <a id="Temp2" class="idref" href="#Temp2"><span class="id" title="module">Temp2</span></a>.<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a id="Temp2.value" class="idref" href="#Temp2.value"><span class="id" title="definition, inductive"><span id="Temp2.value_ind" class="id"><span id="Temp2.value_sind" class="id">value</span></span></span></a> : <a class="idref" href="PLF.Smallstep.html#tm"><span class="id" title="inductive">tm</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a id="Temp2.v_const" class="idref" href="#Temp2.v_const"><span class="id" title="constructor">v_const</span></a> : <span class="id" title="keyword">∀</span> <a id="n:71" class="idref" href="#n:71"><span class="id" title="binder">n</span></a>, <a class="idref" href="PLF.Smallstep.html#value:69"><span class="id" title="inductive">value</span></a> (<a class="idref" href="PLF.Smallstep.html#C"><span class="id" title="constructor">C</span></a> <a class="idref" href="PLF.Smallstep.html#n:71"><span class="id" title="variable">n</span></a>). 
<br/>
<span class="id" title="keyword">Reserved Notation</span> &quot; t '--&gt;' t' " (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 40).<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a id="Temp2.step" class="idref" href="#Temp2.step"><span class="id" title="definition, inductive"><span id="Temp2.step_ind" class="id"><span id="Temp2.step_sind" class="id">step</span></span></span></a> : <a class="idref" href="PLF.Smallstep.html#tm"><span class="id" title="inductive">tm</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="PLF.Smallstep.html#tm"><span class="id" title="inductive">tm</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a id="Temp2.ST_Funny" class="idref" href="#Temp2.ST_Funny"><span class="id" title="constructor">ST_Funny</span></a> : <span class="id" title="keyword">∀</span> <a id="n:74" class="idref" href="#n:74"><span class="id" title="binder">n</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#C"><span class="id" title="constructor">C</span></a> <a class="idref" href="PLF.Smallstep.html#n:74"><span class="id" title="variable">n</span></a> <a class="idref" href="PLF.Smallstep.html#Temp2.:::x_'--&gt;'_x"><span class="id" title="notation">--&gt;</span></a> <a class="idref" href="PLF.Smallstep.html#P"><span class="id" title="constructor">P</span></a> (<a class="idref" href="PLF.Smallstep.html#C"><span class="id" title="constructor">C</span></a> <a class="idref" href="PLF.Smallstep.html#n:74"><span class="id" title="variable">n</span></a>) (<a class="idref" href="PLF.Smallstep.html#C"><span class="id" title="constructor">C</span></a> 0)                  <br/>
&nbsp;&nbsp;| <a id="Temp2.ST_PlusConstConst" class="idref" href="#Temp2.ST_PlusConstConst"><span class="id" title="constructor">ST_PlusConstConst</span></a> : <span class="id" title="keyword">∀</span> <a id="n1:75" class="idref" href="#n1:75"><span class="id" title="binder">n1</span></a> <a id="n2:76" class="idref" href="#n2:76"><span class="id" title="binder">n2</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#P"><span class="id" title="constructor">P</span></a> (<a class="idref" href="PLF.Smallstep.html#C"><span class="id" title="constructor">C</span></a> <a class="idref" href="PLF.Smallstep.html#n1:75"><span class="id" title="variable">n1</span></a>) (<a class="idref" href="PLF.Smallstep.html#C"><span class="id" title="constructor">C</span></a> <a class="idref" href="PLF.Smallstep.html#n2:76"><span class="id" title="variable">n2</span></a>) <a class="idref" href="PLF.Smallstep.html#Temp2.:::x_'--&gt;'_x"><span class="id" title="notation">--&gt;</span></a> <a class="idref" href="PLF.Smallstep.html#C"><span class="id" title="constructor">C</span></a> (<a class="idref" href="PLF.Smallstep.html#n1:75"><span class="id" title="variable">n1</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Nat.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="PLF.Smallstep.html#n2:76"><span class="id" title="variable">n2</span></a>)<br/>
&nbsp;&nbsp;| <a id="Temp2.ST_Plus1" class="idref" href="#Temp2.ST_Plus1"><span class="id" title="constructor">ST_Plus1</span></a> : <span class="id" title="keyword">∀</span> <a id="t1:77" class="idref" href="#t1:77"><span class="id" title="binder">t1</span></a> <a id="t1':78" class="idref" href="#t1':78"><span class="id" title="binder">t1'</span></a> <a id="t2:79" class="idref" href="#t2:79"><span class="id" title="binder">t2</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#t1:77"><span class="id" title="variable">t1</span></a> <a class="idref" href="PLF.Smallstep.html#Temp2.:::x_'--&gt;'_x"><span class="id" title="notation">--&gt;</span></a> <a class="idref" href="PLF.Smallstep.html#t1':78"><span class="id" title="variable">t1'</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#P"><span class="id" title="constructor">P</span></a> <a class="idref" href="PLF.Smallstep.html#t1:77"><span class="id" title="variable">t1</span></a> <a class="idref" href="PLF.Smallstep.html#t2:79"><span class="id" title="variable">t2</span></a> <a class="idref" href="PLF.Smallstep.html#Temp2.:::x_'--&gt;'_x"><span class="id" title="notation">--&gt;</span></a> <a class="idref" href="PLF.Smallstep.html#P"><span class="id" title="constructor">P</span></a> <a class="idref" href="PLF.Smallstep.html#t1':78"><span class="id" title="variable">t1'</span></a> <a class="idref" href="PLF.Smallstep.html#t2:79"><span class="id" title="variable">t2</span></a><br/>
&nbsp;&nbsp;| <a id="Temp2.ST_Plus2" class="idref" href="#Temp2.ST_Plus2"><span class="id" title="constructor">ST_Plus2</span></a> : <span class="id" title="keyword">∀</span> <a id="v1:80" class="idref" href="#v1:80"><span class="id" title="binder">v1</span></a> <a id="t2:81" class="idref" href="#t2:81"><span class="id" title="binder">t2</span></a> <a id="t2':82" class="idref" href="#t2':82"><span class="id" title="binder">t2'</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#Temp2.value"><span class="id" title="inductive">value</span></a> <a class="idref" href="PLF.Smallstep.html#v1:80"><span class="id" title="variable">v1</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#t2:81"><span class="id" title="variable">t2</span></a> <a class="idref" href="PLF.Smallstep.html#Temp2.:::x_'--&gt;'_x"><span class="id" title="notation">--&gt;</span></a> <a class="idref" href="PLF.Smallstep.html#t2':82"><span class="id" title="variable">t2'</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#P"><span class="id" title="constructor">P</span></a> <a class="idref" href="PLF.Smallstep.html#v1:80"><span class="id" title="variable">v1</span></a> <a class="idref" href="PLF.Smallstep.html#t2:81"><span class="id" title="variable">t2</span></a> <a class="idref" href="PLF.Smallstep.html#Temp2.:::x_'--&gt;'_x"><span class="id" title="notation">--&gt;</span></a> <a class="idref" href="PLF.Smallstep.html#P"><span class="id" title="constructor">P</span></a> <a class="idref" href="PLF.Smallstep.html#v1:80"><span class="id" title="variable">v1</span></a> <a class="idref" href="PLF.Smallstep.html#t2':82"><span class="id" title="variable">t2'</span></a><br/>
<br/>
&nbsp;&nbsp;<span class="id" title="keyword">where</span> <a id="Temp2.:::x_'--&gt;'_x" class="idref" href="#Temp2.:::x_'--&gt;'_x"><span class="id" title="notation">&quot;</span></a> t '--&gt;' t' " := (<a class="idref" href="PLF.Smallstep.html#step:73"><span class="id" title="inductive">step</span></a> <span class="id" title="var">t</span> <span class="id" title="var">t'</span>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Temp2.value_not_same_as_normal_form" class="idref" href="#Temp2.value_not_same_as_normal_form"><span class="id" title="lemma">value_not_same_as_normal_form</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="v:83" class="idref" href="#v:83"><span class="id" title="binder">v</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="PLF.Smallstep.html#Temp2.value"><span class="id" title="inductive">value</span></a> <a class="idref" href="PLF.Smallstep.html#v:83"><span class="id" title="variable">v</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="PLF.Smallstep.html#normal_form"><span class="id" title="definition">normal_form</span></a> <a class="idref" href="PLF.Smallstep.html#Temp2.step"><span class="id" title="inductive">step</span></a> <a class="idref" href="PLF.Smallstep.html#v:83"><span class="id" title="variable">v</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
 <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="PLF.Smallstep.html#Temp2"><span class="id" title="module">Temp2</span></a>.<br/>
</div>

<div class="doc">
<font size=-2>&#9744;</font> 
<div class="paragraph"> </div>

<a id="lab520"></a><h4 class="section">Exercise: 3 stars, standard, optional (value_not_same_as_normal_form3)</h4>


<div class="paragraph"> </div>

    Finally, we might define <span class="inlinecode"><span class="id" title="var">value</span></span> and <span class="inlinecode"><span class="id" title="var">step</span></span> so that there is some
    term that is not a value but that cannot take a step in the <span class="inlinecode"><span class="id" title="var">step</span></span>
    relation.  Such terms are said to be <i>stuck</i>.  In this case, this is
    caused by a mistake in the semantics, but we will also see
    situations where, even in a correct language definition, it makes
    sense to allow some terms to be stuck. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Module</span> <a id="Temp3" class="idref" href="#Temp3"><span class="id" title="module">Temp3</span></a>.<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a id="Temp3.value" class="idref" href="#Temp3.value"><span class="id" title="definition, inductive"><span id="Temp3.value_ind" class="id"><span id="Temp3.value_sind" class="id">value</span></span></span></a> : <a class="idref" href="PLF.Smallstep.html#tm"><span class="id" title="inductive">tm</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a id="Temp3.v_const" class="idref" href="#Temp3.v_const"><span class="id" title="constructor">v_const</span></a> : <span class="id" title="keyword">∀</span> <a id="n:86" class="idref" href="#n:86"><span class="id" title="binder">n</span></a>, <a class="idref" href="PLF.Smallstep.html#value:84"><span class="id" title="inductive">value</span></a> (<a class="idref" href="PLF.Smallstep.html#C"><span class="id" title="constructor">C</span></a> <a class="idref" href="PLF.Smallstep.html#n:86"><span class="id" title="variable">n</span></a>).<br/>

<br/>
<span class="id" title="keyword">Reserved Notation</span> &quot; t '--&gt;' t' " (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 40).<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a id="Temp3.step" class="idref" href="#Temp3.step"><span class="id" title="definition, inductive"><span id="Temp3.step_ind" class="id"><span id="Temp3.step_sind" class="id">step</span></span></span></a> : <a class="idref" href="PLF.Smallstep.html#tm"><span class="id" title="inductive">tm</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="PLF.Smallstep.html#tm"><span class="id" title="inductive">tm</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a id="Temp3.ST_PlusConstConst" class="idref" href="#Temp3.ST_PlusConstConst"><span class="id" title="constructor">ST_PlusConstConst</span></a> : <span class="id" title="keyword">∀</span> <a id="n1:89" class="idref" href="#n1:89"><span class="id" title="binder">n1</span></a> <a id="n2:90" class="idref" href="#n2:90"><span class="id" title="binder">n2</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#P"><span class="id" title="constructor">P</span></a> (<a class="idref" href="PLF.Smallstep.html#C"><span class="id" title="constructor">C</span></a> <a class="idref" href="PLF.Smallstep.html#n1:89"><span class="id" title="variable">n1</span></a>) (<a class="idref" href="PLF.Smallstep.html#C"><span class="id" title="constructor">C</span></a> <a class="idref" href="PLF.Smallstep.html#n2:90"><span class="id" title="variable">n2</span></a>) <a class="idref" href="PLF.Smallstep.html#Temp3.:::x_'--&gt;'_x"><span class="id" title="notation">--&gt;</span></a> <a class="idref" href="PLF.Smallstep.html#C"><span class="id" title="constructor">C</span></a> (<a class="idref" href="PLF.Smallstep.html#n1:89"><span class="id" title="variable">n1</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Nat.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="PLF.Smallstep.html#n2:90"><span class="id" title="variable">n2</span></a>)<br/>
&nbsp;&nbsp;| <a id="Temp3.ST_Plus1" class="idref" href="#Temp3.ST_Plus1"><span class="id" title="constructor">ST_Plus1</span></a> : <span class="id" title="keyword">∀</span> <a id="t1:91" class="idref" href="#t1:91"><span class="id" title="binder">t1</span></a> <a id="t1':92" class="idref" href="#t1':92"><span class="id" title="binder">t1'</span></a> <a id="t2:93" class="idref" href="#t2:93"><span class="id" title="binder">t2</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#t1:91"><span class="id" title="variable">t1</span></a> <a class="idref" href="PLF.Smallstep.html#Temp3.:::x_'--&gt;'_x"><span class="id" title="notation">--&gt;</span></a> <a class="idref" href="PLF.Smallstep.html#t1':92"><span class="id" title="variable">t1'</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#P"><span class="id" title="constructor">P</span></a> <a class="idref" href="PLF.Smallstep.html#t1:91"><span class="id" title="variable">t1</span></a> <a class="idref" href="PLF.Smallstep.html#t2:93"><span class="id" title="variable">t2</span></a> <a class="idref" href="PLF.Smallstep.html#Temp3.:::x_'--&gt;'_x"><span class="id" title="notation">--&gt;</span></a> <a class="idref" href="PLF.Smallstep.html#P"><span class="id" title="constructor">P</span></a> <a class="idref" href="PLF.Smallstep.html#t1':92"><span class="id" title="variable">t1'</span></a> <a class="idref" href="PLF.Smallstep.html#t2:93"><span class="id" title="variable">t2</span></a><br/>
<br/>
&nbsp;&nbsp;<span class="id" title="keyword">where</span> <a id="Temp3.:::x_'--&gt;'_x" class="idref" href="#Temp3.:::x_'--&gt;'_x"><span class="id" title="notation">&quot;</span></a> t '--&gt;' t' " := (<a class="idref" href="PLF.Smallstep.html#step:88"><span class="id" title="inductive">step</span></a> <span class="id" title="var">t</span> <span class="id" title="var">t'</span>).<br/>

<br/>
</div>

<div class="doc">
(Note that <span class="inlinecode"><span class="id" title="var">ST_Plus2</span></span> is missing.) 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Temp3.value_not_same_as_normal_form" class="idref" href="#Temp3.value_not_same_as_normal_form"><span class="id" title="lemma">value_not_same_as_normal_form</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="t:94" class="idref" href="#t:94"><span class="id" title="binder">t</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="PLF.Smallstep.html#Temp3.value"><span class="id" title="inductive">value</span></a> <a class="idref" href="PLF.Smallstep.html#t:94"><span class="id" title="variable">t</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="PLF.Smallstep.html#normal_form"><span class="id" title="definition">normal_form</span></a> <a class="idref" href="PLF.Smallstep.html#Temp3.step"><span class="id" title="inductive">step</span></a> <a class="idref" href="PLF.Smallstep.html#t:94"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
 <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="PLF.Smallstep.html#Temp3"><span class="id" title="module">Temp3</span></a>.<br/>
</div>

<div class="doc">
<font size=-2>&#9744;</font> 
</div>
<div class="code">

<br/>
</div>

<div class="doc">
<a id="lab521"></a><h3 class="section">Additional Exercises</h3>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Module</span> <a id="Temp4" class="idref" href="#Temp4"><span class="id" title="module">Temp4</span></a>.<br/>

<br/>
</div>

<div class="doc">
Here is another very simple language whose terms, instead of being
    just addition expressions and numbers, are just the booleans true
    and false plus a conditional expression... 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Inductive</span> <a id="Temp4.tm" class="idref" href="#Temp4.tm"><span class="id" title="definition, inductive"><span id="Temp4.tm_rect" class="id"><span id="Temp4.tm_ind" class="id"><span id="Temp4.tm_rec" class="id"><span id="Temp4.tm_sind" class="id">tm</span></span></span></span></span></a> : <span class="id" title="keyword">Type</span> :=<br/>
&nbsp;&nbsp;| <a id="Temp4.tru" class="idref" href="#Temp4.tru"><span class="id" title="constructor">tru</span></a> : <a class="idref" href="PLF.Smallstep.html#tm:95"><span class="id" title="inductive">tm</span></a><br/>
&nbsp;&nbsp;| <a id="Temp4.fls" class="idref" href="#Temp4.fls"><span class="id" title="constructor">fls</span></a> : <a class="idref" href="PLF.Smallstep.html#tm:95"><span class="id" title="inductive">tm</span></a><br/>
&nbsp;&nbsp;| <a id="Temp4.test" class="idref" href="#Temp4.test"><span class="id" title="constructor">test</span></a> : <a class="idref" href="PLF.Smallstep.html#tm:95"><span class="id" title="inductive">tm</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="PLF.Smallstep.html#tm:95"><span class="id" title="inductive">tm</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="PLF.Smallstep.html#tm:95"><span class="id" title="inductive">tm</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="PLF.Smallstep.html#tm:95"><span class="id" title="inductive">tm</span></a>.<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a id="Temp4.value" class="idref" href="#Temp4.value"><span class="id" title="definition, inductive"><span id="Temp4.value_ind" class="id"><span id="Temp4.value_sind" class="id">value</span></span></span></a> : <a class="idref" href="PLF.Smallstep.html#Temp4.tm"><span class="id" title="inductive">tm</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a id="Temp4.v_tru" class="idref" href="#Temp4.v_tru"><span class="id" title="constructor">v_tru</span></a> : <a class="idref" href="PLF.Smallstep.html#value:97"><span class="id" title="inductive">value</span></a> <a class="idref" href="PLF.Smallstep.html#Temp4.tru"><span class="id" title="constructor">tru</span></a><br/>
&nbsp;&nbsp;| <a id="Temp4.v_fls" class="idref" href="#Temp4.v_fls"><span class="id" title="constructor">v_fls</span></a> : <a class="idref" href="PLF.Smallstep.html#value:97"><span class="id" title="inductive">value</span></a> <a class="idref" href="PLF.Smallstep.html#Temp4.fls"><span class="id" title="constructor">fls</span></a>.<br/>

<br/>
<span class="id" title="keyword">Reserved Notation</span> &quot; t '--&gt;' t' " (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 40).<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a id="Temp4.step" class="idref" href="#Temp4.step"><span class="id" title="definition, inductive"><span id="Temp4.step_ind" class="id"><span id="Temp4.step_sind" class="id">step</span></span></span></a> : <a class="idref" href="PLF.Smallstep.html#Temp4.tm"><span class="id" title="inductive">tm</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="PLF.Smallstep.html#Temp4.tm"><span class="id" title="inductive">tm</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a id="Temp4.ST_IfTrue" class="idref" href="#Temp4.ST_IfTrue"><span class="id" title="constructor">ST_IfTrue</span></a> : <span class="id" title="keyword">∀</span> <a id="t1:101" class="idref" href="#t1:101"><span class="id" title="binder">t1</span></a> <a id="t2:102" class="idref" href="#t2:102"><span class="id" title="binder">t2</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#Temp4.test"><span class="id" title="constructor">test</span></a> <a class="idref" href="PLF.Smallstep.html#Temp4.tru"><span class="id" title="constructor">tru</span></a> <a class="idref" href="PLF.Smallstep.html#t1:101"><span class="id" title="variable">t1</span></a> <a class="idref" href="PLF.Smallstep.html#t2:102"><span class="id" title="variable">t2</span></a> <a class="idref" href="PLF.Smallstep.html#Temp4.:::x_'--&gt;'_x"><span class="id" title="notation">--&gt;</span></a> <a class="idref" href="PLF.Smallstep.html#t1:101"><span class="id" title="variable">t1</span></a><br/>
&nbsp;&nbsp;| <a id="Temp4.ST_IfFalse" class="idref" href="#Temp4.ST_IfFalse"><span class="id" title="constructor">ST_IfFalse</span></a> : <span class="id" title="keyword">∀</span> <a id="t1:103" class="idref" href="#t1:103"><span class="id" title="binder">t1</span></a> <a id="t2:104" class="idref" href="#t2:104"><span class="id" title="binder">t2</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#Temp4.test"><span class="id" title="constructor">test</span></a> <a class="idref" href="PLF.Smallstep.html#Temp4.fls"><span class="id" title="constructor">fls</span></a> <a class="idref" href="PLF.Smallstep.html#t1:103"><span class="id" title="variable">t1</span></a> <a class="idref" href="PLF.Smallstep.html#t2:104"><span class="id" title="variable">t2</span></a> <a class="idref" href="PLF.Smallstep.html#Temp4.:::x_'--&gt;'_x"><span class="id" title="notation">--&gt;</span></a> <a class="idref" href="PLF.Smallstep.html#t2:104"><span class="id" title="variable">t2</span></a><br/>
&nbsp;&nbsp;| <a id="Temp4.ST_If" class="idref" href="#Temp4.ST_If"><span class="id" title="constructor">ST_If</span></a> : <span class="id" title="keyword">∀</span> <a id="t1:105" class="idref" href="#t1:105"><span class="id" title="binder">t1</span></a> <a id="t1':106" class="idref" href="#t1':106"><span class="id" title="binder">t1'</span></a> <a id="t2:107" class="idref" href="#t2:107"><span class="id" title="binder">t2</span></a> <a id="t3:108" class="idref" href="#t3:108"><span class="id" title="binder">t3</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#t1:105"><span class="id" title="variable">t1</span></a> <a class="idref" href="PLF.Smallstep.html#Temp4.:::x_'--&gt;'_x"><span class="id" title="notation">--&gt;</span></a> <a class="idref" href="PLF.Smallstep.html#t1':106"><span class="id" title="variable">t1'</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#Temp4.test"><span class="id" title="constructor">test</span></a> <a class="idref" href="PLF.Smallstep.html#t1:105"><span class="id" title="variable">t1</span></a> <a class="idref" href="PLF.Smallstep.html#t2:107"><span class="id" title="variable">t2</span></a> <a class="idref" href="PLF.Smallstep.html#t3:108"><span class="id" title="variable">t3</span></a> <a class="idref" href="PLF.Smallstep.html#Temp4.:::x_'--&gt;'_x"><span class="id" title="notation">--&gt;</span></a> <a class="idref" href="PLF.Smallstep.html#Temp4.test"><span class="id" title="constructor">test</span></a> <a class="idref" href="PLF.Smallstep.html#t1':106"><span class="id" title="variable">t1'</span></a> <a class="idref" href="PLF.Smallstep.html#t2:107"><span class="id" title="variable">t2</span></a> <a class="idref" href="PLF.Smallstep.html#t3:108"><span class="id" title="variable">t3</span></a><br/>
<br/>
&nbsp;&nbsp;<span class="id" title="keyword">where</span> <a id="Temp4.:::x_'--&gt;'_x" class="idref" href="#Temp4.:::x_'--&gt;'_x"><span class="id" title="notation">&quot;</span></a> t '--&gt;' t' " := (<a class="idref" href="PLF.Smallstep.html#step:100"><span class="id" title="inductive">step</span></a> <span class="id" title="var">t</span> <span class="id" title="var">t'</span>).<br/>

<br/>
</div>

<div class="doc">
<a id="lab522"></a><h4 class="section">Exercise: 1 star, standard, optional (smallstep_bools)</h4>


<div class="paragraph"> </div>

    Which of the following propositions are provable?  (This is just a
    thought exercise, but for an extra challenge feel free to prove
    your answers in Coq.) 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a id="Temp4.bool_step_prop1" class="idref" href="#Temp4.bool_step_prop1"><span class="id" title="definition">bool_step_prop1</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#Temp4.fls"><span class="id" title="constructor">fls</span></a> <a class="idref" href="PLF.Smallstep.html#Temp4.:::x_'--&gt;'_x"><span class="id" title="notation">--&gt;</span></a> <a class="idref" href="PLF.Smallstep.html#Temp4.fls"><span class="id" title="constructor">fls</span></a>.<br/>

<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="Temp4.bool_step_prop2" class="idref" href="#Temp4.bool_step_prop2"><span class="id" title="definition">bool_step_prop2</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#Temp4.test"><span class="id" title="constructor">test</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#Temp4.tru"><span class="id" title="constructor">tru</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="PLF.Smallstep.html#Temp4.test"><span class="id" title="constructor">test</span></a> <a class="idref" href="PLF.Smallstep.html#Temp4.tru"><span class="id" title="constructor">tru</span></a> <a class="idref" href="PLF.Smallstep.html#Temp4.tru"><span class="id" title="constructor">tru</span></a> <a class="idref" href="PLF.Smallstep.html#Temp4.tru"><span class="id" title="constructor">tru</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="PLF.Smallstep.html#Temp4.test"><span class="id" title="constructor">test</span></a> <a class="idref" href="PLF.Smallstep.html#Temp4.fls"><span class="id" title="constructor">fls</span></a> <a class="idref" href="PLF.Smallstep.html#Temp4.fls"><span class="id" title="constructor">fls</span></a> <a class="idref" href="PLF.Smallstep.html#Temp4.fls"><span class="id" title="constructor">fls</span></a>)<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#Temp4.:::x_'--&gt;'_x"><span class="id" title="notation">--&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#Temp4.tru"><span class="id" title="constructor">tru</span></a>.<br/>

<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="Temp4.bool_step_prop3" class="idref" href="#Temp4.bool_step_prop3"><span class="id" title="definition">bool_step_prop3</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#Temp4.test"><span class="id" title="constructor">test</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="PLF.Smallstep.html#Temp4.test"><span class="id" title="constructor">test</span></a> <a class="idref" href="PLF.Smallstep.html#Temp4.tru"><span class="id" title="constructor">tru</span></a> <a class="idref" href="PLF.Smallstep.html#Temp4.tru"><span class="id" title="constructor">tru</span></a> <a class="idref" href="PLF.Smallstep.html#Temp4.tru"><span class="id" title="constructor">tru</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="PLF.Smallstep.html#Temp4.test"><span class="id" title="constructor">test</span></a> <a class="idref" href="PLF.Smallstep.html#Temp4.tru"><span class="id" title="constructor">tru</span></a> <a class="idref" href="PLF.Smallstep.html#Temp4.tru"><span class="id" title="constructor">tru</span></a> <a class="idref" href="PLF.Smallstep.html#Temp4.tru"><span class="id" title="constructor">tru</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#Temp4.fls"><span class="id" title="constructor">fls</span></a><br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#Temp4.:::x_'--&gt;'_x"><span class="id" title="notation">--&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#Temp4.test"><span class="id" title="constructor">test</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#Temp4.tru"><span class="id" title="constructor">tru</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="PLF.Smallstep.html#Temp4.test"><span class="id" title="constructor">test</span></a> <a class="idref" href="PLF.Smallstep.html#Temp4.tru"><span class="id" title="constructor">tru</span></a> <a class="idref" href="PLF.Smallstep.html#Temp4.tru"><span class="id" title="constructor">tru</span></a> <a class="idref" href="PLF.Smallstep.html#Temp4.tru"><span class="id" title="constructor">tru</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#Temp4.fls"><span class="id" title="constructor">fls</span></a>.<br/>

<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="Temp4.manual_grade_for_smallstep_bools" class="idref" href="#Temp4.manual_grade_for_smallstep_bools"><span class="id" title="definition">manual_grade_for_smallstep_bools</span></a> : <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> (<a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a><span class="id" title="inductive">string</span>) := <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>
</div>

<div class="doc">
<font size=-2>&#9744;</font> 
<div class="paragraph"> </div>

<a id="lab523"></a><h4 class="section">Exercise: 3 stars, standard, optional (strong_progress_bool)</h4>


<div class="paragraph"> </div>

    Just as we proved a progress theorem for plus expressions, we can
    do so for boolean expressions as well. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Theorem</span> <a id="Temp4.strong_progress_bool" class="idref" href="#Temp4.strong_progress_bool"><span class="id" title="lemma">strong_progress_bool</span></a> : <span class="id" title="keyword">∀</span> <a id="t:109" class="idref" href="#t:109"><span class="id" title="binder">t</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#Temp4.value"><span class="id" title="inductive">value</span></a> <a class="idref" href="PLF.Smallstep.html#t:109"><span class="id" title="variable">t</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="t':110" class="idref" href="#t':110"><span class="id" title="binder">t'</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="PLF.Smallstep.html#t:109"><span class="id" title="variable">t</span></a> <a class="idref" href="PLF.Smallstep.html#Temp4.:::x_'--&gt;'_x"><span class="id" title="notation">--&gt;</span></a> <a class="idref" href="PLF.Smallstep.html#t':110"><span class="id" title="variable">t'</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
 <span class="id" title="var">Admitted</span>.<br/>
</div>

<div class="doc">
<font size=-2>&#9744;</font> 
<div class="paragraph"> </div>

<a id="lab524"></a><h4 class="section">Exercise: 2 stars, standard, optional (step_deterministic)</h4>

</div>
<div class="code">
<span class="id" title="keyword">Theorem</span> <a id="Temp4.step_deterministic" class="idref" href="#Temp4.step_deterministic"><span class="id" title="lemma">step_deterministic</span></a> : <a class="idref" href="PLF.Smallstep.html#deterministic"><span class="id" title="definition">deterministic</span></a> <a class="idref" href="PLF.Smallstep.html#Temp4.step"><span class="id" title="inductive">step</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
 <span class="id" title="var">Admitted</span>.<br/>
</div>

<div class="doc">
<font size=-2>&#9744;</font> 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Module</span> <a id="Temp4.Temp5" class="idref" href="#Temp4.Temp5"><span class="id" title="module">Temp5</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab525"></a><h4 class="section">Exercise: 2 stars, standard (smallstep_bool_shortcut)</h4>


<div class="paragraph"> </div>

    Suppose we want to add a "short circuit" to the step relation for
    boolean expressions, so that it can recognize when the <span class="inlinecode"><span class="id" title="keyword">then</span></span> and
    <span class="inlinecode"><span class="id" title="keyword">else</span></span> branches of a conditional are the same value (either
    <span class="inlinecode"><span class="id" title="var">tru</span></span> or <span class="inlinecode"><span class="id" title="var">fls</span></span>) and reduce the whole conditional to this
    value in a single step, even if the guard has not yet been reduced
    to a value. For example, we would like this proposition to be
    provable:

<div class="paragraph"> </div>

         test
            (test tru tru tru)
            fls
            fls
&gt;
         fls.

<div class="paragraph"> </div>

 Write an extra clause for the step relation that achieves this
    effect and prove <span class="inlinecode"><span class="id" title="var">bool_step_prop4</span></span>. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Reserved Notation</span> &quot; t '--&gt;' t' " (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 40).<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a id="Temp4.Temp5.step" class="idref" href="#Temp4.Temp5.step"><span class="id" title="definition, inductive"><span id="Temp4.Temp5.step_ind" class="id"><span id="Temp4.Temp5.step_sind" class="id">step</span></span></span></a> : <a class="idref" href="PLF.Smallstep.html#Temp4.tm"><span class="id" title="inductive">tm</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="PLF.Smallstep.html#Temp4.tm"><span class="id" title="inductive">tm</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a id="Temp4.Temp5.ST_IfTrue" class="idref" href="#Temp4.Temp5.ST_IfTrue"><span class="id" title="constructor">ST_IfTrue</span></a> : <span class="id" title="keyword">∀</span> <a id="t1:113" class="idref" href="#t1:113"><span class="id" title="binder">t1</span></a> <a id="t2:114" class="idref" href="#t2:114"><span class="id" title="binder">t2</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#Temp4.test"><span class="id" title="constructor">test</span></a> <a class="idref" href="PLF.Smallstep.html#Temp4.tru"><span class="id" title="constructor">tru</span></a> <a class="idref" href="PLF.Smallstep.html#t1:113"><span class="id" title="variable">t1</span></a> <a class="idref" href="PLF.Smallstep.html#t2:114"><span class="id" title="variable">t2</span></a> <a class="idref" href="PLF.Smallstep.html#Temp4.Temp5.:::x_'--&gt;'_x"><span class="id" title="notation">--&gt;</span></a> <a class="idref" href="PLF.Smallstep.html#t1:113"><span class="id" title="variable">t1</span></a><br/>
&nbsp;&nbsp;| <a id="Temp4.Temp5.ST_IfFalse" class="idref" href="#Temp4.Temp5.ST_IfFalse"><span class="id" title="constructor">ST_IfFalse</span></a> : <span class="id" title="keyword">∀</span> <a id="t1:115" class="idref" href="#t1:115"><span class="id" title="binder">t1</span></a> <a id="t2:116" class="idref" href="#t2:116"><span class="id" title="binder">t2</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#Temp4.test"><span class="id" title="constructor">test</span></a> <a class="idref" href="PLF.Smallstep.html#Temp4.fls"><span class="id" title="constructor">fls</span></a> <a class="idref" href="PLF.Smallstep.html#t1:115"><span class="id" title="variable">t1</span></a> <a class="idref" href="PLF.Smallstep.html#t2:116"><span class="id" title="variable">t2</span></a> <a class="idref" href="PLF.Smallstep.html#Temp4.Temp5.:::x_'--&gt;'_x"><span class="id" title="notation">--&gt;</span></a> <a class="idref" href="PLF.Smallstep.html#t2:116"><span class="id" title="variable">t2</span></a><br/>
&nbsp;&nbsp;| <a id="Temp4.Temp5.ST_If" class="idref" href="#Temp4.Temp5.ST_If"><span class="id" title="constructor">ST_If</span></a> : <span class="id" title="keyword">∀</span> <a id="t1:117" class="idref" href="#t1:117"><span class="id" title="binder">t1</span></a> <a id="t1':118" class="idref" href="#t1':118"><span class="id" title="binder">t1'</span></a> <a id="t2:119" class="idref" href="#t2:119"><span class="id" title="binder">t2</span></a> <a id="t3:120" class="idref" href="#t3:120"><span class="id" title="binder">t3</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#t1:117"><span class="id" title="variable">t1</span></a> <a class="idref" href="PLF.Smallstep.html#Temp4.Temp5.:::x_'--&gt;'_x"><span class="id" title="notation">--&gt;</span></a> <a class="idref" href="PLF.Smallstep.html#t1':118"><span class="id" title="variable">t1'</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#Temp4.test"><span class="id" title="constructor">test</span></a> <a class="idref" href="PLF.Smallstep.html#t1:117"><span class="id" title="variable">t1</span></a> <a class="idref" href="PLF.Smallstep.html#t2:119"><span class="id" title="variable">t2</span></a> <a class="idref" href="PLF.Smallstep.html#t3:120"><span class="id" title="variable">t3</span></a> <a class="idref" href="PLF.Smallstep.html#Temp4.Temp5.:::x_'--&gt;'_x"><span class="id" title="notation">--&gt;</span></a> <a class="idref" href="PLF.Smallstep.html#Temp4.test"><span class="id" title="constructor">test</span></a> <a class="idref" href="PLF.Smallstep.html#t1':118"><span class="id" title="variable">t1'</span></a> <a class="idref" href="PLF.Smallstep.html#t2:119"><span class="id" title="variable">t2</span></a> <a class="idref" href="PLF.Smallstep.html#t3:120"><span class="id" title="variable">t3</span></a><br/>
&nbsp;&nbsp;<br/>
<br/>
&nbsp;&nbsp;<span class="id" title="keyword">where</span> <a id="Temp4.Temp5.:::x_'--&gt;'_x" class="idref" href="#Temp4.Temp5.:::x_'--&gt;'_x"><span class="id" title="notation">&quot;</span></a> t '--&gt;' t' " := (<a class="idref" href="PLF.Smallstep.html#step:112"><span class="id" title="inductive">step</span></a> <span class="id" title="var">t</span> <span class="id" title="var">t'</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="Temp4.Temp5.bool_step_prop4" class="idref" href="#Temp4.Temp5.bool_step_prop4"><span class="id" title="definition">bool_step_prop4</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#Temp4.test"><span class="id" title="constructor">test</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="PLF.Smallstep.html#Temp4.test"><span class="id" title="constructor">test</span></a> <a class="idref" href="PLF.Smallstep.html#Temp4.tru"><span class="id" title="constructor">tru</span></a> <a class="idref" href="PLF.Smallstep.html#Temp4.tru"><span class="id" title="constructor">tru</span></a> <a class="idref" href="PLF.Smallstep.html#Temp4.tru"><span class="id" title="constructor">tru</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#Temp4.fls"><span class="id" title="constructor">fls</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#Temp4.fls"><span class="id" title="constructor">fls</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#Temp4.Temp5.:::x_'--&gt;'_x"><span class="id" title="notation">--&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#Temp4.fls"><span class="id" title="constructor">fls</span></a>.<br/>

<br/>
<span class="id" title="keyword">Example</span> <a id="Temp4.Temp5.bool_step_prop4_holds" class="idref" href="#Temp4.Temp5.bool_step_prop4_holds"><span class="id" title="definition">bool_step_prop4_holds</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#Temp4.Temp5.bool_step_prop4"><span class="id" title="definition">bool_step_prop4</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
 <span class="id" title="var">Admitted</span>.<br/>
</div>

<div class="doc">
<font size=-2>&#9744;</font> 
<div class="paragraph"> </div>

<a id="lab526"></a><h4 class="section">Exercise: 3 stars, standard, optional (properties_of_altered_step)</h4>


<div class="paragraph"> </div>

    It can be shown that the determinism and strong progress theorems
    for the step relation in the lecture notes also hold for the
    definition of <span class="inlinecode"><span class="id" title="var">step</span></span> given above.

<div class="paragraph"> </div>

    After we add the clause <span class="inlinecode"><span class="id" title="var">ST_ShortCircuit</span></span>...

<div class="paragraph"> </div>

<ul class="doclist">
<li> Is the <span class="inlinecode"><span class="id" title="var">step</span></span> relation still deterministic?  Write yes or no and
      briefly (1 sentence) explain your answer.

<div class="paragraph"> </div>

      Optional: prove your answer correct in Coq. 

</li>
</ul>
</div>
<div class="code">

<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="Temp4.Temp5.manual_grade_for_properties_of_altered_step" class="idref" href="#Temp4.Temp5.manual_grade_for_properties_of_altered_step"><span class="id" title="definition">manual_grade_for_properties_of_altered_step</span></a> : <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> (<a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a><span class="id" title="inductive">string</span>) := <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>
</div>

<div class="doc">
<font size=-2>&#9744;</font> 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="PLF.Smallstep.html#Temp4.Temp5"><span class="id" title="module">Temp5</span></a>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="PLF.Smallstep.html#Temp4"><span class="id" title="module">Temp4</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab527"></a><h1 class="section">Multi-Step Reduction</h1>

<div class="paragraph"> </div>

 We've been working so far with the <i>single-step reduction</i>
    relation <span class="inlinecode">--&gt;</span>, which formalizes the individual steps of an
    abstract machine for executing programs.

<div class="paragraph"> </div>

    We can use the same machine to reduce programs to completion -- to
    find out what final result they yield.  This can be formalized as
    follows:

<div class="paragraph"> </div>

<ul class="doclist">
<li> First, we define a <i>multi-step reduction relation</i> <span class="inlinecode">--&gt;*</span>, which
      relates terms <span class="inlinecode"><span class="id" title="var">t</span></span> and <span class="inlinecode"><span class="id" title="var">t'</span></span> if <span class="inlinecode"><span class="id" title="var">t</span></span> can reach <span class="inlinecode"><span class="id" title="var">t'</span></span> by any number
      (including zero) of single reduction steps.

<div class="paragraph"> </div>


</li>
<li> Then we define a "result" of a term <span class="inlinecode"><span class="id" title="var">t</span></span> as a normal form that
      <span class="inlinecode"><span class="id" title="var">t</span></span> can reach by multi-step reduction. 
</li>
</ul>

<div class="paragraph"> </div>

 Since we'll want to reuse the idea of multi-step reduction many
    times with many different single-step relations, let's pause and
    define the concept generically.

<div class="paragraph"> </div>

    Given a relation <span class="inlinecode"><span class="id" title="var">R</span></span> (e.g., the step relation <span class="inlinecode">--&gt;</span>), we define a
    new relation <span class="inlinecode"><span class="id" title="var">multi</span></span> <span class="inlinecode"><span class="id" title="var">R</span></span>, called the <i>multi-step closure of <span class="inlinecode"><span class="id" title="var">R</span></span></i> as
    follows. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Inductive</span> <a id="multi" class="idref" href="#multi"><span class="id" title="definition, inductive"><span id="multi_ind" class="id"><span id="multi_sind" class="id">multi</span></span></span></a> {<a id="X:121" class="idref" href="#X:121"><span class="id" title="binder">X</span></a> : <span class="id" title="keyword">Type</span>} (<a id="R:122" class="idref" href="#R:122"><span class="id" title="binder">R</span></a> : <a class="idref" href="PLF.Smallstep.html#relation"><span class="id" title="definition">relation</span></a> <a class="idref" href="PLF.Smallstep.html#X:121"><span class="id" title="variable">X</span></a>) : <a class="idref" href="PLF.Smallstep.html#relation"><span class="id" title="definition">relation</span></a> <span class="id" title="var">X</span> :=<br/>
&nbsp;&nbsp;| <a id="multi_refl" class="idref" href="#multi_refl"><span class="id" title="constructor">multi_refl</span></a> : <span class="id" title="keyword">∀</span> (<a id="x:125" class="idref" href="#x:125"><span class="id" title="binder">x</span></a> : <a class="idref" href="PLF.Smallstep.html#X:121"><span class="id" title="variable">X</span></a>), <a class="idref" href="PLF.Smallstep.html#multi:123"><span class="id" title="inductive">multi</span></a> <a class="idref" href="PLF.Smallstep.html#R:122"><span class="id" title="variable">R</span></a> <a class="idref" href="PLF.Smallstep.html#x:125"><span class="id" title="variable">x</span></a> <a class="idref" href="PLF.Smallstep.html#x:125"><span class="id" title="variable">x</span></a><br/>
&nbsp;&nbsp;| <a id="multi_step" class="idref" href="#multi_step"><span class="id" title="constructor">multi_step</span></a> : <span class="id" title="keyword">∀</span> (<a id="x:126" class="idref" href="#x:126"><span class="id" title="binder">x</span></a> <a id="y:127" class="idref" href="#y:127"><span class="id" title="binder">y</span></a> <a id="z:128" class="idref" href="#z:128"><span class="id" title="binder">z</span></a> : <a class="idref" href="PLF.Smallstep.html#X:121"><span class="id" title="variable">X</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#R:122"><span class="id" title="variable">R</span></a> <a class="idref" href="PLF.Smallstep.html#x:126"><span class="id" title="variable">x</span></a> <a class="idref" href="PLF.Smallstep.html#y:127"><span class="id" title="variable">y</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#multi:123"><span class="id" title="inductive">multi</span></a> <a class="idref" href="PLF.Smallstep.html#R:122"><span class="id" title="variable">R</span></a> <a class="idref" href="PLF.Smallstep.html#y:127"><span class="id" title="variable">y</span></a> <a class="idref" href="PLF.Smallstep.html#z:128"><span class="id" title="variable">z</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#multi:123"><span class="id" title="inductive">multi</span></a> <a class="idref" href="PLF.Smallstep.html#R:122"><span class="id" title="variable">R</span></a> <a class="idref" href="PLF.Smallstep.html#x:126"><span class="id" title="variable">x</span></a> <a class="idref" href="PLF.Smallstep.html#z:128"><span class="id" title="variable">z</span></a>.<br/>

<br/>
</div>

<div class="doc">
(In the <span class="inlinecode"><span class="id" title="var">Rel</span></span> chapter of <i>Logical Foundations</i> and in
    the Coq standard library, this relation is called
    <span class="inlinecode"><span class="id" title="var">clos_refl_trans_1n</span></span>.  We give it a shorter name here for the sake
    of readability.) 
<div class="paragraph"> </div>

 The effect of this definition is that <span class="inlinecode"><span class="id" title="var">multi</span></span> <span class="inlinecode"><span class="id" title="var">R</span></span> relates two
    elements <span class="inlinecode"><span class="id" title="var">x</span></span> and <span class="inlinecode"><span class="id" title="var">y</span></span> if

<div class="paragraph"> </div>

<ul class="doclist">
<li> <span class="inlinecode"><span class="id" title="var">x</span></span> <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" title="var">y</span></span>, or

</li>
<li> <span class="inlinecode"><span class="id" title="var">R</span></span> <span class="inlinecode"><span class="id" title="var">x</span></span> <span class="inlinecode"><span class="id" title="var">y</span></span>, or

</li>
<li> there is some nonempty sequence <span class="inlinecode"><span class="id" title="var">z1</span></span>, <span class="inlinecode"><span class="id" title="var">z2</span></span>, ..., <span class="inlinecode"><span class="id" title="var">zn</span></span> such that

<div class="paragraph"> </div>

           R x z1
           R z1 z2
           ...
           R zn y.

</li>
</ul>

<div class="paragraph"> </div>

    Intuitively, if <span class="inlinecode"><span class="id" title="var">R</span></span> describes a single-step of computation, then
    <span class="inlinecode"><span class="id" title="var">z1</span></span> ... <span class="inlinecode"><span class="id" title="var">zn</span></span> are the intermediate steps of computation that get
    us from <span class="inlinecode"><span class="id" title="var">x</span></span> to <span class="inlinecode"><span class="id" title="var">y</span></span>. 
<div class="paragraph"> </div>

 We write <span class="inlinecode">--&gt;*</span> for the <span class="inlinecode"><span class="id" title="var">multi</span></span> <span class="inlinecode"><span class="id" title="var">step</span></span> relation on terms. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Notation</span> <a id="a781e4b1e2c022f0326182a9bd099911" class="idref" href="#a781e4b1e2c022f0326182a9bd099911"><span class="id" title="notation">&quot;</span></a> t '--&gt;*' t' " := (<a class="idref" href="PLF.Smallstep.html#multi"><span class="id" title="inductive">multi</span></a> <a class="idref" href="PLF.Smallstep.html#step"><span class="id" title="inductive">step</span></a> <span class="id" title="var">t</span> <span class="id" title="var">t'</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 40).<br/>

<br/>
</div>

<div class="doc">
The relation <span class="inlinecode"><span class="id" title="var">multi</span></span> <span class="inlinecode"><span class="id" title="var">R</span></span> has several crucial properties.

<div class="paragraph"> </div>

    First, it is obviously <i>reflexive</i> (that is, <span class="inlinecode"><span class="id" title="keyword">∀</span></span> <span class="inlinecode"><span class="id" title="var">x</span>,</span> <span class="inlinecode"><span class="id" title="var">multi</span></span> <span class="inlinecode"><span class="id" title="var">R</span></span> <span class="inlinecode"><span class="id" title="var">x</span></span>
    <span class="inlinecode"><span class="id" title="var">x</span></span>).  In the case of the <span class="inlinecode">--&gt;*</span> (i.e., <span class="inlinecode"><span class="id" title="var">multi</span></span> <span class="inlinecode"><span class="id" title="var">step</span></span>) relation, the
    intuition is that a term can execute to itself by taking zero
    steps of reduction. 
<div class="paragraph"> </div>

 Second, it contains <span class="inlinecode"><span class="id" title="var">R</span></span> -- that is, single-step reductions are a
    particular case of multi-step executions.  (It is this fact that
    justifies the word "closure" in the term "multi-step closure of
    <span class="inlinecode"><span class="id" title="var">R</span></span>.") 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Theorem</span> <a id="multi_R" class="idref" href="#multi_R"><span class="id" title="lemma">multi_R</span></a> : <span class="id" title="keyword">∀</span> (<a id="X:129" class="idref" href="#X:129"><span class="id" title="binder">X</span></a> : <span class="id" title="keyword">Type</span>) (<a id="R:130" class="idref" href="#R:130"><span class="id" title="binder">R</span></a> : <a class="idref" href="PLF.Smallstep.html#relation"><span class="id" title="definition">relation</span></a> <a class="idref" href="PLF.Smallstep.html#X:129"><span class="id" title="variable">X</span></a>) (<a id="x:131" class="idref" href="#x:131"><span class="id" title="binder">x</span></a> <a id="y:132" class="idref" href="#y:132"><span class="id" title="binder">y</span></a> : <a class="idref" href="PLF.Smallstep.html#X:129"><span class="id" title="variable">X</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#R:130"><span class="id" title="variable">R</span></a> <a class="idref" href="PLF.Smallstep.html#x:131"><span class="id" title="variable">x</span></a> <a class="idref" href="PLF.Smallstep.html#y:132"><span class="id" title="variable">y</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> (<a class="idref" href="PLF.Smallstep.html#multi"><span class="id" title="inductive">multi</span></a> <a class="idref" href="PLF.Smallstep.html#R:130"><span class="id" title="variable">R</span></a>) <a class="idref" href="PLF.Smallstep.html#x:131"><span class="id" title="variable">x</span></a> <a class="idref" href="PLF.Smallstep.html#y:132"><span class="id" title="variable">y</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">X</span> <span class="id" title="var">R</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#multi_step"><span class="id" title="constructor">multi_step</span></a> <span class="id" title="keyword">with</span> <span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#multi_refl"><span class="id" title="constructor">multi_refl</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Third, <span class="inlinecode"><span class="id" title="var">multi</span></span> <span class="inlinecode"><span class="id" title="var">R</span></span> is <i>transitive</i>. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Theorem</span> <a id="multi_trans" class="idref" href="#multi_trans"><span class="id" title="lemma">multi_trans</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<a id="X:133" class="idref" href="#X:133"><span class="id" title="binder">X</span></a> : <span class="id" title="keyword">Type</span>) (<a id="R:134" class="idref" href="#R:134"><span class="id" title="binder">R</span></a> : <a class="idref" href="PLF.Smallstep.html#relation"><span class="id" title="definition">relation</span></a> <a class="idref" href="PLF.Smallstep.html#X:133"><span class="id" title="variable">X</span></a>) (<a id="x:135" class="idref" href="#x:135"><span class="id" title="binder">x</span></a> <a id="y:136" class="idref" href="#y:136"><span class="id" title="binder">y</span></a> <a id="z:137" class="idref" href="#z:137"><span class="id" title="binder">z</span></a> : <a class="idref" href="PLF.Smallstep.html#X:133"><span class="id" title="variable">X</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#multi"><span class="id" title="inductive">multi</span></a> <a class="idref" href="PLF.Smallstep.html#R:134"><span class="id" title="variable">R</span></a> <a class="idref" href="PLF.Smallstep.html#x:135"><span class="id" title="variable">x</span></a> <a class="idref" href="PLF.Smallstep.html#y:136"><span class="id" title="variable">y</span></a>  <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#multi"><span class="id" title="inductive">multi</span></a> <a class="idref" href="PLF.Smallstep.html#R:134"><span class="id" title="variable">R</span></a> <a class="idref" href="PLF.Smallstep.html#y:136"><span class="id" title="variable">y</span></a> <a class="idref" href="PLF.Smallstep.html#z:137"><span class="id" title="variable">z</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#multi"><span class="id" title="inductive">multi</span></a> <a class="idref" href="PLF.Smallstep.html#R:134"><span class="id" title="variable">R</span></a> <a class="idref" href="PLF.Smallstep.html#x:135"><span class="id" title="variable">x</span></a> <a class="idref" href="PLF.Smallstep.html#z:137"><span class="id" title="variable">z</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">X</span> <span class="id" title="var">R</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span> <span class="id" title="var">G</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">G</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-  <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#multi_step"><span class="id" title="constructor">multi_step</span></a> <span class="id" title="keyword">with</span> <span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">IHG</span>. <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
In particular, for the <span class="inlinecode"><span class="id" title="var">multi</span></span> <span class="inlinecode"><span class="id" title="var">step</span></span> relation on terms, if
    <span class="inlinecode"><span class="id" title="var">t1</span></span> <span class="inlinecode">--&gt;*</span> <span class="inlinecode"><span class="id" title="var">t2</span></span> and <span class="inlinecode"><span class="id" title="var">t2</span></span> <span class="inlinecode">--&gt;*</span> <span class="inlinecode"><span class="id" title="var">t3</span></span>, then <span class="inlinecode"><span class="id" title="var">t1</span></span> <span class="inlinecode">--&gt;*</span> <span class="inlinecode"><span class="id" title="var">t3</span></span>. 
</div>
<div class="code">

<br/>
</div>

<div class="doc">
<a id="lab528"></a><h2 class="section">Examples</h2>


<div class="paragraph"> </div>

    Here's a specific instance of the <span class="inlinecode"><span class="id" title="var">multi</span></span> <span class="inlinecode"><span class="id" title="var">step</span></span> relation: 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a id="test_multistep_1" class="idref" href="#test_multistep_1"><span class="id" title="lemma">test_multistep_1</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#P"><span class="id" title="constructor">P</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="PLF.Smallstep.html#P"><span class="id" title="constructor">P</span></a> (<a class="idref" href="PLF.Smallstep.html#C"><span class="id" title="constructor">C</span></a> 0) (<a class="idref" href="PLF.Smallstep.html#C"><span class="id" title="constructor">C</span></a> 3))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="PLF.Smallstep.html#P"><span class="id" title="constructor">P</span></a> (<a class="idref" href="PLF.Smallstep.html#C"><span class="id" title="constructor">C</span></a> 2) (<a class="idref" href="PLF.Smallstep.html#C"><span class="id" title="constructor">C</span></a> 4))<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#a781e4b1e2c022f0326182a9bd099911"><span class="id" title="notation">--&gt;*</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#C"><span class="id" title="constructor">C</span></a> (<a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Nat.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">(</span></a>0 <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Nat.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 3<a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Nat.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">)</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Nat.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Nat.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">(</span></a>2 <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Nat.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 4<a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Nat.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">)</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#multi_step"><span class="id" title="constructor">multi_step</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="PLF.Smallstep.html#P"><span class="id" title="constructor">P</span></a> (<a class="idref" href="PLF.Smallstep.html#C"><span class="id" title="constructor">C</span></a> (0 <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Nat.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 3))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="PLF.Smallstep.html#P"><span class="id" title="constructor">P</span></a> (<a class="idref" href="PLF.Smallstep.html#C"><span class="id" title="constructor">C</span></a> 2) (<a class="idref" href="PLF.Smallstep.html#C"><span class="id" title="constructor">C</span></a> 4))).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#ST_Plus1"><span class="id" title="constructor">ST_Plus1</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#ST_PlusConstConst"><span class="id" title="constructor">ST_PlusConstConst</span></a>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#multi_step"><span class="id" title="constructor">multi_step</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="PLF.Smallstep.html#P"><span class="id" title="constructor">P</span></a> (<a class="idref" href="PLF.Smallstep.html#C"><span class="id" title="constructor">C</span></a> (0 <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Nat.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 3))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="PLF.Smallstep.html#C"><span class="id" title="constructor">C</span></a> (2 <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Nat.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 4))).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#ST_Plus2"><span class="id" title="constructor">ST_Plus2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#v_const"><span class="id" title="constructor">v_const</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#ST_PlusConstConst"><span class="id" title="constructor">ST_PlusConstConst</span></a>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#multi_R"><span class="id" title="lemma">multi_R</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#ST_PlusConstConst"><span class="id" title="constructor">ST_PlusConstConst</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Here's an alternate proof of the same fact that uses <span class="inlinecode"><span class="id" title="tactic">eapply</span></span> to
    avoid explicitly constructing all the intermediate terms. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a id="test_multistep_1'" class="idref" href="#test_multistep_1'"><span class="id" title="lemma">test_multistep_1'</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#P"><span class="id" title="constructor">P</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="PLF.Smallstep.html#P"><span class="id" title="constructor">P</span></a> (<a class="idref" href="PLF.Smallstep.html#C"><span class="id" title="constructor">C</span></a> 0) (<a class="idref" href="PLF.Smallstep.html#C"><span class="id" title="constructor">C</span></a> 3))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="PLF.Smallstep.html#P"><span class="id" title="constructor">P</span></a> (<a class="idref" href="PLF.Smallstep.html#C"><span class="id" title="constructor">C</span></a> 2) (<a class="idref" href="PLF.Smallstep.html#C"><span class="id" title="constructor">C</span></a> 4))<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#a781e4b1e2c022f0326182a9bd099911"><span class="id" title="notation">--&gt;*</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#C"><span class="id" title="constructor">C</span></a> (<a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Nat.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">(</span></a>0 <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Nat.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 3<a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Nat.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">)</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Nat.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Nat.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">(</span></a>2 <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Nat.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 4<a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Nat.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">)</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="PLF.Smallstep.html#multi_step"><span class="id" title="constructor">multi_step</span></a>. { <span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#ST_Plus1"><span class="id" title="constructor">ST_Plus1</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#ST_PlusConstConst"><span class="id" title="constructor">ST_PlusConstConst</span></a>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="PLF.Smallstep.html#multi_step"><span class="id" title="constructor">multi_step</span></a>. { <span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#ST_Plus2"><span class="id" title="constructor">ST_Plus2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#v_const"><span class="id" title="constructor">v_const</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#ST_PlusConstConst"><span class="id" title="constructor">ST_PlusConstConst</span></a>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="PLF.Smallstep.html#multi_step"><span class="id" title="constructor">multi_step</span></a>. { <span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#ST_PlusConstConst"><span class="id" title="constructor">ST_PlusConstConst</span></a>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#multi_refl"><span class="id" title="constructor">multi_refl</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab529"></a><h4 class="section">Exercise: 1 star, standard, optional (test_multistep_2)</h4>

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="test_multistep_2" class="idref" href="#test_multistep_2"><span class="id" title="lemma">test_multistep_2</span></a>:<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#C"><span class="id" title="constructor">C</span></a> 3 <a class="idref" href="PLF.Smallstep.html#a781e4b1e2c022f0326182a9bd099911"><span class="id" title="notation">--&gt;*</span></a> <a class="idref" href="PLF.Smallstep.html#C"><span class="id" title="constructor">C</span></a> 3.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
 <span class="id" title="var">Admitted</span>.<br/>
</div>

<div class="doc">
<font size=-2>&#9744;</font> 
<div class="paragraph"> </div>

<a id="lab530"></a><h4 class="section">Exercise: 1 star, standard, optional (test_multistep_3)</h4>

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="test_multistep_3" class="idref" href="#test_multistep_3"><span class="id" title="lemma">test_multistep_3</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#P"><span class="id" title="constructor">P</span></a> (<a class="idref" href="PLF.Smallstep.html#C"><span class="id" title="constructor">C</span></a> 0) (<a class="idref" href="PLF.Smallstep.html#C"><span class="id" title="constructor">C</span></a> 3)<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#a781e4b1e2c022f0326182a9bd099911"><span class="id" title="notation">--&gt;*</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#P"><span class="id" title="constructor">P</span></a> (<a class="idref" href="PLF.Smallstep.html#C"><span class="id" title="constructor">C</span></a> 0) (<a class="idref" href="PLF.Smallstep.html#C"><span class="id" title="constructor">C</span></a> 3).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
 <span class="id" title="var">Admitted</span>.<br/>
</div>

<div class="doc">
<font size=-2>&#9744;</font> 
<div class="paragraph"> </div>

<a id="lab531"></a><h4 class="section">Exercise: 2 stars, standard (test_multistep_4)</h4>

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="test_multistep_4" class="idref" href="#test_multistep_4"><span class="id" title="lemma">test_multistep_4</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#P"><span class="id" title="constructor">P</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="PLF.Smallstep.html#C"><span class="id" title="constructor">C</span></a> 0)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="PLF.Smallstep.html#P"><span class="id" title="constructor">P</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="PLF.Smallstep.html#C"><span class="id" title="constructor">C</span></a> 2)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="PLF.Smallstep.html#P"><span class="id" title="constructor">P</span></a> (<a class="idref" href="PLF.Smallstep.html#C"><span class="id" title="constructor">C</span></a> 0) (<a class="idref" href="PLF.Smallstep.html#C"><span class="id" title="constructor">C</span></a> 3)))<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#a781e4b1e2c022f0326182a9bd099911"><span class="id" title="notation">--&gt;*</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#P"><span class="id" title="constructor">P</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="PLF.Smallstep.html#C"><span class="id" title="constructor">C</span></a> 0)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="PLF.Smallstep.html#C"><span class="id" title="constructor">C</span></a> (2 <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Nat.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Nat.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">(</span></a>0 <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Nat.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 3<a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Nat.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">)</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
 <span class="id" title="var">Admitted</span>.<br/>
</div>

<div class="doc">
<font size=-2>&#9744;</font> 
</div>
<div class="code">

<br/>
</div>

<div class="doc">
<a id="lab532"></a><h2 class="section">Normal Forms Again</h2>

<div class="paragraph"> </div>

 If <span class="inlinecode"><span class="id" title="var">t</span></span> reduces to <span class="inlinecode"><span class="id" title="var">t'</span></span> in zero or more steps and <span class="inlinecode"><span class="id" title="var">t'</span></span> is a
    normal form, we say that "<span class="inlinecode"><span class="id" title="var">t'</span></span> is a normal form of <span class="inlinecode"><span class="id" title="var">t</span></span>." 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a id="step_normal_form" class="idref" href="#step_normal_form"><span class="id" title="definition">step_normal_form</span></a> := <a class="idref" href="PLF.Smallstep.html#normal_form"><span class="id" title="definition">normal_form</span></a> <a class="idref" href="PLF.Smallstep.html#step"><span class="id" title="inductive">step</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="normal_form_of" class="idref" href="#normal_form_of"><span class="id" title="definition">normal_form_of</span></a> (<a id="t:138" class="idref" href="#t:138"><span class="id" title="binder">t</span></a> <a id="t':139" class="idref" href="#t':139"><span class="id" title="binder">t'</span></a> : <a class="idref" href="PLF.Smallstep.html#tm"><span class="id" title="inductive">tm</span></a>) :=<br/>
&nbsp;&nbsp;(<a class="idref" href="PLF.Smallstep.html#t:138"><span class="id" title="variable">t</span></a> <a class="idref" href="PLF.Smallstep.html#a781e4b1e2c022f0326182a9bd099911"><span class="id" title="notation">--&gt;*</span></a> <a class="idref" href="PLF.Smallstep.html#t':139"><span class="id" title="variable">t'</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="PLF.Smallstep.html#step_normal_form"><span class="id" title="definition">step_normal_form</span></a> <a class="idref" href="PLF.Smallstep.html#t':139"><span class="id" title="variable">t'</span></a>).<br/>

<br/>
</div>

<div class="doc">
We have already seen that, for our language, single-step
    reduction is deterministic -- i.e., a given term can take a single
    step in at most one way.  It follows from this that, if <span class="inlinecode"><span class="id" title="var">t</span></span> can
    reach a normal form, then this normal form is unique.

<div class="paragraph"> </div>

    In other words, we can actually pronounce <span class="inlinecode"><span class="id" title="var">normal_form</span></span> <span class="inlinecode"><span class="id" title="var">t</span></span> <span class="inlinecode"><span class="id" title="var">t'</span></span> as
    "<span class="inlinecode"><span class="id" title="var">t'</span></span> is <i>the</i> normal form of <span class="inlinecode"><span class="id" title="var">t</span></span>." 
<div class="paragraph"> </div>

<a id="lab533"></a><h4 class="section">Exercise: 3 stars, standard, optional (normal_forms_unique)</h4>

</div>
<div class="code">
<span class="id" title="keyword">Theorem</span> <a id="normal_forms_unique" class="idref" href="#normal_forms_unique"><span class="id" title="lemma">normal_forms_unique</span></a>:<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#deterministic"><span class="id" title="definition">deterministic</span></a> <a class="idref" href="PLF.Smallstep.html#normal_form_of"><span class="id" title="definition">normal_form_of</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="PLF.Smallstep.html#deterministic"><span class="id" title="definition">deterministic</span></a>. <span class="id" title="tactic">unfold</span> <a class="idref" href="PLF.Smallstep.html#normal_form_of"><span class="id" title="definition">normal_form_of</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">y1</span> <span class="id" title="var">y2</span> <span class="id" title="var">P1</span> <span class="id" title="var">P2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">P1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">P11</span> <span class="id" title="var">P12</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">P2</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">P21</span> <span class="id" title="var">P22</span>].<br/>
 <span class="id" title="var">Admitted</span>.<br/>
</div>

<div class="doc">
<font size=-2>&#9744;</font> 
<div class="paragraph"> </div>

 Indeed, something stronger is true for this language (though
    not for all the languages we will see): the reduction of <i>any</i>
    term <span class="inlinecode"><span class="id" title="var">t</span></span> will eventually reach a normal form -- i.e.,
    <span class="inlinecode"><span class="id" title="var">normal_form_of</span></span> is a <i>total</i> function.  We say the <span class="inlinecode"><span class="id" title="var">step</span></span>
    relation is <i>normalizing</i>. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a id="normalizing" class="idref" href="#normalizing"><span class="id" title="definition">normalizing</span></a> {<a id="X:140" class="idref" href="#X:140"><span class="id" title="binder">X</span></a> : <span class="id" title="keyword">Type</span>} (<a id="R:141" class="idref" href="#R:141"><span class="id" title="binder">R</span></a> : <a class="idref" href="PLF.Smallstep.html#relation"><span class="id" title="definition">relation</span></a> <a class="idref" href="PLF.Smallstep.html#X:140"><span class="id" title="variable">X</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="t:142" class="idref" href="#t:142"><span class="id" title="binder">t</span></a>, <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="t':143" class="idref" href="#t':143"><span class="id" title="binder">t'</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="PLF.Smallstep.html#multi"><span class="id" title="inductive">multi</span></a> <a class="idref" href="PLF.Smallstep.html#R:141"><span class="id" title="variable">R</span></a>) <a class="idref" href="PLF.Smallstep.html#t:142"><span class="id" title="variable">t</span></a> <a class="idref" href="PLF.Smallstep.html#t':143"><span class="id" title="variable">t'</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="PLF.Smallstep.html#normal_form"><span class="id" title="definition">normal_form</span></a> <a class="idref" href="PLF.Smallstep.html#R:141"><span class="id" title="variable">R</span></a> <a class="idref" href="PLF.Smallstep.html#t':143"><span class="id" title="variable">t'</span></a>.<br/>

<br/>
</div>

<div class="doc">
To prove that <span class="inlinecode"><span class="id" title="var">step</span></span> is normalizing, we need a couple of lemmas.
    First, we observe that, if <span class="inlinecode"><span class="id" title="var">t</span></span> reduces to <span class="inlinecode"><span class="id" title="var">t'</span></span> in many steps, then
    the same sequence of reduction steps within <span class="inlinecode"><span class="id" title="var">t</span></span> is also possible
    when <span class="inlinecode"><span class="id" title="var">t</span></span> appears as the first argument to <span class="inlinecode"><span class="id" title="var">P</span></span>, and
    similarly when <span class="inlinecode"><span class="id" title="var">t</span></span> appears as the second argument to <span class="inlinecode"><span class="id" title="var">P</span></span>
    (and the first argument is a value). 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a id="multistep_congr_1" class="idref" href="#multistep_congr_1"><span class="id" title="lemma">multistep_congr_1</span></a> : <span class="id" title="keyword">∀</span> <a id="t1:144" class="idref" href="#t1:144"><span class="id" title="binder">t1</span></a> <a id="t1':145" class="idref" href="#t1':145"><span class="id" title="binder">t1'</span></a> <a id="t2:146" class="idref" href="#t2:146"><span class="id" title="binder">t2</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#t1:144"><span class="id" title="variable">t1</span></a> <a class="idref" href="PLF.Smallstep.html#a781e4b1e2c022f0326182a9bd099911"><span class="id" title="notation">--&gt;*</span></a> <a class="idref" href="PLF.Smallstep.html#t1':145"><span class="id" title="variable">t1'</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#P"><span class="id" title="constructor">P</span></a> <a class="idref" href="PLF.Smallstep.html#t1:144"><span class="id" title="variable">t1</span></a> <a class="idref" href="PLF.Smallstep.html#t2:146"><span class="id" title="variable">t2</span></a> <a class="idref" href="PLF.Smallstep.html#a781e4b1e2c022f0326182a9bd099911"><span class="id" title="notation">--&gt;*</span></a> <a class="idref" href="PLF.Smallstep.html#P"><span class="id" title="constructor">P</span></a> <a class="idref" href="PLF.Smallstep.html#t1':145"><span class="id" title="variable">t1'</span></a> <a class="idref" href="PLF.Smallstep.html#t2:146"><span class="id" title="variable">t2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">t1</span> <span class="id" title="var">t1'</span> <span class="id" title="var">t2</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;-  <span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#multi_refl"><span class="id" title="constructor">multi_refl</span></a>.<br/>
&nbsp;&nbsp;-  <span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#multi_step"><span class="id" title="constructor">multi_step</span></a> <span class="id" title="keyword">with</span> (<a class="idref" href="PLF.Smallstep.html#P"><span class="id" title="constructor">P</span></a> <span class="id" title="var">y</span> <span class="id" title="var">t2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#ST_Plus1"><span class="id" title="constructor">ST_Plus1</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">IHmulti</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab534"></a><h4 class="section">Exercise: 2 stars, standard (multistep_congr_2)</h4>

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="multistep_congr_2" class="idref" href="#multistep_congr_2"><span class="id" title="lemma">multistep_congr_2</span></a> : <span class="id" title="keyword">∀</span> <a id="v1:147" class="idref" href="#v1:147"><span class="id" title="binder">v1</span></a> <a id="t2:148" class="idref" href="#t2:148"><span class="id" title="binder">t2</span></a> <a id="t2':149" class="idref" href="#t2':149"><span class="id" title="binder">t2'</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#value"><span class="id" title="inductive">value</span></a> <a class="idref" href="PLF.Smallstep.html#v1:147"><span class="id" title="variable">v1</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#t2:148"><span class="id" title="variable">t2</span></a> <a class="idref" href="PLF.Smallstep.html#a781e4b1e2c022f0326182a9bd099911"><span class="id" title="notation">--&gt;*</span></a> <a class="idref" href="PLF.Smallstep.html#t2':149"><span class="id" title="variable">t2'</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#P"><span class="id" title="constructor">P</span></a> <a class="idref" href="PLF.Smallstep.html#v1:147"><span class="id" title="variable">v1</span></a> <a class="idref" href="PLF.Smallstep.html#t2:148"><span class="id" title="variable">t2</span></a> <a class="idref" href="PLF.Smallstep.html#a781e4b1e2c022f0326182a9bd099911"><span class="id" title="notation">--&gt;*</span></a> <a class="idref" href="PLF.Smallstep.html#P"><span class="id" title="constructor">P</span></a> <a class="idref" href="PLF.Smallstep.html#v1:147"><span class="id" title="variable">v1</span></a> <a class="idref" href="PLF.Smallstep.html#t2':149"><span class="id" title="variable">t2'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
 <span class="id" title="var">Admitted</span>.<br/>
</div>

<div class="doc">
<font size=-2>&#9744;</font> 
<div class="paragraph"> </div>

 With these lemmas in hand, the main proof is a straightforward
    induction.

<div class="paragraph"> </div>

    <i>Theorem</i>: The <span class="inlinecode"><span class="id" title="var">step</span></span> function is normalizing -- i.e., for every
    <span class="inlinecode"><span class="id" title="var">t</span></span> there exists some <span class="inlinecode"><span class="id" title="var">t'</span></span> such that <span class="inlinecode"><span class="id" title="var">t</span></span> reduces to <span class="inlinecode"><span class="id" title="var">t'</span></span> and <span class="inlinecode"><span class="id" title="var">t'</span></span>
    is a normal form.

<div class="paragraph"> </div>

    <i>Proof sketch</i>: By induction on terms.  There are two cases to
    consider:

<div class="paragraph"> </div>

<ul class="doclist">
<li> <span class="inlinecode"><span class="id" title="var">t</span></span> <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" title="var">C</span></span> <span class="inlinecode"><span class="id" title="var">n</span></span> for some <span class="inlinecode"><span class="id" title="var">n</span></span>.  Here <span class="inlinecode"><span class="id" title="var">t</span></span> doesn't take a step, and we
      have <span class="inlinecode"><span class="id" title="var">t'</span></span> <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" title="var">t</span></span>.  We can derive the left-hand side by reflexivity
      and the right-hand side by observing (a) that values are normal
      forms (by <span class="inlinecode"><span class="id" title="var">nf_same_as_value</span></span>) and (b) that <span class="inlinecode"><span class="id" title="var">t</span></span> is a value (by
      <span class="inlinecode"><span class="id" title="var">v_const</span></span>).

<div class="paragraph"> </div>


</li>
<li> <span class="inlinecode"><span class="id" title="var">t</span></span> <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" title="var">P</span></span> <span class="inlinecode"><span class="id" title="var">t1</span></span> <span class="inlinecode"><span class="id" title="var">t2</span></span> for some <span class="inlinecode"><span class="id" title="var">t1</span></span> and <span class="inlinecode"><span class="id" title="var">t2</span></span>.  By the IH, <span class="inlinecode"><span class="id" title="var">t1</span></span> and <span class="inlinecode"><span class="id" title="var">t2</span></span>
      reduce to normal forms <span class="inlinecode"><span class="id" title="var">t1'</span></span> and <span class="inlinecode"><span class="id" title="var">t2'</span></span>.  Recall that normal
      forms are values (by <span class="inlinecode"><span class="id" title="var">nf_same_as_value</span></span>); we therefore know that
      <span class="inlinecode"><span class="id" title="var">t1'</span></span> <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" title="var">C</span></span> <span class="inlinecode"><span class="id" title="var">n1</span></span> and <span class="inlinecode"><span class="id" title="var">t2'</span></span> <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" title="var">C</span></span> <span class="inlinecode"><span class="id" title="var">n2</span></span>, for some <span class="inlinecode"><span class="id" title="var">n1</span></span> and <span class="inlinecode"><span class="id" title="var">n2</span></span>.  We can
      combine the <span class="inlinecode">--&gt;*</span> derivations for <span class="inlinecode"><span class="id" title="var">t1</span></span> and <span class="inlinecode"><span class="id" title="var">t2</span></span> using
      <span class="inlinecode"><span class="id" title="var">multi_congr_1</span></span> and <span class="inlinecode"><span class="id" title="var">multi_congr_2</span></span> to prove that <span class="inlinecode"><span class="id" title="var">P</span></span> <span class="inlinecode"><span class="id" title="var">t1</span></span> <span class="inlinecode"><span class="id" title="var">t2</span></span>
      reduces in many steps to <span class="inlinecode"><span class="id" title="var">t'</span></span> <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" title="var">C</span></span> <span class="inlinecode">(<span class="id" title="var">n1</span></span> <span class="inlinecode">+</span> <span class="inlinecode"><span class="id" title="var">n2</span>)</span>.

<div class="paragraph"> </div>

      Finally, <span class="inlinecode"><span class="id" title="var">C</span></span> <span class="inlinecode">(<span class="id" title="var">n1</span></span> <span class="inlinecode">+</span> <span class="inlinecode"><span class="id" title="var">n2</span>)</span> is a value, which is in turn a normal
      form by <span class="inlinecode"><span class="id" title="var">nf_same_as_value</span></span>. <font size=-2>&#9744;</font> 

</li>
</ul>
</div>
<div class="code">
<span class="id" title="keyword">Theorem</span> <a id="step_normalizing" class="idref" href="#step_normalizing"><span class="id" title="lemma">step_normalizing</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#normalizing"><span class="id" title="definition">normalizing</span></a> <a class="idref" href="PLF.Smallstep.html#step"><span class="id" title="inductive">step</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="PLF.Smallstep.html#normalizing"><span class="id" title="definition">normalizing</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">t</span>.<br/>
&nbsp;&nbsp;- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> (<a class="idref" href="PLF.Smallstep.html#C"><span class="id" title="constructor">C</span></a> <span class="id" title="var">n</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+  <span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#multi_refl"><span class="id" title="constructor">multi_refl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#nf_same_as_value"><span class="id" title="lemma">nf_same_as_value</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#v_const"><span class="id" title="constructor">v_const</span></a>.<br/>

<br/>
&nbsp;&nbsp;- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">IHt1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">t1'</span> [<span class="id" title="var">Hsteps1</span> <span class="id" title="var">Hnormal1</span>] ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">IHt2</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">t2'</span> [<span class="id" title="var">Hsteps2</span> <span class="id" title="var">Hnormal2</span>] ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#nf_same_as_value"><span class="id" title="lemma">nf_same_as_value</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hnormal1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#nf_same_as_value"><span class="id" title="lemma">nf_same_as_value</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hnormal2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hnormal1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">n1</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hnormal2</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">n2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> (<a class="idref" href="PLF.Smallstep.html#C"><span class="id" title="constructor">C</span></a> (<span class="id" title="var">n1</span> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Nat.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">n2</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#multi_trans"><span class="id" title="lemma">multi_trans</span></a> <span class="id" title="keyword">with</span> (<a class="idref" href="PLF.Smallstep.html#P"><span class="id" title="constructor">P</span></a> (<a class="idref" href="PLF.Smallstep.html#C"><span class="id" title="constructor">C</span></a> <span class="id" title="var">n1</span>) <span class="id" title="var">t2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#multistep_congr_1"><span class="id" title="lemma">multistep_congr_1</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hsteps1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#multi_trans"><span class="id" title="lemma">multi_trans</span></a> <span class="id" title="keyword">with</span> (<a class="idref" href="PLF.Smallstep.html#P"><span class="id" title="constructor">P</span></a> (<a class="idref" href="PLF.Smallstep.html#C"><span class="id" title="constructor">C</span></a> <span class="id" title="var">n1</span>) (<a class="idref" href="PLF.Smallstep.html#C"><span class="id" title="constructor">C</span></a> <span class="id" title="var">n2</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#multistep_congr_2"><span class="id" title="axiom">multistep_congr_2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#v_const"><span class="id" title="constructor">v_const</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">Hsteps2</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#multi_R"><span class="id" title="lemma">multi_R</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#ST_PlusConstConst"><span class="id" title="constructor">ST_PlusConstConst</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#nf_same_as_value"><span class="id" title="lemma">nf_same_as_value</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#v_const"><span class="id" title="constructor">v_const</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab535"></a><h2 class="section">Equivalence of Big-Step and Small-Step</h2>

<div class="paragraph"> </div>

 Having defined the operational semantics of our tiny programming
    language in two different ways (big-step and small-step), it makes
    sense to ask whether these definitions actually define the same
    thing! 
<div class="paragraph"> </div>

 They do, though it takes a little work to show it.  The
    details are left as an exercise.

<div class="paragraph"> </div>

    We consider the two implications separately. 
<div class="paragraph"> </div>

<a id="lab536"></a><h4 class="section">Exercise: 3 stars, standard (eval__multistep)</h4>

</div>
<div class="code">
<span class="id" title="keyword">Theorem</span> <a id="eval__multistep" class="idref" href="#eval__multistep"><span class="id" title="lemma">eval__multistep</span></a> : <span class="id" title="keyword">∀</span> <a id="t:150" class="idref" href="#t:150"><span class="id" title="binder">t</span></a> <a id="n:151" class="idref" href="#n:151"><span class="id" title="binder">n</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#t:150"><span class="id" title="variable">t</span></a> <a class="idref" href="PLF.Smallstep.html#7cf9375cc810cd6cb65186f6ede01686"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="PLF.Smallstep.html#n:151"><span class="id" title="variable">n</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="PLF.Smallstep.html#t:150"><span class="id" title="variable">t</span></a> <a class="idref" href="PLF.Smallstep.html#a781e4b1e2c022f0326182a9bd099911"><span class="id" title="notation">--&gt;*</span></a> <a class="idref" href="PLF.Smallstep.html#C"><span class="id" title="constructor">C</span></a> <a class="idref" href="PLF.Smallstep.html#n:151"><span class="id" title="variable">n</span></a>.<br/>

<br/>
</div>

<div class="doc">
The key ideas in the proof can be seen in the following picture:

<div class="paragraph"> </div>

       P t1 t2 --&gt;            (by ST_Plus1)
       P t1' t2 --&gt;           (by ST_Plus1)
       P t1'' t2 --&gt;          (by ST_Plus1)
       ...
       P (C v1) t2 --&gt;        (by ST_Plus2)
       P (C v1) t2' --&gt;       (by ST_Plus2)
       P (C v1) t2'' --&gt;      (by ST_Plus2)
       ...
       P (C v1) (C v2) --&gt;    (by ST_PlusConstConst)
       C (v1 + v2)

<div class="paragraph"> </div>

    That is, the multistep reduction of a term of the form <span class="inlinecode"><span class="id" title="var">P</span></span> <span class="inlinecode"><span class="id" title="var">t1</span></span> <span class="inlinecode"><span class="id" title="var">t2</span></span>
    proceeds in three phases:
<ul class="doclist">
<li> First, we use <span class="inlinecode"><span class="id" title="var">ST_Plus1</span></span> some number of times to reduce <span class="inlinecode"><span class="id" title="var">t1</span></span>
         to a normal form, which must (by <span class="inlinecode"><span class="id" title="var">nf_same_as_value</span></span>) be a
         term of the form <span class="inlinecode"><span class="id" title="var">C</span></span> <span class="inlinecode"><span class="id" title="var">v1</span></span> for some <span class="inlinecode"><span class="id" title="var">v1</span></span>.

</li>
<li> Next, we use <span class="inlinecode"><span class="id" title="var">ST_Plus2</span></span> some number of times to reduce <span class="inlinecode"><span class="id" title="var">t2</span></span>
         to a normal form, which must again be a term of the form <span class="inlinecode"><span class="id" title="var">C</span></span>
         <span class="inlinecode"><span class="id" title="var">v2</span></span> for some <span class="inlinecode"><span class="id" title="var">v2</span></span>.

</li>
<li> Finally, we use <span class="inlinecode"><span class="id" title="var">ST_PlusConstConst</span></span> one time to reduce <span class="inlinecode"><span class="id" title="var">P</span></span> <span class="inlinecode">(<span class="id" title="var">C</span></span>
         <span class="inlinecode"><span class="id" title="var">v1</span>)</span> <span class="inlinecode">(<span class="id" title="var">C</span></span> <span class="inlinecode"><span class="id" title="var">v2</span>)</span> to <span class="inlinecode"><span class="id" title="var">C</span></span> <span class="inlinecode">(<span class="id" title="var">v1</span></span> <span class="inlinecode">+</span> <span class="inlinecode"><span class="id" title="var">v2</span>)</span>. 
</li>
</ul>

<div class="paragraph"> </div>

 To formalize this intuition, you'll need to use the congruence
    lemmas from above (you might want to review them now, so that
    you'll be able to recognize when they are useful), plus some basic
    properties of <span class="inlinecode">--&gt;*</span>: that it is reflexive, transitive, and
    includes <span class="inlinecode">--&gt;</span>. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Proof</span>.<br/>
 <span class="id" title="var">Admitted</span>.<br/>
</div>

<div class="doc">
<font size=-2>&#9744;</font> 
<div class="paragraph"> </div>

<a id="lab537"></a><h4 class="section">Exercise: 3 stars, advanced (eval__multistep_inf)</h4>


<div class="paragraph"> </div>

    Write a detailed informal version of the proof of <span class="inlinecode"><span class="id" title="var">eval__multistep</span></span>.

<div class="paragraph"> </div>


</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a id="manual_grade_for_eval__multistep_inf" class="idref" href="#manual_grade_for_eval__multistep_inf"><span class="id" title="definition">manual_grade_for_eval__multistep_inf</span></a> : <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> (<a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a><span class="id" title="inductive">string</span>) := <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>
</div>

<div class="doc">
<font size=-2>&#9744;</font> 
<div class="paragraph"> </div>

 For the other direction, we need one lemma, which establishes a
    relation between single-step reduction and big-step evaluation. 
<div class="paragraph"> </div>

<a id="lab538"></a><h4 class="section">Exercise: 3 stars, standard (step__eval)</h4>

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="step__eval" class="idref" href="#step__eval"><span class="id" title="lemma">step__eval</span></a> : <span class="id" title="keyword">∀</span> <a id="t:152" class="idref" href="#t:152"><span class="id" title="binder">t</span></a> <a id="t':153" class="idref" href="#t':153"><span class="id" title="binder">t'</span></a> <a id="n:154" class="idref" href="#n:154"><span class="id" title="binder">n</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#t:152"><span class="id" title="variable">t</span></a> <a class="idref" href="PLF.Smallstep.html#:::x_'--&gt;'_x"><span class="id" title="notation">--&gt;</span></a> <a class="idref" href="PLF.Smallstep.html#t':153"><span class="id" title="variable">t'</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#t':153"><span class="id" title="variable">t'</span></a> <a class="idref" href="PLF.Smallstep.html#7cf9375cc810cd6cb65186f6ede01686"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="PLF.Smallstep.html#n:154"><span class="id" title="variable">n</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#t:152"><span class="id" title="variable">t</span></a>  <a class="idref" href="PLF.Smallstep.html#7cf9375cc810cd6cb65186f6ede01686"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="PLF.Smallstep.html#n:154"><span class="id" title="variable">n</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">t</span> <span class="id" title="var">t'</span> <span class="id" title="var">n</span> <span class="id" title="var">Hs</span>. <span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">n</span>.<br/>
 <span class="id" title="var">Admitted</span>.<br/>
</div>

<div class="doc">
<font size=-2>&#9744;</font> 
<div class="paragraph"> </div>

 The fact that small-step reduction implies big-step evaluation is now
    straightforward to prove.

<div class="paragraph"> </div>

    The proof proceeds by induction on the multi-step reduction
    sequence that is buried in the hypothesis <span class="inlinecode"><span class="id" title="var">normal_form_of</span></span> <span class="inlinecode"><span class="id" title="var">t</span></span> <span class="inlinecode"><span class="id" title="var">t'</span></span>. 
<div class="paragraph"> </div>

 Make sure you understand the statement before you start to
    work on the proof.  
<div class="paragraph"> </div>

<a id="lab539"></a><h4 class="section">Exercise: 3 stars, standard (multistep__eval)</h4>

</div>
<div class="code">
<span class="id" title="keyword">Theorem</span> <a id="multistep__eval" class="idref" href="#multistep__eval"><span class="id" title="lemma">multistep__eval</span></a> : <span class="id" title="keyword">∀</span> <a id="t:155" class="idref" href="#t:155"><span class="id" title="binder">t</span></a> <a id="t':156" class="idref" href="#t':156"><span class="id" title="binder">t'</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#normal_form_of"><span class="id" title="definition">normal_form_of</span></a> <a class="idref" href="PLF.Smallstep.html#t:155"><span class="id" title="variable">t</span></a> <a class="idref" href="PLF.Smallstep.html#t':156"><span class="id" title="variable">t'</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="n:157" class="idref" href="#n:157"><span class="id" title="binder">n</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="PLF.Smallstep.html#t':156"><span class="id" title="variable">t'</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="PLF.Smallstep.html#C"><span class="id" title="constructor">C</span></a> <a class="idref" href="PLF.Smallstep.html#n:157"><span class="id" title="variable">n</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="PLF.Smallstep.html#t:155"><span class="id" title="variable">t</span></a> <a class="idref" href="PLF.Smallstep.html#7cf9375cc810cd6cb65186f6ede01686"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="PLF.Smallstep.html#n:157"><span class="id" title="variable">n</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
 <span class="id" title="var">Admitted</span>.<br/>
</div>

<div class="doc">
<font size=-2>&#9744;</font> 
</div>
<div class="code">

<br/>
</div>

<div class="doc">
<a id="lab540"></a><h2 class="section">Additional Exercises</h2>

<div class="paragraph"> </div>

<a id="lab541"></a><h4 class="section">Exercise: 3 stars, standard, optional (interp_tm)</h4>


<div class="paragraph"> </div>

    Remember that we also defined big-step evaluation of terms as a
    function <span class="inlinecode"><span class="id" title="var">evalF</span></span>.  Prove that it is equivalent to the existing
    semantics.  (Hint: we just proved that <span class="inlinecode"><span class="id" title="tactic">eval</span></span> and <span class="inlinecode"><span class="id" title="var">multistep</span></span> are
    equivalent, so logically it doesn't matter which you choose.
    One will be easier than the other, though!) 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Theorem</span> <a id="evalF_eval" class="idref" href="#evalF_eval"><span class="id" title="lemma">evalF_eval</span></a> : <span class="id" title="keyword">∀</span> <a id="t:158" class="idref" href="#t:158"><span class="id" title="binder">t</span></a> <a id="n:159" class="idref" href="#n:159"><span class="id" title="binder">n</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#evalF"><span class="id" title="definition">evalF</span></a> <a class="idref" href="PLF.Smallstep.html#t:158"><span class="id" title="variable">t</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="PLF.Smallstep.html#n:159"><span class="id" title="variable">n</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="PLF.Smallstep.html#t:158"><span class="id" title="variable">t</span></a> <a class="idref" href="PLF.Smallstep.html#7cf9375cc810cd6cb65186f6ede01686"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="PLF.Smallstep.html#n:159"><span class="id" title="variable">n</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
 <span class="id" title="var">Admitted</span>.<br/>
</div>

<div class="doc">
<font size=-2>&#9744;</font> 
<div class="paragraph"> </div>

 We've considered arithmetic and conditional expressions
    separately.  This exercise explores how the two interact. 
</div>
<div class="code">
<span class="id" title="keyword">Module</span> <a id="Combined" class="idref" href="#Combined"><span class="id" title="module">Combined</span></a>.<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a id="Combined.tm" class="idref" href="#Combined.tm"><span class="id" title="definition, inductive"><span id="Combined.tm_rect" class="id"><span id="Combined.tm_ind" class="id"><span id="Combined.tm_rec" class="id"><span id="Combined.tm_sind" class="id">tm</span></span></span></span></span></a> : <span class="id" title="keyword">Type</span> :=<br/>
&nbsp;&nbsp;| <a id="Combined.C" class="idref" href="#Combined.C"><span class="id" title="constructor">C</span></a> : <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="PLF.Smallstep.html#tm:160"><span class="id" title="inductive">tm</span></a><br/>
&nbsp;&nbsp;| <a id="Combined.P" class="idref" href="#Combined.P"><span class="id" title="constructor">P</span></a> : <a class="idref" href="PLF.Smallstep.html#tm:160"><span class="id" title="inductive">tm</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="PLF.Smallstep.html#tm:160"><span class="id" title="inductive">tm</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="PLF.Smallstep.html#tm:160"><span class="id" title="inductive">tm</span></a><br/>
&nbsp;&nbsp;| <a id="Combined.tru" class="idref" href="#Combined.tru"><span class="id" title="constructor">tru</span></a> : <a class="idref" href="PLF.Smallstep.html#tm:160"><span class="id" title="inductive">tm</span></a><br/>
&nbsp;&nbsp;| <a id="Combined.fls" class="idref" href="#Combined.fls"><span class="id" title="constructor">fls</span></a> : <a class="idref" href="PLF.Smallstep.html#tm:160"><span class="id" title="inductive">tm</span></a><br/>
&nbsp;&nbsp;| <a id="Combined.test" class="idref" href="#Combined.test"><span class="id" title="constructor">test</span></a> : <a class="idref" href="PLF.Smallstep.html#tm:160"><span class="id" title="inductive">tm</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="PLF.Smallstep.html#tm:160"><span class="id" title="inductive">tm</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="PLF.Smallstep.html#tm:160"><span class="id" title="inductive">tm</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="PLF.Smallstep.html#tm:160"><span class="id" title="inductive">tm</span></a>.<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a id="Combined.value" class="idref" href="#Combined.value"><span class="id" title="definition, inductive"><span id="Combined.value_ind" class="id"><span id="Combined.value_sind" class="id">value</span></span></span></a> : <a class="idref" href="PLF.Smallstep.html#Combined.tm"><span class="id" title="inductive">tm</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a id="Combined.v_const" class="idref" href="#Combined.v_const"><span class="id" title="constructor">v_const</span></a> : <span class="id" title="keyword">∀</span> <a id="n:164" class="idref" href="#n:164"><span class="id" title="binder">n</span></a>, <a class="idref" href="PLF.Smallstep.html#value:162"><span class="id" title="inductive">value</span></a> (<a class="idref" href="PLF.Smallstep.html#Combined.C"><span class="id" title="constructor">C</span></a> <a class="idref" href="PLF.Smallstep.html#n:164"><span class="id" title="variable">n</span></a>)<br/>
&nbsp;&nbsp;| <a id="Combined.v_tru" class="idref" href="#Combined.v_tru"><span class="id" title="constructor">v_tru</span></a> : <a class="idref" href="PLF.Smallstep.html#value:162"><span class="id" title="inductive">value</span></a> <a class="idref" href="PLF.Smallstep.html#Combined.tru"><span class="id" title="constructor">tru</span></a><br/>
&nbsp;&nbsp;| <a id="Combined.v_fls" class="idref" href="#Combined.v_fls"><span class="id" title="constructor">v_fls</span></a> : <a class="idref" href="PLF.Smallstep.html#value:162"><span class="id" title="inductive">value</span></a> <a class="idref" href="PLF.Smallstep.html#Combined.fls"><span class="id" title="constructor">fls</span></a>.<br/>

<br/>
<span class="id" title="keyword">Reserved Notation</span> &quot; t '--&gt;' t' " (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 40).<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a id="Combined.step" class="idref" href="#Combined.step"><span class="id" title="definition, inductive"><span id="Combined.step_ind" class="id"><span id="Combined.step_sind" class="id">step</span></span></span></a> : <a class="idref" href="PLF.Smallstep.html#Combined.tm"><span class="id" title="inductive">tm</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="PLF.Smallstep.html#Combined.tm"><span class="id" title="inductive">tm</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a id="Combined.ST_PlusConstConst" class="idref" href="#Combined.ST_PlusConstConst"><span class="id" title="constructor">ST_PlusConstConst</span></a> : <span class="id" title="keyword">∀</span> <a id="v1:167" class="idref" href="#v1:167"><span class="id" title="binder">v1</span></a> <a id="v2:168" class="idref" href="#v2:168"><span class="id" title="binder">v2</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#Combined.P"><span class="id" title="constructor">P</span></a> (<a class="idref" href="PLF.Smallstep.html#Combined.C"><span class="id" title="constructor">C</span></a> <a class="idref" href="PLF.Smallstep.html#v1:167"><span class="id" title="variable">v1</span></a>) (<a class="idref" href="PLF.Smallstep.html#Combined.C"><span class="id" title="constructor">C</span></a> <a class="idref" href="PLF.Smallstep.html#v2:168"><span class="id" title="variable">v2</span></a>) <a class="idref" href="PLF.Smallstep.html#Combined.:::x_'--&gt;'_x"><span class="id" title="notation">--&gt;</span></a> <a class="idref" href="PLF.Smallstep.html#Combined.C"><span class="id" title="constructor">C</span></a> (<a class="idref" href="PLF.Smallstep.html#v1:167"><span class="id" title="variable">v1</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Nat.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="PLF.Smallstep.html#v2:168"><span class="id" title="variable">v2</span></a>)<br/>
&nbsp;&nbsp;| <a id="Combined.ST_Plus1" class="idref" href="#Combined.ST_Plus1"><span class="id" title="constructor">ST_Plus1</span></a> : <span class="id" title="keyword">∀</span> <a id="t1:169" class="idref" href="#t1:169"><span class="id" title="binder">t1</span></a> <a id="t1':170" class="idref" href="#t1':170"><span class="id" title="binder">t1'</span></a> <a id="t2:171" class="idref" href="#t2:171"><span class="id" title="binder">t2</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#t1:169"><span class="id" title="variable">t1</span></a> <a class="idref" href="PLF.Smallstep.html#Combined.:::x_'--&gt;'_x"><span class="id" title="notation">--&gt;</span></a> <a class="idref" href="PLF.Smallstep.html#t1':170"><span class="id" title="variable">t1'</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#Combined.P"><span class="id" title="constructor">P</span></a> <a class="idref" href="PLF.Smallstep.html#t1:169"><span class="id" title="variable">t1</span></a> <a class="idref" href="PLF.Smallstep.html#t2:171"><span class="id" title="variable">t2</span></a> <a class="idref" href="PLF.Smallstep.html#Combined.:::x_'--&gt;'_x"><span class="id" title="notation">--&gt;</span></a> <a class="idref" href="PLF.Smallstep.html#Combined.P"><span class="id" title="constructor">P</span></a> <a class="idref" href="PLF.Smallstep.html#t1':170"><span class="id" title="variable">t1'</span></a> <a class="idref" href="PLF.Smallstep.html#t2:171"><span class="id" title="variable">t2</span></a><br/>
&nbsp;&nbsp;| <a id="Combined.ST_Plus2" class="idref" href="#Combined.ST_Plus2"><span class="id" title="constructor">ST_Plus2</span></a> : <span class="id" title="keyword">∀</span> <a id="v1:172" class="idref" href="#v1:172"><span class="id" title="binder">v1</span></a> <a id="t2:173" class="idref" href="#t2:173"><span class="id" title="binder">t2</span></a> <a id="t2':174" class="idref" href="#t2':174"><span class="id" title="binder">t2'</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#Combined.value"><span class="id" title="inductive">value</span></a> <a class="idref" href="PLF.Smallstep.html#v1:172"><span class="id" title="variable">v1</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#t2:173"><span class="id" title="variable">t2</span></a> <a class="idref" href="PLF.Smallstep.html#Combined.:::x_'--&gt;'_x"><span class="id" title="notation">--&gt;</span></a> <a class="idref" href="PLF.Smallstep.html#t2':174"><span class="id" title="variable">t2'</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#Combined.P"><span class="id" title="constructor">P</span></a> <a class="idref" href="PLF.Smallstep.html#v1:172"><span class="id" title="variable">v1</span></a> <a class="idref" href="PLF.Smallstep.html#t2:173"><span class="id" title="variable">t2</span></a> <a class="idref" href="PLF.Smallstep.html#Combined.:::x_'--&gt;'_x"><span class="id" title="notation">--&gt;</span></a> <a class="idref" href="PLF.Smallstep.html#Combined.P"><span class="id" title="constructor">P</span></a> <a class="idref" href="PLF.Smallstep.html#v1:172"><span class="id" title="variable">v1</span></a> <a class="idref" href="PLF.Smallstep.html#t2':174"><span class="id" title="variable">t2'</span></a><br/>
&nbsp;&nbsp;| <a id="Combined.ST_IfTrue" class="idref" href="#Combined.ST_IfTrue"><span class="id" title="constructor">ST_IfTrue</span></a> : <span class="id" title="keyword">∀</span> <a id="t1:175" class="idref" href="#t1:175"><span class="id" title="binder">t1</span></a> <a id="t2:176" class="idref" href="#t2:176"><span class="id" title="binder">t2</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#Combined.test"><span class="id" title="constructor">test</span></a> <a class="idref" href="PLF.Smallstep.html#Combined.tru"><span class="id" title="constructor">tru</span></a> <a class="idref" href="PLF.Smallstep.html#t1:175"><span class="id" title="variable">t1</span></a> <a class="idref" href="PLF.Smallstep.html#t2:176"><span class="id" title="variable">t2</span></a> <a class="idref" href="PLF.Smallstep.html#Combined.:::x_'--&gt;'_x"><span class="id" title="notation">--&gt;</span></a> <a class="idref" href="PLF.Smallstep.html#t1:175"><span class="id" title="variable">t1</span></a><br/>
&nbsp;&nbsp;| <a id="Combined.ST_IfFalse" class="idref" href="#Combined.ST_IfFalse"><span class="id" title="constructor">ST_IfFalse</span></a> : <span class="id" title="keyword">∀</span> <a id="t1:177" class="idref" href="#t1:177"><span class="id" title="binder">t1</span></a> <a id="t2:178" class="idref" href="#t2:178"><span class="id" title="binder">t2</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#Combined.test"><span class="id" title="constructor">test</span></a> <a class="idref" href="PLF.Smallstep.html#Combined.fls"><span class="id" title="constructor">fls</span></a> <a class="idref" href="PLF.Smallstep.html#t1:177"><span class="id" title="variable">t1</span></a> <a class="idref" href="PLF.Smallstep.html#t2:178"><span class="id" title="variable">t2</span></a> <a class="idref" href="PLF.Smallstep.html#Combined.:::x_'--&gt;'_x"><span class="id" title="notation">--&gt;</span></a> <a class="idref" href="PLF.Smallstep.html#t2:178"><span class="id" title="variable">t2</span></a><br/>
&nbsp;&nbsp;| <a id="Combined.ST_If" class="idref" href="#Combined.ST_If"><span class="id" title="constructor">ST_If</span></a> : <span class="id" title="keyword">∀</span> <a id="t1:179" class="idref" href="#t1:179"><span class="id" title="binder">t1</span></a> <a id="t1':180" class="idref" href="#t1':180"><span class="id" title="binder">t1'</span></a> <a id="t2:181" class="idref" href="#t2:181"><span class="id" title="binder">t2</span></a> <a id="t3:182" class="idref" href="#t3:182"><span class="id" title="binder">t3</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#t1:179"><span class="id" title="variable">t1</span></a> <a class="idref" href="PLF.Smallstep.html#Combined.:::x_'--&gt;'_x"><span class="id" title="notation">--&gt;</span></a> <a class="idref" href="PLF.Smallstep.html#t1':180"><span class="id" title="variable">t1'</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#Combined.test"><span class="id" title="constructor">test</span></a> <a class="idref" href="PLF.Smallstep.html#t1:179"><span class="id" title="variable">t1</span></a> <a class="idref" href="PLF.Smallstep.html#t2:181"><span class="id" title="variable">t2</span></a> <a class="idref" href="PLF.Smallstep.html#t3:182"><span class="id" title="variable">t3</span></a> <a class="idref" href="PLF.Smallstep.html#Combined.:::x_'--&gt;'_x"><span class="id" title="notation">--&gt;</span></a> <a class="idref" href="PLF.Smallstep.html#Combined.test"><span class="id" title="constructor">test</span></a> <a class="idref" href="PLF.Smallstep.html#t1':180"><span class="id" title="variable">t1'</span></a> <a class="idref" href="PLF.Smallstep.html#t2:181"><span class="id" title="variable">t2</span></a> <a class="idref" href="PLF.Smallstep.html#t3:182"><span class="id" title="variable">t3</span></a><br/>
<br/>
&nbsp;&nbsp;<span class="id" title="keyword">where</span> <a id="Combined.:::x_'--&gt;'_x" class="idref" href="#Combined.:::x_'--&gt;'_x"><span class="id" title="notation">&quot;</span></a> t '--&gt;' t' " := (<a class="idref" href="PLF.Smallstep.html#step:166"><span class="id" title="inductive">step</span></a> <span class="id" title="var">t</span> <span class="id" title="var">t'</span>).<br/>

<br/>
</div>

<div class="doc">
Earlier, we separately proved for both plus- and if-expressions...

<div class="paragraph"> </div>

<ul class="doclist">
<li> that the step relation was deterministic, and

<div class="paragraph"> </div>


</li>
<li> a strong progress lemma, stating that every term is either a
      value or can take a step.

</li>
</ul>

<div class="paragraph"> </div>

    Formally prove or disprove these two properties for the combined
    language. 
<div class="paragraph"> </div>

<a id="lab542"></a><h4 class="section">Exercise: 3 stars, standard (combined_step_deterministic)</h4>

</div>
<div class="code">
<span class="id" title="keyword">Theorem</span> <a id="Combined.combined_step_deterministic" class="idref" href="#Combined.combined_step_deterministic"><span class="id" title="lemma">combined_step_deterministic</span></a>: <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Smallstep.html#deterministic"><span class="id" title="definition">deterministic</span></a> <a class="idref" href="PLF.Smallstep.html#Combined.step"><span class="id" title="inductive">step</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Smallstep.html#deterministic"><span class="id" title="definition">deterministic</span></a> <a class="idref" href="PLF.Smallstep.html#Combined.step"><span class="id" title="inductive">step</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
 <span class="id" title="var">Admitted</span>.<br/>

<br/>
</div>

<div class="doc">
<font size=-2>&#9744;</font> 
<div class="paragraph"> </div>

<a id="lab543"></a><h4 class="section">Exercise: 3 stars, standard (combined_strong_progress)</h4>

</div>
<div class="code">
<span class="id" title="keyword">Theorem</span> <a id="Combined.combined_strong_progress" class="idref" href="#Combined.combined_strong_progress"><span class="id" title="lemma">combined_strong_progress</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="t:183" class="idref" href="#t:183"><span class="id" title="binder">t</span></a>, <a class="idref" href="PLF.Smallstep.html#Combined.value"><span class="id" title="inductive">value</span></a> <a class="idref" href="PLF.Smallstep.html#t:183"><span class="id" title="variable">t</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="t':184" class="idref" href="#t':184"><span class="id" title="binder">t'</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="PLF.Smallstep.html#t:183"><span class="id" title="variable">t</span></a> <a class="idref" href="PLF.Smallstep.html#Combined.:::x_'--&gt;'_x"><span class="id" title="notation">--&gt;</span></a> <a class="idref" href="PLF.Smallstep.html#t':184"><span class="id" title="variable">t'</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">))</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="t:185" class="idref" href="#t:185"><span class="id" title="binder">t</span></a>, <a class="idref" href="PLF.Smallstep.html#Combined.value"><span class="id" title="inductive">value</span></a> <a class="idref" href="PLF.Smallstep.html#t:185"><span class="id" title="variable">t</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="t':186" class="idref" href="#t':186"><span class="id" title="binder">t'</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="PLF.Smallstep.html#t:185"><span class="id" title="variable">t</span></a> <a class="idref" href="PLF.Smallstep.html#Combined.:::x_'--&gt;'_x"><span class="id" title="notation">--&gt;</span></a> <a class="idref" href="PLF.Smallstep.html#t':186"><span class="id" title="variable">t'</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
 <span class="id" title="var">Admitted</span>.<br/>
</div>

<div class="doc">
<font size=-2>&#9744;</font> 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="PLF.Smallstep.html#Combined"><span class="id" title="module">Combined</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab544"></a><h1 class="section">Small-Step Imp</h1>

<div class="paragraph"> </div>

 Now for a more serious example: a small-step version of the Imp
    operational semantics. 
<div class="paragraph"> </div>

 The small-step reduction relations for arithmetic and
    boolean expressions are straightforward extensions of the tiny
    language we've been working up to now.  To make them easier to
    read, we introduce the symbolic notations <span class="inlinecode">--&gt;<span class="id" title="var">a</span></span> and <span class="inlinecode">--&gt;<span class="id" title="var">b</span></span> for
    the arithmetic and boolean step relations. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Inductive</span> <a id="aval" class="idref" href="#aval"><span class="id" title="definition, inductive"><span id="aval_ind" class="id"><span id="aval_sind" class="id">aval</span></span></span></a> : <a class="idref" href="PLF.Imp.html#aexp"><span class="id" title="inductive">aexp</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a id="av_num" class="idref" href="#av_num"><span class="id" title="constructor">av_num</span></a> : <span class="id" title="keyword">∀</span> <a id="n:189" class="idref" href="#n:189"><span class="id" title="binder">n</span></a>, <a class="idref" href="PLF.Smallstep.html#aval:187"><span class="id" title="inductive">aval</span></a> (<a class="idref" href="PLF.Imp.html#ANum"><span class="id" title="constructor">ANum</span></a> <a class="idref" href="PLF.Smallstep.html#n:189"><span class="id" title="variable">n</span></a>).<br/>

<br/>
</div>

<div class="doc">
We are not actually going to bother to define boolean
    values, since they aren't needed in the definition of <span class="inlinecode">--&gt;<span class="id" title="var">b</span></span>
    below (why?), though they might be if our language were a bit
    more complicated (why?). 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Reserved Notation</span> &quot; a '/' st '--&gt;a' a' "<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 40, <span class="id" title="var">st</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 39).<br/>
<span class="id" title="keyword">Inductive</span> <a id="astep" class="idref" href="#astep"><span class="id" title="definition, inductive"><span id="astep_ind" class="id"><span id="astep_sind" class="id">astep</span></span></span></a> (<a id="st:190" class="idref" href="#st:190"><span class="id" title="binder">st</span></a> : <a class="idref" href="PLF.Imp.html#state"><span class="id" title="definition">state</span></a>) : <a class="idref" href="PLF.Imp.html#aexp"><span class="id" title="inductive">aexp</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="PLF.Imp.html#aexp"><span class="id" title="inductive">aexp</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a id="AS_Id" class="idref" href="#AS_Id"><span class="id" title="constructor">AS_Id</span></a> : <span class="id" title="keyword">∀</span> (<a id="i:193" class="idref" href="#i:193"><span class="id" title="binder">i</span></a> : <span class="id" title="inductive">string</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#i:193"><span class="id" title="variable">i</span></a> <a class="idref" href="PLF.Smallstep.html#f223d501fd6c3a7e915ee72dd3a78dab"><span class="id" title="notation">/</span></a> <a class="idref" href="PLF.Smallstep.html#st:190"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Smallstep.html#f223d501fd6c3a7e915ee72dd3a78dab"><span class="id" title="notation">--&gt;</span></a><a class="idref" href="PLF.Smallstep.html#f223d501fd6c3a7e915ee72dd3a78dab"><span class="id" title="notation">a</span></a> <a class="idref" href="PLF.Smallstep.html#f223d501fd6c3a7e915ee72dd3a78dab"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Smallstep.html#st:190"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Smallstep.html#i:193"><span class="id" title="variable">i</span></a><a class="idref" href="PLF.Smallstep.html#f223d501fd6c3a7e915ee72dd3a78dab"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;| <a id="AS_Plus1" class="idref" href="#AS_Plus1"><span class="id" title="constructor">AS_Plus1</span></a> : <span class="id" title="keyword">∀</span> <a id="a1:194" class="idref" href="#a1:194"><span class="id" title="binder">a1</span></a> <a id="a1':195" class="idref" href="#a1':195"><span class="id" title="binder">a1'</span></a> <a id="a2:196" class="idref" href="#a2:196"><span class="id" title="binder">a2</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#a1:194"><span class="id" title="variable">a1</span></a> <a class="idref" href="PLF.Smallstep.html#f223d501fd6c3a7e915ee72dd3a78dab"><span class="id" title="notation">/</span></a> <a class="idref" href="PLF.Smallstep.html#st:190"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Smallstep.html#f223d501fd6c3a7e915ee72dd3a78dab"><span class="id" title="notation">--&gt;</span></a><a class="idref" href="PLF.Smallstep.html#f223d501fd6c3a7e915ee72dd3a78dab"><span class="id" title="notation">a</span></a> <a class="idref" href="PLF.Smallstep.html#a1':195"><span class="id" title="variable">a1'</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Smallstep.html#a1:194"><span class="id" title="variable">a1</span></a> <a class="idref" href="PLF.Imp.html#ad27fd091d9c8494ce7e5135135d19a8"><span class="id" title="notation">+</span></a> <a class="idref" href="PLF.Smallstep.html#a2:196"><span class="id" title="variable">a2</span></a> <a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="PLF.Smallstep.html#f223d501fd6c3a7e915ee72dd3a78dab"><span class="id" title="notation">/</span></a> <a class="idref" href="PLF.Smallstep.html#st:190"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Smallstep.html#f223d501fd6c3a7e915ee72dd3a78dab"><span class="id" title="notation">--&gt;</span></a><a class="idref" href="PLF.Smallstep.html#f223d501fd6c3a7e915ee72dd3a78dab"><span class="id" title="notation">a</span></a> <a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Smallstep.html#a1':195"><span class="id" title="variable">a1'</span></a> <a class="idref" href="PLF.Imp.html#ad27fd091d9c8494ce7e5135135d19a8"><span class="id" title="notation">+</span></a> <a class="idref" href="PLF.Smallstep.html#a2:196"><span class="id" title="variable">a2</span></a> <a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><br/>
&nbsp;&nbsp;| <a id="AS_Plus2" class="idref" href="#AS_Plus2"><span class="id" title="constructor">AS_Plus2</span></a> : <span class="id" title="keyword">∀</span> <a id="v1:197" class="idref" href="#v1:197"><span class="id" title="binder">v1</span></a> <a id="a2:198" class="idref" href="#a2:198"><span class="id" title="binder">a2</span></a> <a id="a2':199" class="idref" href="#a2':199"><span class="id" title="binder">a2'</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#aval"><span class="id" title="inductive">aval</span></a> <a class="idref" href="PLF.Smallstep.html#v1:197"><span class="id" title="variable">v1</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#a2:198"><span class="id" title="variable">a2</span></a> <a class="idref" href="PLF.Smallstep.html#f223d501fd6c3a7e915ee72dd3a78dab"><span class="id" title="notation">/</span></a> <a class="idref" href="PLF.Smallstep.html#st:190"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Smallstep.html#f223d501fd6c3a7e915ee72dd3a78dab"><span class="id" title="notation">--&gt;</span></a><a class="idref" href="PLF.Smallstep.html#f223d501fd6c3a7e915ee72dd3a78dab"><span class="id" title="notation">a</span></a> <a class="idref" href="PLF.Smallstep.html#a2':199"><span class="id" title="variable">a2'</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Smallstep.html#v1:197"><span class="id" title="variable">v1</span></a> <a class="idref" href="PLF.Imp.html#ad27fd091d9c8494ce7e5135135d19a8"><span class="id" title="notation">+</span></a> <a class="idref" href="PLF.Smallstep.html#a2:198"><span class="id" title="variable">a2</span></a> <a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a>  <a class="idref" href="PLF.Smallstep.html#f223d501fd6c3a7e915ee72dd3a78dab"><span class="id" title="notation">/</span></a> <a class="idref" href="PLF.Smallstep.html#st:190"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Smallstep.html#f223d501fd6c3a7e915ee72dd3a78dab"><span class="id" title="notation">--&gt;</span></a><a class="idref" href="PLF.Smallstep.html#f223d501fd6c3a7e915ee72dd3a78dab"><span class="id" title="notation">a</span></a> <a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Smallstep.html#v1:197"><span class="id" title="variable">v1</span></a> <a class="idref" href="PLF.Imp.html#ad27fd091d9c8494ce7e5135135d19a8"><span class="id" title="notation">+</span></a> <a class="idref" href="PLF.Smallstep.html#a2':199"><span class="id" title="variable">a2'</span></a> <a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><br/>
&nbsp;&nbsp;| <a id="AS_Plus" class="idref" href="#AS_Plus"><span class="id" title="constructor">AS_Plus</span></a> : <span class="id" title="keyword">∀</span> (<a id="v1:200" class="idref" href="#v1:200"><span class="id" title="binder">v1</span></a> <a id="v2:201" class="idref" href="#v2:201"><span class="id" title="binder">v2</span></a> : <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Smallstep.html#v1:200"><span class="id" title="variable">v1</span></a> <a class="idref" href="PLF.Imp.html#ad27fd091d9c8494ce7e5135135d19a8"><span class="id" title="notation">+</span></a> <a class="idref" href="PLF.Smallstep.html#v2:201"><span class="id" title="variable">v2</span></a> <a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="PLF.Smallstep.html#f223d501fd6c3a7e915ee72dd3a78dab"><span class="id" title="notation">/</span></a> <a class="idref" href="PLF.Smallstep.html#st:190"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Smallstep.html#f223d501fd6c3a7e915ee72dd3a78dab"><span class="id" title="notation">--&gt;</span></a><a class="idref" href="PLF.Smallstep.html#f223d501fd6c3a7e915ee72dd3a78dab"><span class="id" title="notation">a</span></a> <a class="idref" href="PLF.Smallstep.html#f223d501fd6c3a7e915ee72dd3a78dab"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Smallstep.html#v1:200"><span class="id" title="variable">v1</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Nat.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="PLF.Smallstep.html#v2:201"><span class="id" title="variable">v2</span></a><a class="idref" href="PLF.Smallstep.html#f223d501fd6c3a7e915ee72dd3a78dab"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;| <a id="AS_Minus1" class="idref" href="#AS_Minus1"><span class="id" title="constructor">AS_Minus1</span></a> : <span class="id" title="keyword">∀</span> <a id="a1:202" class="idref" href="#a1:202"><span class="id" title="binder">a1</span></a> <a id="a1':203" class="idref" href="#a1':203"><span class="id" title="binder">a1'</span></a> <a id="a2:204" class="idref" href="#a2:204"><span class="id" title="binder">a2</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#a1:202"><span class="id" title="variable">a1</span></a> <a class="idref" href="PLF.Smallstep.html#f223d501fd6c3a7e915ee72dd3a78dab"><span class="id" title="notation">/</span></a> <a class="idref" href="PLF.Smallstep.html#st:190"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Smallstep.html#f223d501fd6c3a7e915ee72dd3a78dab"><span class="id" title="notation">--&gt;</span></a><a class="idref" href="PLF.Smallstep.html#f223d501fd6c3a7e915ee72dd3a78dab"><span class="id" title="notation">a</span></a> <a class="idref" href="PLF.Smallstep.html#a1':203"><span class="id" title="variable">a1'</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Smallstep.html#a1:202"><span class="id" title="variable">a1</span></a> <a class="idref" href="PLF.Imp.html#:com::x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="PLF.Smallstep.html#a2:204"><span class="id" title="variable">a2</span></a> <a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="PLF.Smallstep.html#f223d501fd6c3a7e915ee72dd3a78dab"><span class="id" title="notation">/</span></a> <a class="idref" href="PLF.Smallstep.html#st:190"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Smallstep.html#f223d501fd6c3a7e915ee72dd3a78dab"><span class="id" title="notation">--&gt;</span></a><a class="idref" href="PLF.Smallstep.html#f223d501fd6c3a7e915ee72dd3a78dab"><span class="id" title="notation">a</span></a> <a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Smallstep.html#a1':203"><span class="id" title="variable">a1'</span></a> <a class="idref" href="PLF.Imp.html#:com::x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="PLF.Smallstep.html#a2:204"><span class="id" title="variable">a2</span></a> <a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><br/>
&nbsp;&nbsp;| <a id="AS_Minus2" class="idref" href="#AS_Minus2"><span class="id" title="constructor">AS_Minus2</span></a> : <span class="id" title="keyword">∀</span> <a id="v1:205" class="idref" href="#v1:205"><span class="id" title="binder">v1</span></a> <a id="a2:206" class="idref" href="#a2:206"><span class="id" title="binder">a2</span></a> <a id="a2':207" class="idref" href="#a2':207"><span class="id" title="binder">a2'</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#aval"><span class="id" title="inductive">aval</span></a> <a class="idref" href="PLF.Smallstep.html#v1:205"><span class="id" title="variable">v1</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#a2:206"><span class="id" title="variable">a2</span></a> <a class="idref" href="PLF.Smallstep.html#f223d501fd6c3a7e915ee72dd3a78dab"><span class="id" title="notation">/</span></a> <a class="idref" href="PLF.Smallstep.html#st:190"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Smallstep.html#f223d501fd6c3a7e915ee72dd3a78dab"><span class="id" title="notation">--&gt;</span></a><a class="idref" href="PLF.Smallstep.html#f223d501fd6c3a7e915ee72dd3a78dab"><span class="id" title="notation">a</span></a> <a class="idref" href="PLF.Smallstep.html#a2':207"><span class="id" title="variable">a2'</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Smallstep.html#v1:205"><span class="id" title="variable">v1</span></a> <a class="idref" href="PLF.Imp.html#:com::x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="PLF.Smallstep.html#a2:206"><span class="id" title="variable">a2</span></a> <a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a>  <a class="idref" href="PLF.Smallstep.html#f223d501fd6c3a7e915ee72dd3a78dab"><span class="id" title="notation">/</span></a> <a class="idref" href="PLF.Smallstep.html#st:190"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Smallstep.html#f223d501fd6c3a7e915ee72dd3a78dab"><span class="id" title="notation">--&gt;</span></a><a class="idref" href="PLF.Smallstep.html#f223d501fd6c3a7e915ee72dd3a78dab"><span class="id" title="notation">a</span></a> <a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Smallstep.html#v1:205"><span class="id" title="variable">v1</span></a> <a class="idref" href="PLF.Imp.html#:com::x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="PLF.Smallstep.html#a2':207"><span class="id" title="variable">a2'</span></a> <a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><br/>
&nbsp;&nbsp;| <a id="AS_Minus" class="idref" href="#AS_Minus"><span class="id" title="constructor">AS_Minus</span></a> : <span class="id" title="keyword">∀</span> (<a id="v1:208" class="idref" href="#v1:208"><span class="id" title="binder">v1</span></a> <a id="v2:209" class="idref" href="#v2:209"><span class="id" title="binder">v2</span></a> : <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Smallstep.html#v1:208"><span class="id" title="variable">v1</span></a> <a class="idref" href="PLF.Imp.html#:com::x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="PLF.Smallstep.html#v2:209"><span class="id" title="variable">v2</span></a> <a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="PLF.Smallstep.html#f223d501fd6c3a7e915ee72dd3a78dab"><span class="id" title="notation">/</span></a> <a class="idref" href="PLF.Smallstep.html#st:190"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Smallstep.html#f223d501fd6c3a7e915ee72dd3a78dab"><span class="id" title="notation">--&gt;</span></a><a class="idref" href="PLF.Smallstep.html#f223d501fd6c3a7e915ee72dd3a78dab"><span class="id" title="notation">a</span></a> <a class="idref" href="PLF.Smallstep.html#f223d501fd6c3a7e915ee72dd3a78dab"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Smallstep.html#v1:208"><span class="id" title="variable">v1</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Nat.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="PLF.Smallstep.html#v2:209"><span class="id" title="variable">v2</span></a><a class="idref" href="PLF.Smallstep.html#f223d501fd6c3a7e915ee72dd3a78dab"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;| <a id="AS_Mult1" class="idref" href="#AS_Mult1"><span class="id" title="constructor">AS_Mult1</span></a> : <span class="id" title="keyword">∀</span> <a id="a1:210" class="idref" href="#a1:210"><span class="id" title="binder">a1</span></a> <a id="a1':211" class="idref" href="#a1':211"><span class="id" title="binder">a1'</span></a> <a id="a2:212" class="idref" href="#a2:212"><span class="id" title="binder">a2</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#a1:210"><span class="id" title="variable">a1</span></a> <a class="idref" href="PLF.Smallstep.html#f223d501fd6c3a7e915ee72dd3a78dab"><span class="id" title="notation">/</span></a> <a class="idref" href="PLF.Smallstep.html#st:190"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Smallstep.html#f223d501fd6c3a7e915ee72dd3a78dab"><span class="id" title="notation">--&gt;</span></a><a class="idref" href="PLF.Smallstep.html#f223d501fd6c3a7e915ee72dd3a78dab"><span class="id" title="notation">a</span></a> <a class="idref" href="PLF.Smallstep.html#a1':211"><span class="id" title="variable">a1'</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Smallstep.html#a1:210"><span class="id" title="variable">a1</span></a> <a class="idref" href="PLF.Imp.html#a73c7b35e67094dc8ae672f3a93da066"><span class="id" title="notation">×</span></a> <a class="idref" href="PLF.Smallstep.html#a2:212"><span class="id" title="variable">a2</span></a> <a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="PLF.Smallstep.html#f223d501fd6c3a7e915ee72dd3a78dab"><span class="id" title="notation">/</span></a> <a class="idref" href="PLF.Smallstep.html#st:190"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Smallstep.html#f223d501fd6c3a7e915ee72dd3a78dab"><span class="id" title="notation">--&gt;</span></a><a class="idref" href="PLF.Smallstep.html#f223d501fd6c3a7e915ee72dd3a78dab"><span class="id" title="notation">a</span></a> <a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Smallstep.html#a1':211"><span class="id" title="variable">a1'</span></a> <a class="idref" href="PLF.Imp.html#a73c7b35e67094dc8ae672f3a93da066"><span class="id" title="notation">×</span></a> <a class="idref" href="PLF.Smallstep.html#a2:212"><span class="id" title="variable">a2</span></a> <a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><br/>
&nbsp;&nbsp;| <a id="AS_Mult2" class="idref" href="#AS_Mult2"><span class="id" title="constructor">AS_Mult2</span></a> : <span class="id" title="keyword">∀</span> <a id="v1:213" class="idref" href="#v1:213"><span class="id" title="binder">v1</span></a> <a id="a2:214" class="idref" href="#a2:214"><span class="id" title="binder">a2</span></a> <a id="a2':215" class="idref" href="#a2':215"><span class="id" title="binder">a2'</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#aval"><span class="id" title="inductive">aval</span></a> <a class="idref" href="PLF.Smallstep.html#v1:213"><span class="id" title="variable">v1</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#a2:214"><span class="id" title="variable">a2</span></a> <a class="idref" href="PLF.Smallstep.html#f223d501fd6c3a7e915ee72dd3a78dab"><span class="id" title="notation">/</span></a> <a class="idref" href="PLF.Smallstep.html#st:190"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Smallstep.html#f223d501fd6c3a7e915ee72dd3a78dab"><span class="id" title="notation">--&gt;</span></a><a class="idref" href="PLF.Smallstep.html#f223d501fd6c3a7e915ee72dd3a78dab"><span class="id" title="notation">a</span></a> <a class="idref" href="PLF.Smallstep.html#a2':215"><span class="id" title="variable">a2'</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Smallstep.html#v1:213"><span class="id" title="variable">v1</span></a> <a class="idref" href="PLF.Imp.html#a73c7b35e67094dc8ae672f3a93da066"><span class="id" title="notation">×</span></a> <a class="idref" href="PLF.Smallstep.html#a2:214"><span class="id" title="variable">a2</span></a> <a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a>  <a class="idref" href="PLF.Smallstep.html#f223d501fd6c3a7e915ee72dd3a78dab"><span class="id" title="notation">/</span></a> <a class="idref" href="PLF.Smallstep.html#st:190"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Smallstep.html#f223d501fd6c3a7e915ee72dd3a78dab"><span class="id" title="notation">--&gt;</span></a><a class="idref" href="PLF.Smallstep.html#f223d501fd6c3a7e915ee72dd3a78dab"><span class="id" title="notation">a</span></a> <a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Smallstep.html#v1:213"><span class="id" title="variable">v1</span></a> <a class="idref" href="PLF.Imp.html#a73c7b35e67094dc8ae672f3a93da066"><span class="id" title="notation">×</span></a> <a class="idref" href="PLF.Smallstep.html#a2':215"><span class="id" title="variable">a2'</span></a> <a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><br/>
&nbsp;&nbsp;| <a id="AS_Mult" class="idref" href="#AS_Mult"><span class="id" title="constructor">AS_Mult</span></a> : <span class="id" title="keyword">∀</span> (<a id="v1:216" class="idref" href="#v1:216"><span class="id" title="binder">v1</span></a> <a id="v2:217" class="idref" href="#v2:217"><span class="id" title="binder">v2</span></a> : <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Smallstep.html#v1:216"><span class="id" title="variable">v1</span></a> <a class="idref" href="PLF.Imp.html#a73c7b35e67094dc8ae672f3a93da066"><span class="id" title="notation">×</span></a> <a class="idref" href="PLF.Smallstep.html#v2:217"><span class="id" title="variable">v2</span></a> <a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="PLF.Smallstep.html#f223d501fd6c3a7e915ee72dd3a78dab"><span class="id" title="notation">/</span></a> <a class="idref" href="PLF.Smallstep.html#st:190"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Smallstep.html#f223d501fd6c3a7e915ee72dd3a78dab"><span class="id" title="notation">--&gt;</span></a><a class="idref" href="PLF.Smallstep.html#f223d501fd6c3a7e915ee72dd3a78dab"><span class="id" title="notation">a</span></a> <a class="idref" href="PLF.Smallstep.html#f223d501fd6c3a7e915ee72dd3a78dab"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Smallstep.html#v1:216"><span class="id" title="variable">v1</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Nat.html#ea2ff3d561159081cea6fb2e8113cc54"><span class="id" title="notation">×</span></a> <a class="idref" href="PLF.Smallstep.html#v2:217"><span class="id" title="variable">v2</span></a><a class="idref" href="PLF.Smallstep.html#f223d501fd6c3a7e915ee72dd3a78dab"><span class="id" title="notation">)</span></a><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">where</span> <a id="f223d501fd6c3a7e915ee72dd3a78dab" class="idref" href="#f223d501fd6c3a7e915ee72dd3a78dab"><span class="id" title="notation">&quot;</span></a> a '/' st '--&gt;a' a' " := (<a class="idref" href="PLF.Smallstep.html#astep:192"><span class="id" title="inductive">astep</span></a> <span class="id" title="var">st</span> <span class="id" title="var">a</span> <span class="id" title="var">a'</span>).<br/>

<br/>
<span class="id" title="keyword">Reserved Notation</span> &quot; b '/' st '--&gt;b' b' "<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 40, <span class="id" title="var">st</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 39).<br/>
<span class="id" title="keyword">Inductive</span> <a id="bstep" class="idref" href="#bstep"><span class="id" title="definition, inductive"><span id="bstep_ind" class="id"><span id="bstep_sind" class="id">bstep</span></span></span></a> (<a id="st:218" class="idref" href="#st:218"><span class="id" title="binder">st</span></a> : <a class="idref" href="PLF.Imp.html#state"><span class="id" title="definition">state</span></a>) : <a class="idref" href="PLF.Imp.html#bexp"><span class="id" title="inductive">bexp</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="PLF.Imp.html#bexp"><span class="id" title="inductive">bexp</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
| <a id="BS_Eq1" class="idref" href="#BS_Eq1"><span class="id" title="constructor">BS_Eq1</span></a> : <span class="id" title="keyword">∀</span> <a id="a1:221" class="idref" href="#a1:221"><span class="id" title="binder">a1</span></a> <a id="a1':222" class="idref" href="#a1':222"><span class="id" title="binder">a1'</span></a> <a id="a2:223" class="idref" href="#a2:223"><span class="id" title="binder">a2</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#a1:221"><span class="id" title="variable">a1</span></a> <a class="idref" href="PLF.Smallstep.html#f223d501fd6c3a7e915ee72dd3a78dab"><span class="id" title="notation">/</span></a> <a class="idref" href="PLF.Smallstep.html#st:218"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Smallstep.html#f223d501fd6c3a7e915ee72dd3a78dab"><span class="id" title="notation">--&gt;</span></a><a class="idref" href="PLF.Smallstep.html#f223d501fd6c3a7e915ee72dd3a78dab"><span class="id" title="notation">a</span></a> <a class="idref" href="PLF.Smallstep.html#a1':222"><span class="id" title="variable">a1'</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Smallstep.html#a1:221"><span class="id" title="variable">a1</span></a> <a class="idref" href="PLF.Imp.html#9e5b22caf5d7cf490e97976162618c2a"><span class="id" title="notation">=</span></a> <a class="idref" href="PLF.Smallstep.html#a2:223"><span class="id" title="variable">a2</span></a> <a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="PLF.Smallstep.html#b26f673e1b1d9b99d89d729449993cc5"><span class="id" title="notation">/</span></a> <a class="idref" href="PLF.Smallstep.html#st:218"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Smallstep.html#b26f673e1b1d9b99d89d729449993cc5"><span class="id" title="notation">--&gt;</span></a><a class="idref" href="PLF.Smallstep.html#b26f673e1b1d9b99d89d729449993cc5"><span class="id" title="notation">b</span></a> <a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Smallstep.html#a1':222"><span class="id" title="variable">a1'</span></a> <a class="idref" href="PLF.Imp.html#9e5b22caf5d7cf490e97976162618c2a"><span class="id" title="notation">=</span></a> <a class="idref" href="PLF.Smallstep.html#a2:223"><span class="id" title="variable">a2</span></a> <a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><br/>
| <a id="BS_Eq2" class="idref" href="#BS_Eq2"><span class="id" title="constructor">BS_Eq2</span></a> : <span class="id" title="keyword">∀</span> <a id="v1:224" class="idref" href="#v1:224"><span class="id" title="binder">v1</span></a> <a id="a2:225" class="idref" href="#a2:225"><span class="id" title="binder">a2</span></a> <a id="a2':226" class="idref" href="#a2':226"><span class="id" title="binder">a2'</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#aval"><span class="id" title="inductive">aval</span></a> <a class="idref" href="PLF.Smallstep.html#v1:224"><span class="id" title="variable">v1</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#a2:225"><span class="id" title="variable">a2</span></a> <a class="idref" href="PLF.Smallstep.html#f223d501fd6c3a7e915ee72dd3a78dab"><span class="id" title="notation">/</span></a> <a class="idref" href="PLF.Smallstep.html#st:218"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Smallstep.html#f223d501fd6c3a7e915ee72dd3a78dab"><span class="id" title="notation">--&gt;</span></a><a class="idref" href="PLF.Smallstep.html#f223d501fd6c3a7e915ee72dd3a78dab"><span class="id" title="notation">a</span></a> <a class="idref" href="PLF.Smallstep.html#a2':226"><span class="id" title="variable">a2'</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Smallstep.html#v1:224"><span class="id" title="variable">v1</span></a> <a class="idref" href="PLF.Imp.html#9e5b22caf5d7cf490e97976162618c2a"><span class="id" title="notation">=</span></a> <a class="idref" href="PLF.Smallstep.html#a2:225"><span class="id" title="variable">a2</span></a> <a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="PLF.Smallstep.html#b26f673e1b1d9b99d89d729449993cc5"><span class="id" title="notation">/</span></a> <a class="idref" href="PLF.Smallstep.html#st:218"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Smallstep.html#b26f673e1b1d9b99d89d729449993cc5"><span class="id" title="notation">--&gt;</span></a><a class="idref" href="PLF.Smallstep.html#b26f673e1b1d9b99d89d729449993cc5"><span class="id" title="notation">b</span></a> <a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Smallstep.html#v1:224"><span class="id" title="variable">v1</span></a> <a class="idref" href="PLF.Imp.html#9e5b22caf5d7cf490e97976162618c2a"><span class="id" title="notation">=</span></a> <a class="idref" href="PLF.Smallstep.html#a2':226"><span class="id" title="variable">a2'</span></a> <a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><br/>
| <a id="BS_Eq" class="idref" href="#BS_Eq"><span class="id" title="constructor">BS_Eq</span></a> : <span class="id" title="keyword">∀</span> (<a id="v1:227" class="idref" href="#v1:227"><span class="id" title="binder">v1</span></a> <a id="v2:228" class="idref" href="#v2:228"><span class="id" title="binder">v2</span></a> : <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Smallstep.html#v1:227"><span class="id" title="variable">v1</span></a> <a class="idref" href="PLF.Imp.html#9e5b22caf5d7cf490e97976162618c2a"><span class="id" title="notation">=</span></a> <a class="idref" href="PLF.Smallstep.html#v2:228"><span class="id" title="variable">v2</span></a> <a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="PLF.Smallstep.html#b26f673e1b1d9b99d89d729449993cc5"><span class="id" title="notation">/</span></a> <a class="idref" href="PLF.Smallstep.html#st:218"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Smallstep.html#b26f673e1b1d9b99d89d729449993cc5"><span class="id" title="notation">--&gt;</span></a><a class="idref" href="PLF.Smallstep.html#b26f673e1b1d9b99d89d729449993cc5"><span class="id" title="notation">b</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#b26f673e1b1d9b99d89d729449993cc5"><span class="id" title="notation">(</span></a><span class="id" title="keyword">if</span> (<a class="idref" href="PLF.Smallstep.html#v1:227"><span class="id" title="variable">v1</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Nat.html#ad2ec4e405f68c46c0a176e3e94ae2e3"><span class="id" title="notation">=?</span></a> <a class="idref" href="PLF.Smallstep.html#v2:228"><span class="id" title="variable">v2</span></a>) <span class="id" title="keyword">then</span> <a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Imp.html#:com::'true'"><span class="id" title="notation">true</span></a> <a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Imp.html#:com::'false'"><span class="id" title="notation">false</span></a> <a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><a class="idref" href="PLF.Smallstep.html#b26f673e1b1d9b99d89d729449993cc5"><span class="id" title="notation">)</span></a><br/>
| <a id="BS_LtEq1" class="idref" href="#BS_LtEq1"><span class="id" title="constructor">BS_LtEq1</span></a> : <span class="id" title="keyword">∀</span> <a id="a1:229" class="idref" href="#a1:229"><span class="id" title="binder">a1</span></a> <a id="a1':230" class="idref" href="#a1':230"><span class="id" title="binder">a1'</span></a> <a id="a2:231" class="idref" href="#a2:231"><span class="id" title="binder">a2</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#a1:229"><span class="id" title="variable">a1</span></a> <a class="idref" href="PLF.Smallstep.html#f223d501fd6c3a7e915ee72dd3a78dab"><span class="id" title="notation">/</span></a> <a class="idref" href="PLF.Smallstep.html#st:218"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Smallstep.html#f223d501fd6c3a7e915ee72dd3a78dab"><span class="id" title="notation">--&gt;</span></a><a class="idref" href="PLF.Smallstep.html#f223d501fd6c3a7e915ee72dd3a78dab"><span class="id" title="notation">a</span></a> <a class="idref" href="PLF.Smallstep.html#a1':230"><span class="id" title="variable">a1'</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Smallstep.html#a1:229"><span class="id" title="variable">a1</span></a> <a class="idref" href="PLF.Imp.html#d43f15edd52d29ae8e0f90730a25ed5c"><span class="id" title="notation">≤</span></a> <a class="idref" href="PLF.Smallstep.html#a2:231"><span class="id" title="variable">a2</span></a> <a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="PLF.Smallstep.html#b26f673e1b1d9b99d89d729449993cc5"><span class="id" title="notation">/</span></a> <a class="idref" href="PLF.Smallstep.html#st:218"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Smallstep.html#b26f673e1b1d9b99d89d729449993cc5"><span class="id" title="notation">--&gt;</span></a><a class="idref" href="PLF.Smallstep.html#b26f673e1b1d9b99d89d729449993cc5"><span class="id" title="notation">b</span></a> <a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Smallstep.html#a1':230"><span class="id" title="variable">a1'</span></a> <a class="idref" href="PLF.Imp.html#d43f15edd52d29ae8e0f90730a25ed5c"><span class="id" title="notation">≤</span></a> <a class="idref" href="PLF.Smallstep.html#a2:231"><span class="id" title="variable">a2</span></a> <a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><br/>
| <a id="BS_LtEq2" class="idref" href="#BS_LtEq2"><span class="id" title="constructor">BS_LtEq2</span></a> : <span class="id" title="keyword">∀</span> <a id="v1:232" class="idref" href="#v1:232"><span class="id" title="binder">v1</span></a> <a id="a2:233" class="idref" href="#a2:233"><span class="id" title="binder">a2</span></a> <a id="a2':234" class="idref" href="#a2':234"><span class="id" title="binder">a2'</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#aval"><span class="id" title="inductive">aval</span></a> <a class="idref" href="PLF.Smallstep.html#v1:232"><span class="id" title="variable">v1</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#a2:233"><span class="id" title="variable">a2</span></a> <a class="idref" href="PLF.Smallstep.html#f223d501fd6c3a7e915ee72dd3a78dab"><span class="id" title="notation">/</span></a> <a class="idref" href="PLF.Smallstep.html#st:218"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Smallstep.html#f223d501fd6c3a7e915ee72dd3a78dab"><span class="id" title="notation">--&gt;</span></a><a class="idref" href="PLF.Smallstep.html#f223d501fd6c3a7e915ee72dd3a78dab"><span class="id" title="notation">a</span></a> <a class="idref" href="PLF.Smallstep.html#a2':234"><span class="id" title="variable">a2'</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Smallstep.html#v1:232"><span class="id" title="variable">v1</span></a> <a class="idref" href="PLF.Imp.html#d43f15edd52d29ae8e0f90730a25ed5c"><span class="id" title="notation">≤</span></a> <a class="idref" href="PLF.Smallstep.html#a2:233"><span class="id" title="variable">a2</span></a> <a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="PLF.Smallstep.html#b26f673e1b1d9b99d89d729449993cc5"><span class="id" title="notation">/</span></a> <a class="idref" href="PLF.Smallstep.html#st:218"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Smallstep.html#b26f673e1b1d9b99d89d729449993cc5"><span class="id" title="notation">--&gt;</span></a><a class="idref" href="PLF.Smallstep.html#b26f673e1b1d9b99d89d729449993cc5"><span class="id" title="notation">b</span></a> <a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Smallstep.html#v1:232"><span class="id" title="variable">v1</span></a> <a class="idref" href="PLF.Imp.html#d43f15edd52d29ae8e0f90730a25ed5c"><span class="id" title="notation">≤</span></a> <a class="idref" href="PLF.Smallstep.html#a2':234"><span class="id" title="variable">a2'</span></a> <a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><br/>
| <a id="BS_LtEq" class="idref" href="#BS_LtEq"><span class="id" title="constructor">BS_LtEq</span></a> : <span class="id" title="keyword">∀</span> (<a id="v1:235" class="idref" href="#v1:235"><span class="id" title="binder">v1</span></a> <a id="v2:236" class="idref" href="#v2:236"><span class="id" title="binder">v2</span></a> : <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Smallstep.html#v1:235"><span class="id" title="variable">v1</span></a> <a class="idref" href="PLF.Imp.html#d43f15edd52d29ae8e0f90730a25ed5c"><span class="id" title="notation">≤</span></a> <a class="idref" href="PLF.Smallstep.html#v2:236"><span class="id" title="variable">v2</span></a> <a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="PLF.Smallstep.html#b26f673e1b1d9b99d89d729449993cc5"><span class="id" title="notation">/</span></a> <a class="idref" href="PLF.Smallstep.html#st:218"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Smallstep.html#b26f673e1b1d9b99d89d729449993cc5"><span class="id" title="notation">--&gt;</span></a><a class="idref" href="PLF.Smallstep.html#b26f673e1b1d9b99d89d729449993cc5"><span class="id" title="notation">b</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#b26f673e1b1d9b99d89d729449993cc5"><span class="id" title="notation">(</span></a><span class="id" title="keyword">if</span> (<a class="idref" href="PLF.Smallstep.html#v1:235"><span class="id" title="variable">v1</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Nat.html#0f31f5c1c6b6a21a3a187247222bc9e4"><span class="id" title="notation">&lt;=?</span></a> <a class="idref" href="PLF.Smallstep.html#v2:236"><span class="id" title="variable">v2</span></a>) <span class="id" title="keyword">then</span> <a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Imp.html#:com::'true'"><span class="id" title="notation">true</span></a> <a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Imp.html#:com::'false'"><span class="id" title="notation">false</span></a> <a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><a class="idref" href="PLF.Smallstep.html#b26f673e1b1d9b99d89d729449993cc5"><span class="id" title="notation">)</span></a><br/>
| <a id="BS_NotStep" class="idref" href="#BS_NotStep"><span class="id" title="constructor">BS_NotStep</span></a> : <span class="id" title="keyword">∀</span> <a id="b1:237" class="idref" href="#b1:237"><span class="id" title="binder">b1</span></a> <a id="b1':238" class="idref" href="#b1':238"><span class="id" title="binder">b1'</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#b1:237"><span class="id" title="variable">b1</span></a> <a class="idref" href="PLF.Smallstep.html#b26f673e1b1d9b99d89d729449993cc5"><span class="id" title="notation">/</span></a> <a class="idref" href="PLF.Smallstep.html#st:218"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Smallstep.html#b26f673e1b1d9b99d89d729449993cc5"><span class="id" title="notation">--&gt;</span></a><a class="idref" href="PLF.Smallstep.html#b26f673e1b1d9b99d89d729449993cc5"><span class="id" title="notation">b</span></a> <a class="idref" href="PLF.Smallstep.html#b1':238"><span class="id" title="variable">b1'</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Imp.html#dfe50505b2b595242030c436d0d7d15f"><span class="id" title="notation">¬</span></a> <a class="idref" href="PLF.Smallstep.html#b1:237"><span class="id" title="variable">b1</span></a> <a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="PLF.Smallstep.html#b26f673e1b1d9b99d89d729449993cc5"><span class="id" title="notation">/</span></a> <a class="idref" href="PLF.Smallstep.html#st:218"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Smallstep.html#b26f673e1b1d9b99d89d729449993cc5"><span class="id" title="notation">--&gt;</span></a><a class="idref" href="PLF.Smallstep.html#b26f673e1b1d9b99d89d729449993cc5"><span class="id" title="notation">b</span></a> <a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Imp.html#dfe50505b2b595242030c436d0d7d15f"><span class="id" title="notation">¬</span></a> <a class="idref" href="PLF.Smallstep.html#b1':238"><span class="id" title="variable">b1'</span></a> <a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><br/>
| <a id="BS_NotTrue" class="idref" href="#BS_NotTrue"><span class="id" title="constructor">BS_NotTrue</span></a>  : <a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Imp.html#dfe50505b2b595242030c436d0d7d15f"><span class="id" title="notation">¬</span></a> <a class="idref" href="PLF.Imp.html#:com::'true'"><span class="id" title="notation">true</span></a> <a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="PLF.Smallstep.html#b26f673e1b1d9b99d89d729449993cc5"><span class="id" title="notation">/</span></a> <a class="idref" href="PLF.Smallstep.html#st:218"><span class="id" title="variable">st</span></a>  <a class="idref" href="PLF.Smallstep.html#b26f673e1b1d9b99d89d729449993cc5"><span class="id" title="notation">--&gt;</span></a><a class="idref" href="PLF.Smallstep.html#b26f673e1b1d9b99d89d729449993cc5"><span class="id" title="notation">b</span></a> <a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Imp.html#:com::'false'"><span class="id" title="notation">false</span></a> <a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><br/>
| <a id="BS_NotFalse" class="idref" href="#BS_NotFalse"><span class="id" title="constructor">BS_NotFalse</span></a> : <a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Imp.html#dfe50505b2b595242030c436d0d7d15f"><span class="id" title="notation">¬</span></a> <a class="idref" href="PLF.Imp.html#:com::'false'"><span class="id" title="notation">false</span></a> <a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="PLF.Smallstep.html#b26f673e1b1d9b99d89d729449993cc5"><span class="id" title="notation">/</span></a> <a class="idref" href="PLF.Smallstep.html#st:218"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Smallstep.html#b26f673e1b1d9b99d89d729449993cc5"><span class="id" title="notation">--&gt;</span></a><a class="idref" href="PLF.Smallstep.html#b26f673e1b1d9b99d89d729449993cc5"><span class="id" title="notation">b</span></a> <a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Imp.html#:com::'true'"><span class="id" title="notation">true</span></a> <a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><br/>
| <a id="BS_AndStep" class="idref" href="#BS_AndStep"><span class="id" title="constructor">BS_AndStep</span></a> : <span class="id" title="keyword">∀</span> <a id="b1:239" class="idref" href="#b1:239"><span class="id" title="binder">b1</span></a> <a id="b1':240" class="idref" href="#b1':240"><span class="id" title="binder">b1'</span></a> <a id="b2:241" class="idref" href="#b2:241"><span class="id" title="binder">b2</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#b1:239"><span class="id" title="variable">b1</span></a> <a class="idref" href="PLF.Smallstep.html#b26f673e1b1d9b99d89d729449993cc5"><span class="id" title="notation">/</span></a> <a class="idref" href="PLF.Smallstep.html#st:218"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Smallstep.html#b26f673e1b1d9b99d89d729449993cc5"><span class="id" title="notation">--&gt;</span></a><a class="idref" href="PLF.Smallstep.html#b26f673e1b1d9b99d89d729449993cc5"><span class="id" title="notation">b</span></a> <a class="idref" href="PLF.Smallstep.html#b1':240"><span class="id" title="variable">b1'</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Smallstep.html#b1:239"><span class="id" title="variable">b1</span></a> <a class="idref" href="PLF.Imp.html#:com::x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="PLF.Smallstep.html#b2:241"><span class="id" title="variable">b2</span></a> <a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="PLF.Smallstep.html#b26f673e1b1d9b99d89d729449993cc5"><span class="id" title="notation">/</span></a> <a class="idref" href="PLF.Smallstep.html#st:218"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Smallstep.html#b26f673e1b1d9b99d89d729449993cc5"><span class="id" title="notation">--&gt;</span></a><a class="idref" href="PLF.Smallstep.html#b26f673e1b1d9b99d89d729449993cc5"><span class="id" title="notation">b</span></a> <a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Smallstep.html#b1':240"><span class="id" title="variable">b1'</span></a> <a class="idref" href="PLF.Imp.html#:com::x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="PLF.Smallstep.html#b2:241"><span class="id" title="variable">b2</span></a> <a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><br/>
| <a id="BS_AndTrueStep" class="idref" href="#BS_AndTrueStep"><span class="id" title="constructor">BS_AndTrueStep</span></a> : <span class="id" title="keyword">∀</span> <a id="b2:242" class="idref" href="#b2:242"><span class="id" title="binder">b2</span></a> <a id="b2':243" class="idref" href="#b2':243"><span class="id" title="binder">b2'</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#b2:242"><span class="id" title="variable">b2</span></a> <a class="idref" href="PLF.Smallstep.html#b26f673e1b1d9b99d89d729449993cc5"><span class="id" title="notation">/</span></a> <a class="idref" href="PLF.Smallstep.html#st:218"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Smallstep.html#b26f673e1b1d9b99d89d729449993cc5"><span class="id" title="notation">--&gt;</span></a><a class="idref" href="PLF.Smallstep.html#b26f673e1b1d9b99d89d729449993cc5"><span class="id" title="notation">b</span></a> <a class="idref" href="PLF.Smallstep.html#b2':243"><span class="id" title="variable">b2'</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Imp.html#:com::'true'"><span class="id" title="notation">true</span></a> <a class="idref" href="PLF.Imp.html#:com::x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="PLF.Smallstep.html#b2:242"><span class="id" title="variable">b2</span></a> <a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="PLF.Smallstep.html#b26f673e1b1d9b99d89d729449993cc5"><span class="id" title="notation">/</span></a> <a class="idref" href="PLF.Smallstep.html#st:218"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Smallstep.html#b26f673e1b1d9b99d89d729449993cc5"><span class="id" title="notation">--&gt;</span></a><a class="idref" href="PLF.Smallstep.html#b26f673e1b1d9b99d89d729449993cc5"><span class="id" title="notation">b</span></a> <a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Imp.html#:com::'true'"><span class="id" title="notation">true</span></a> <a class="idref" href="PLF.Imp.html#:com::x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="PLF.Smallstep.html#b2':243"><span class="id" title="variable">b2'</span></a> <a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><br/>
| <a id="BS_AndFalse" class="idref" href="#BS_AndFalse"><span class="id" title="constructor">BS_AndFalse</span></a> : <span class="id" title="keyword">∀</span> <a id="b2:244" class="idref" href="#b2:244"><span class="id" title="binder">b2</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Imp.html#:com::'false'"><span class="id" title="notation">false</span></a> <a class="idref" href="PLF.Imp.html#:com::x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="PLF.Smallstep.html#b2:244"><span class="id" title="variable">b2</span></a> <a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="PLF.Smallstep.html#b26f673e1b1d9b99d89d729449993cc5"><span class="id" title="notation">/</span></a> <a class="idref" href="PLF.Smallstep.html#st:218"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Smallstep.html#b26f673e1b1d9b99d89d729449993cc5"><span class="id" title="notation">--&gt;</span></a><a class="idref" href="PLF.Smallstep.html#b26f673e1b1d9b99d89d729449993cc5"><span class="id" title="notation">b</span></a> <a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Imp.html#:com::'false'"><span class="id" title="notation">false</span></a> <a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><br/>
| <a id="BS_AndTrueTrue" class="idref" href="#BS_AndTrueTrue"><span class="id" title="constructor">BS_AndTrueTrue</span></a>  : <a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Imp.html#:com::'true'"><span class="id" title="notation">true</span></a> <a class="idref" href="PLF.Imp.html#:com::x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="PLF.Imp.html#:com::'true'"><span class="id" title="notation">true</span></a>  <a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="PLF.Smallstep.html#b26f673e1b1d9b99d89d729449993cc5"><span class="id" title="notation">/</span></a> <a class="idref" href="PLF.Smallstep.html#st:218"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Smallstep.html#b26f673e1b1d9b99d89d729449993cc5"><span class="id" title="notation">--&gt;</span></a><a class="idref" href="PLF.Smallstep.html#b26f673e1b1d9b99d89d729449993cc5"><span class="id" title="notation">b</span></a> <a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Imp.html#:com::'true'"><span class="id" title="notation">true</span></a> <a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><br/>
| <a id="BS_AndTrueFalse" class="idref" href="#BS_AndTrueFalse"><span class="id" title="constructor">BS_AndTrueFalse</span></a> : <a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Imp.html#:com::'true'"><span class="id" title="notation">true</span></a> <a class="idref" href="PLF.Imp.html#:com::x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="PLF.Imp.html#:com::'false'"><span class="id" title="notation">false</span></a> <a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="PLF.Smallstep.html#b26f673e1b1d9b99d89d729449993cc5"><span class="id" title="notation">/</span></a> <a class="idref" href="PLF.Smallstep.html#st:218"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Smallstep.html#b26f673e1b1d9b99d89d729449993cc5"><span class="id" title="notation">--&gt;</span></a><a class="idref" href="PLF.Smallstep.html#b26f673e1b1d9b99d89d729449993cc5"><span class="id" title="notation">b</span></a> <a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Imp.html#:com::'false'"><span class="id" title="notation">false</span></a> <a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><br/>
<br/>
<span class="id" title="keyword">where</span> <a id="b26f673e1b1d9b99d89d729449993cc5" class="idref" href="#b26f673e1b1d9b99d89d729449993cc5"><span class="id" title="notation">&quot;</span></a> b '/' st '--&gt;b' b' " := (<a class="idref" href="PLF.Smallstep.html#bstep:220"><span class="id" title="inductive">bstep</span></a> <span class="id" title="var">st</span> <span class="id" title="var">b</span> <span class="id" title="var">b'</span>).<br/>

<br/>
</div>

<div class="doc">
The semantics of commands is the interesting part.  We need two
    small tricks to make it work:

<div class="paragraph"> </div>

<ul class="doclist">
<li> We use <span class="inlinecode"><span class="id" title="var">skip</span></span> as a "command value" -- i.e., a command that
         has reached a normal form.

<div class="paragraph"> </div>

<ul class="doclist">
<li> An assignment command reduces to <span class="inlinecode"><span class="id" title="var">skip</span></span> (and an updated
              state).

<div class="paragraph"> </div>


</li>
<li> The sequencing command waits until its left-hand
              subcommand has reduced to <span class="inlinecode"><span class="id" title="var">skip</span></span>, then throws it away so
              that reduction can continue with the right-hand
              subcommand.

<div class="paragraph"> </div>


</li>
</ul>

</li>
<li> We reduce a <span class="inlinecode"><span class="id" title="var">while</span></span> command a single step by transforming it
         into a conditional followed by the same <span class="inlinecode"><span class="id" title="var">while</span></span>. 
</li>
</ul>

<div class="paragraph"> </div>

 (There are other ways of achieving the effect of the latter
    trick, but they all share the feature that the original <span class="inlinecode"><span class="id" title="var">while</span></span>
    command is stashed away somewhere while a single copy of the loop body is
    being reduced.) 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Reserved Notation</span> &quot; t '/' st '--&gt;' t' '/' st' "<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 40, <span class="id" title="var">st</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 39, <span class="id" title="var">t'</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 39).<br/>
<span class="id" title="keyword">Inductive</span> <a id="cstep" class="idref" href="#cstep"><span class="id" title="definition, inductive"><span id="cstep_ind" class="id"><span id="cstep_sind" class="id">cstep</span></span></span></a> : <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Imp.html#com"><span class="id" title="inductive">com</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="PLF.Imp.html#state"><span class="id" title="definition">state</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Imp.html#com"><span class="id" title="inductive">com</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="PLF.Imp.html#state"><span class="id" title="definition">state</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a id="CS_AsgnStep" class="idref" href="#CS_AsgnStep"><span class="id" title="constructor">CS_AsgnStep</span></a> : <span class="id" title="keyword">∀</span> <a id="st:247" class="idref" href="#st:247"><span class="id" title="binder">st</span></a> <a id="i:248" class="idref" href="#i:248"><span class="id" title="binder">i</span></a> <a id="a1:249" class="idref" href="#a1:249"><span class="id" title="binder">a1</span></a> <a id="a1':250" class="idref" href="#a1':250"><span class="id" title="binder">a1'</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#a1:249"><span class="id" title="variable">a1</span></a> <a class="idref" href="PLF.Smallstep.html#f223d501fd6c3a7e915ee72dd3a78dab"><span class="id" title="notation">/</span></a> <a class="idref" href="PLF.Smallstep.html#st:247"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Smallstep.html#f223d501fd6c3a7e915ee72dd3a78dab"><span class="id" title="notation">--&gt;</span></a><a class="idref" href="PLF.Smallstep.html#f223d501fd6c3a7e915ee72dd3a78dab"><span class="id" title="notation">a</span></a> <a class="idref" href="PLF.Smallstep.html#a1':250"><span class="id" title="variable">a1'</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Smallstep.html#i:248"><span class="id" title="variable">i</span></a> <a class="idref" href="PLF.Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <a class="idref" href="PLF.Smallstep.html#a1:249"><span class="id" title="variable">a1</span></a> <a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="PLF.Smallstep.html#6e515222feff978d19765018dc1007ec"><span class="id" title="notation">/</span></a> <a class="idref" href="PLF.Smallstep.html#st:247"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Smallstep.html#6e515222feff978d19765018dc1007ec"><span class="id" title="notation">--&gt;</span></a> <a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Smallstep.html#i:248"><span class="id" title="variable">i</span></a> <a class="idref" href="PLF.Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <a class="idref" href="PLF.Smallstep.html#a1':250"><span class="id" title="variable">a1'</span></a> <a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="PLF.Smallstep.html#6e515222feff978d19765018dc1007ec"><span class="id" title="notation">/</span></a> <a class="idref" href="PLF.Smallstep.html#st:247"><span class="id" title="variable">st</span></a><br/>
&nbsp;&nbsp;| <a id="CS_Asgn" class="idref" href="#CS_Asgn"><span class="id" title="constructor">CS_Asgn</span></a> : <span class="id" title="keyword">∀</span> <a id="st:251" class="idref" href="#st:251"><span class="id" title="binder">st</span></a> <a id="i:252" class="idref" href="#i:252"><span class="id" title="binder">i</span></a> (<a id="n:253" class="idref" href="#n:253"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Smallstep.html#i:252"><span class="id" title="variable">i</span></a> <a class="idref" href="PLF.Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <a class="idref" href="PLF.Smallstep.html#n:253"><span class="id" title="variable">n</span></a> <a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="PLF.Smallstep.html#6e515222feff978d19765018dc1007ec"><span class="id" title="notation">/</span></a> <a class="idref" href="PLF.Smallstep.html#st:251"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Smallstep.html#6e515222feff978d19765018dc1007ec"><span class="id" title="notation">--&gt;</span></a> <a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Imp.html#:com:com_scope:'skip'"><span class="id" title="notation">skip</span></a> <a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="PLF.Smallstep.html#6e515222feff978d19765018dc1007ec"><span class="id" title="notation">/</span></a> <a class="idref" href="PLF.Smallstep.html#6e515222feff978d19765018dc1007ec"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Smallstep.html#i:252"><span class="id" title="variable">i</span></a> <a class="idref" href="PLF.Maps.html#630986d105c0f1782d085b9a306379a7"><span class="id" title="notation">!-&gt;</span></a> <a class="idref" href="PLF.Smallstep.html#n:253"><span class="id" title="variable">n</span></a> <a class="idref" href="PLF.Maps.html#630986d105c0f1782d085b9a306379a7"><span class="id" title="notation">;</span></a> <a class="idref" href="PLF.Smallstep.html#st:251"><span class="id" title="variable">st</span></a><a class="idref" href="PLF.Smallstep.html#6e515222feff978d19765018dc1007ec"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;| <a id="CS_SeqStep" class="idref" href="#CS_SeqStep"><span class="id" title="constructor">CS_SeqStep</span></a> : <span class="id" title="keyword">∀</span> <a id="st:254" class="idref" href="#st:254"><span class="id" title="binder">st</span></a> <a id="c1:255" class="idref" href="#c1:255"><span class="id" title="binder">c1</span></a> <a id="c1':256" class="idref" href="#c1':256"><span class="id" title="binder">c1'</span></a> <a id="st':257" class="idref" href="#st':257"><span class="id" title="binder">st'</span></a> <a id="c2:258" class="idref" href="#c2:258"><span class="id" title="binder">c2</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#c1:255"><span class="id" title="variable">c1</span></a> <a class="idref" href="PLF.Smallstep.html#6e515222feff978d19765018dc1007ec"><span class="id" title="notation">/</span></a> <a class="idref" href="PLF.Smallstep.html#st:254"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Smallstep.html#6e515222feff978d19765018dc1007ec"><span class="id" title="notation">--&gt;</span></a> <a class="idref" href="PLF.Smallstep.html#c1':256"><span class="id" title="variable">c1'</span></a> <a class="idref" href="PLF.Smallstep.html#6e515222feff978d19765018dc1007ec"><span class="id" title="notation">/</span></a> <a class="idref" href="PLF.Smallstep.html#st':257"><span class="id" title="variable">st'</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Smallstep.html#c1:255"><span class="id" title="variable">c1</span></a> <a class="idref" href="PLF.Imp.html#313afe74ec81f2da17d8e7bca3b042e7"><span class="id" title="notation">;</span></a> <a class="idref" href="PLF.Smallstep.html#c2:258"><span class="id" title="variable">c2</span></a> <a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="PLF.Smallstep.html#6e515222feff978d19765018dc1007ec"><span class="id" title="notation">/</span></a> <a class="idref" href="PLF.Smallstep.html#st:254"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Smallstep.html#6e515222feff978d19765018dc1007ec"><span class="id" title="notation">--&gt;</span></a> <a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Smallstep.html#c1':256"><span class="id" title="variable">c1'</span></a> <a class="idref" href="PLF.Imp.html#313afe74ec81f2da17d8e7bca3b042e7"><span class="id" title="notation">;</span></a> <a class="idref" href="PLF.Smallstep.html#c2:258"><span class="id" title="variable">c2</span></a> <a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="PLF.Smallstep.html#6e515222feff978d19765018dc1007ec"><span class="id" title="notation">/</span></a> <a class="idref" href="PLF.Smallstep.html#st':257"><span class="id" title="variable">st'</span></a><br/>
&nbsp;&nbsp;| <a id="CS_SeqFinish" class="idref" href="#CS_SeqFinish"><span class="id" title="constructor">CS_SeqFinish</span></a> : <span class="id" title="keyword">∀</span> <a id="st:259" class="idref" href="#st:259"><span class="id" title="binder">st</span></a> <a id="c2:260" class="idref" href="#c2:260"><span class="id" title="binder">c2</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Imp.html#:com:com_scope:'skip'"><span class="id" title="notation">skip</span></a> <a class="idref" href="PLF.Imp.html#313afe74ec81f2da17d8e7bca3b042e7"><span class="id" title="notation">;</span></a> <a class="idref" href="PLF.Smallstep.html#c2:260"><span class="id" title="variable">c2</span></a> <a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="PLF.Smallstep.html#6e515222feff978d19765018dc1007ec"><span class="id" title="notation">/</span></a> <a class="idref" href="PLF.Smallstep.html#st:259"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Smallstep.html#6e515222feff978d19765018dc1007ec"><span class="id" title="notation">--&gt;</span></a> <a class="idref" href="PLF.Smallstep.html#c2:260"><span class="id" title="variable">c2</span></a> <a class="idref" href="PLF.Smallstep.html#6e515222feff978d19765018dc1007ec"><span class="id" title="notation">/</span></a> <a class="idref" href="PLF.Smallstep.html#st:259"><span class="id" title="variable">st</span></a><br/>
&nbsp;&nbsp;| <a id="CS_IfStep" class="idref" href="#CS_IfStep"><span class="id" title="constructor">CS_IfStep</span></a> : <span class="id" title="keyword">∀</span> <a id="st:261" class="idref" href="#st:261"><span class="id" title="binder">st</span></a> <a id="b1:262" class="idref" href="#b1:262"><span class="id" title="binder">b1</span></a> <a id="b1':263" class="idref" href="#b1':263"><span class="id" title="binder">b1'</span></a> <a id="c1:264" class="idref" href="#c1:264"><span class="id" title="binder">c1</span></a> <a id="c2:265" class="idref" href="#c2:265"><span class="id" title="binder">c2</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#b1:262"><span class="id" title="variable">b1</span></a> <a class="idref" href="PLF.Smallstep.html#b26f673e1b1d9b99d89d729449993cc5"><span class="id" title="notation">/</span></a> <a class="idref" href="PLF.Smallstep.html#st:261"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Smallstep.html#b26f673e1b1d9b99d89d729449993cc5"><span class="id" title="notation">--&gt;</span></a><a class="idref" href="PLF.Smallstep.html#b26f673e1b1d9b99d89d729449993cc5"><span class="id" title="notation">b</span></a> <a class="idref" href="PLF.Smallstep.html#b1':263"><span class="id" title="variable">b1'</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">if</span></a> <a class="idref" href="PLF.Smallstep.html#b1:262"><span class="id" title="variable">b1</span></a> <a class="idref" href="PLF.Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">then</span></a> <a class="idref" href="PLF.Smallstep.html#c1:264"><span class="id" title="variable">c1</span></a> <a class="idref" href="PLF.Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">else</span></a> <a class="idref" href="PLF.Smallstep.html#c2:265"><span class="id" title="variable">c2</span></a> <a class="idref" href="PLF.Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="PLF.Smallstep.html#6e515222feff978d19765018dc1007ec"><span class="id" title="notation">/</span></a> <a class="idref" href="PLF.Smallstep.html#st:261"><span class="id" title="variable">st</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#6e515222feff978d19765018dc1007ec"><span class="id" title="notation">--&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">if</span></a> <a class="idref" href="PLF.Smallstep.html#b1':263"><span class="id" title="variable">b1'</span></a> <a class="idref" href="PLF.Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">then</span></a> <a class="idref" href="PLF.Smallstep.html#c1:264"><span class="id" title="variable">c1</span></a> <a class="idref" href="PLF.Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">else</span></a> <a class="idref" href="PLF.Smallstep.html#c2:265"><span class="id" title="variable">c2</span></a> <a class="idref" href="PLF.Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="PLF.Smallstep.html#6e515222feff978d19765018dc1007ec"><span class="id" title="notation">/</span></a> <a class="idref" href="PLF.Smallstep.html#st:261"><span class="id" title="variable">st</span></a><br/>
&nbsp;&nbsp;| <a id="CS_IfTrue" class="idref" href="#CS_IfTrue"><span class="id" title="constructor">CS_IfTrue</span></a> : <span class="id" title="keyword">∀</span> <a id="st:266" class="idref" href="#st:266"><span class="id" title="binder">st</span></a> <a id="c1:267" class="idref" href="#c1:267"><span class="id" title="binder">c1</span></a> <a id="c2:268" class="idref" href="#c2:268"><span class="id" title="binder">c2</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">if</span></a> <a class="idref" href="PLF.Imp.html#:com::'true'"><span class="id" title="notation">true</span></a> <a class="idref" href="PLF.Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">then</span></a> <a class="idref" href="PLF.Smallstep.html#c1:267"><span class="id" title="variable">c1</span></a> <a class="idref" href="PLF.Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">else</span></a> <a class="idref" href="PLF.Smallstep.html#c2:268"><span class="id" title="variable">c2</span></a> <a class="idref" href="PLF.Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="PLF.Smallstep.html#6e515222feff978d19765018dc1007ec"><span class="id" title="notation">/</span></a> <a class="idref" href="PLF.Smallstep.html#st:266"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Smallstep.html#6e515222feff978d19765018dc1007ec"><span class="id" title="notation">--&gt;</span></a> <a class="idref" href="PLF.Smallstep.html#c1:267"><span class="id" title="variable">c1</span></a> <a class="idref" href="PLF.Smallstep.html#6e515222feff978d19765018dc1007ec"><span class="id" title="notation">/</span></a> <a class="idref" href="PLF.Smallstep.html#st:266"><span class="id" title="variable">st</span></a><br/>
&nbsp;&nbsp;| <a id="CS_IfFalse" class="idref" href="#CS_IfFalse"><span class="id" title="constructor">CS_IfFalse</span></a> : <span class="id" title="keyword">∀</span> <a id="st:269" class="idref" href="#st:269"><span class="id" title="binder">st</span></a> <a id="c1:270" class="idref" href="#c1:270"><span class="id" title="binder">c1</span></a> <a id="c2:271" class="idref" href="#c2:271"><span class="id" title="binder">c2</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">if</span></a> <a class="idref" href="PLF.Imp.html#:com::'false'"><span class="id" title="notation">false</span></a> <a class="idref" href="PLF.Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">then</span></a> <a class="idref" href="PLF.Smallstep.html#c1:270"><span class="id" title="variable">c1</span></a> <a class="idref" href="PLF.Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">else</span></a> <a class="idref" href="PLF.Smallstep.html#c2:271"><span class="id" title="variable">c2</span></a> <a class="idref" href="PLF.Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="PLF.Smallstep.html#6e515222feff978d19765018dc1007ec"><span class="id" title="notation">/</span></a> <a class="idref" href="PLF.Smallstep.html#st:269"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Smallstep.html#6e515222feff978d19765018dc1007ec"><span class="id" title="notation">--&gt;</span></a> <a class="idref" href="PLF.Smallstep.html#c2:271"><span class="id" title="variable">c2</span></a> <a class="idref" href="PLF.Smallstep.html#6e515222feff978d19765018dc1007ec"><span class="id" title="notation">/</span></a> <a class="idref" href="PLF.Smallstep.html#st:269"><span class="id" title="variable">st</span></a><br/>
&nbsp;&nbsp;| <a id="CS_While" class="idref" href="#CS_While"><span class="id" title="constructor">CS_While</span></a> : <span class="id" title="keyword">∀</span> <a id="st:272" class="idref" href="#st:272"><span class="id" title="binder">st</span></a> <a id="b1:273" class="idref" href="#b1:273"><span class="id" title="binder">b1</span></a> <a id="c1:274" class="idref" href="#c1:274"><span class="id" title="binder">c1</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">while</span></a> <a class="idref" href="PLF.Smallstep.html#b1:273"><span class="id" title="variable">b1</span></a> <a class="idref" href="PLF.Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">do</span></a> <a class="idref" href="PLF.Smallstep.html#c1:274"><span class="id" title="variable">c1</span></a> <a class="idref" href="PLF.Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="PLF.Smallstep.html#6e515222feff978d19765018dc1007ec"><span class="id" title="notation">/</span></a> <a class="idref" href="PLF.Smallstep.html#st:272"><span class="id" title="variable">st</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#6e515222feff978d19765018dc1007ec"><span class="id" title="notation">--&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">if</span></a> <a class="idref" href="PLF.Smallstep.html#b1:273"><span class="id" title="variable">b1</span></a> <a class="idref" href="PLF.Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">then</span></a> <a class="idref" href="PLF.Smallstep.html#c1:274"><span class="id" title="variable">c1</span></a><a class="idref" href="PLF.Imp.html#313afe74ec81f2da17d8e7bca3b042e7"><span class="id" title="notation">;</span></a> <a class="idref" href="PLF.Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">while</span></a> <a class="idref" href="PLF.Smallstep.html#b1:273"><span class="id" title="variable">b1</span></a> <a class="idref" href="PLF.Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">do</span></a> <a class="idref" href="PLF.Smallstep.html#c1:274"><span class="id" title="variable">c1</span></a> <a class="idref" href="PLF.Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="PLF.Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">else</span></a> <a class="idref" href="PLF.Imp.html#:com:com_scope:'skip'"><span class="id" title="notation">skip</span></a> <a class="idref" href="PLF.Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="PLF.Smallstep.html#6e515222feff978d19765018dc1007ec"><span class="id" title="notation">/</span></a> <a class="idref" href="PLF.Smallstep.html#st:272"><span class="id" title="variable">st</span></a><br/>
<br/>
&nbsp;&nbsp;<span class="id" title="keyword">where</span> <a id="6e515222feff978d19765018dc1007ec" class="idref" href="#6e515222feff978d19765018dc1007ec"><span class="id" title="notation">&quot;</span></a> t '/' st '--&gt;' t' '/' st' " := (<a class="idref" href="PLF.Smallstep.html#cstep:246"><span class="id" title="inductive">cstep</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">t</span><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">st</span><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">t'</span><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">st'</span><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>

<br/>
</div>

<div class="doc">
<a id="lab545"></a><h1 class="section">Concurrent Imp</h1>

<div class="paragraph"> </div>

 Finally, to show the power of this definitional style, let's
    enrich Imp with a new form of command that runs two subcommands in
    parallel and terminates when both have terminated.  To reflect the
    unpredictability of scheduling, the actions of the subcommands may
    be interleaved in any order, but they share the same memory and
    can communicate by reading and writing the same variables. 
<div class="paragraph"> </div>

 For example:
<ul class="doclist">
<li> This program sets <span class="inlinecode"><span class="id" title="var">X</span></span> to <span class="inlinecode">0</span> in one thread and <span class="inlinecode">1</span> in another,
       leaving it set to either <span class="inlinecode">0</span> or <span class="inlinecode">1</span> at the end:

<div class="paragraph"> </div>

          X := 0 || X := 1

<div class="paragraph"> </div>


</li>
<li> This one leaves <span class="inlinecode"><span class="id" title="var">X</span></span> set to one of <span class="inlinecode">0</span>, <span class="inlinecode">1</span>, <span class="inlinecode">2</span>, or <span class="inlinecode">3</span> at the
       end:

<div class="paragraph"> </div>

          X := 0; (X := X+2 || X := X+1 || X := 0)

</li>
</ul>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Module</span> <a id="CImp" class="idref" href="#CImp"><span class="id" title="module">CImp</span></a>.<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a id="CImp.com" class="idref" href="#CImp.com"><span class="id" title="definition, inductive"><span id="CImp.com_rect" class="id"><span id="CImp.com_ind" class="id"><span id="CImp.com_rec" class="id"><span id="CImp.com_sind" class="id">com</span></span></span></span></span></a> : <span class="id" title="keyword">Type</span> :=<br/>
&nbsp;&nbsp;| <a id="CImp.CSkip" class="idref" href="#CImp.CSkip"><span class="id" title="constructor">CSkip</span></a> : <a class="idref" href="PLF.Smallstep.html#com:275"><span class="id" title="inductive">com</span></a><br/>
&nbsp;&nbsp;| <a id="CImp.CAsgn" class="idref" href="#CImp.CAsgn"><span class="id" title="constructor">CAsgn</span></a> : <span class="id" title="inductive">string</span> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="PLF.Imp.html#aexp"><span class="id" title="inductive">aexp</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="PLF.Smallstep.html#com:275"><span class="id" title="inductive">com</span></a><br/>
&nbsp;&nbsp;| <a id="CImp.CSeq" class="idref" href="#CImp.CSeq"><span class="id" title="constructor">CSeq</span></a> : <a class="idref" href="PLF.Smallstep.html#com:275"><span class="id" title="inductive">com</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="PLF.Smallstep.html#com:275"><span class="id" title="inductive">com</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="PLF.Smallstep.html#com:275"><span class="id" title="inductive">com</span></a><br/>
&nbsp;&nbsp;| <a id="CImp.CIf" class="idref" href="#CImp.CIf"><span class="id" title="constructor">CIf</span></a> : <a class="idref" href="PLF.Imp.html#bexp"><span class="id" title="inductive">bexp</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="PLF.Smallstep.html#com:275"><span class="id" title="inductive">com</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="PLF.Smallstep.html#com:275"><span class="id" title="inductive">com</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="PLF.Smallstep.html#com:275"><span class="id" title="inductive">com</span></a><br/>
&nbsp;&nbsp;| <a id="CImp.CWhile" class="idref" href="#CImp.CWhile"><span class="id" title="constructor">CWhile</span></a> : <a class="idref" href="PLF.Imp.html#bexp"><span class="id" title="inductive">bexp</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="PLF.Smallstep.html#com:275"><span class="id" title="inductive">com</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="PLF.Smallstep.html#com:275"><span class="id" title="inductive">com</span></a><br/>
&nbsp;&nbsp;| <a id="CImp.CPar" class="idref" href="#CImp.CPar"><span class="id" title="constructor">CPar</span></a> : <a class="idref" href="PLF.Smallstep.html#com:275"><span class="id" title="inductive">com</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="PLF.Smallstep.html#com:275"><span class="id" title="inductive">com</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="PLF.Smallstep.html#com:275"><span class="id" title="inductive">com</span></a>. 
<br/>
<span class="id" title="keyword">Notation</span> <a id="d6b7010d9ad45e09152f6559d8ee4de6" class="idref" href="#d6b7010d9ad45e09152f6559d8ee4de6"><span class="id" title="notation">&quot;</span></a>x || y" :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="PLF.Smallstep.html#CImp.CPar"><span class="id" title="constructor">CPar</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="tactic">in</span> <span class="id" title="var">custom</span> <span class="id" title="var">com</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 90, <span class="id" title="tactic">right</span> <span class="id" title="keyword">associativity</span>).<br/>
<span class="id" title="keyword">Notation</span> <a id="CImp.:com::'skip'" class="idref" href="#CImp.:com::'skip'"><span class="id" title="notation">&quot;</span></a>'skip'"  :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#CImp.CSkip"><span class="id" title="constructor">CSkip</span></a> (<span class="id" title="tactic">in</span> <span class="id" title="var">custom</span> <span class="id" title="var">com</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 0).<br/>
<span class="id" title="keyword">Notation</span> <a id="d8973dfc731ad829b426e5a1b78f458b" class="idref" href="#d8973dfc731ad829b426e5a1b78f458b"><span class="id" title="notation">&quot;</span></a>x := y"  :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="PLF.Smallstep.html#CImp.CAsgn"><span class="id" title="constructor">CAsgn</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="tactic">in</span> <span class="id" title="var">custom</span> <span class="id" title="var">com</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 0, <span class="id" title="var">x</span> <span class="id" title="keyword">constr</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 0,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">y</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 85, <span class="id" title="keyword">no</span> <span class="id" title="keyword">associativity</span>).<br/>
<span class="id" title="keyword">Notation</span> <a id="ed87b350c5fc502e1d186de268444506" class="idref" href="#ed87b350c5fc502e1d186de268444506"><span class="id" title="notation">&quot;</span></a>x ; y" :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="PLF.Smallstep.html#CImp.CSeq"><span class="id" title="constructor">CSeq</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="tactic">in</span> <span class="id" title="var">custom</span> <span class="id" title="var">com</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 90, <span class="id" title="tactic">right</span> <span class="id" title="keyword">associativity</span>).<br/>
<span class="id" title="keyword">Notation</span> <a id="CImp.:com::'if'_x_'then'_x_'else'_x_'end'" class="idref" href="#CImp.:com::'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">&quot;</span></a>'if' x 'then' y 'else' z 'end'" :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="PLF.Smallstep.html#CImp.CIf"><span class="id" title="constructor">CIf</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="tactic">in</span> <span class="id" title="var">custom</span> <span class="id" title="var">com</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 89, <span class="id" title="var">x</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 99,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">y</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 99, <span class="id" title="var">z</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 99).<br/>
<span class="id" title="keyword">Notation</span> <a id="CImp.:com::'while'_x_'do'_x_'end'" class="idref" href="#CImp.:com::'while'_x_'do'_x_'end'"><span class="id" title="notation">&quot;</span></a>'while' x 'do' y 'end'" :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="PLF.Smallstep.html#CImp.CWhile"><span class="id" title="constructor">CWhile</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="tactic">in</span> <span class="id" title="var">custom</span> <span class="id" title="var">com</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 89, <span class="id" title="var">x</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 99, <span class="id" title="var">y</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 99).<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a id="CImp.cstep" class="idref" href="#CImp.cstep"><span class="id" title="definition, inductive"><span id="CImp.cstep_ind" class="id"><span id="CImp.cstep_sind" class="id">cstep</span></span></span></a> : <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Smallstep.html#CImp.com"><span class="id" title="inductive">com</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="PLF.Imp.html#state"><span class="id" title="definition">state</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a>  <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Smallstep.html#CImp.com"><span class="id" title="inductive">com</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="PLF.Imp.html#state"><span class="id" title="definition">state</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;| <a id="CImp.CS_AsgnStep" class="idref" href="#CImp.CS_AsgnStep"><span class="id" title="constructor">CS_AsgnStep</span></a> : <span class="id" title="keyword">∀</span> <a id="st:279" class="idref" href="#st:279"><span class="id" title="binder">st</span></a> <a id="i:280" class="idref" href="#i:280"><span class="id" title="binder">i</span></a> <a id="a1:281" class="idref" href="#a1:281"><span class="id" title="binder">a1</span></a> <a id="a1':282" class="idref" href="#a1':282"><span class="id" title="binder">a1'</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#a1:281"><span class="id" title="variable">a1</span></a> <a class="idref" href="PLF.Smallstep.html#f223d501fd6c3a7e915ee72dd3a78dab"><span class="id" title="notation">/</span></a> <a class="idref" href="PLF.Smallstep.html#st:279"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Smallstep.html#f223d501fd6c3a7e915ee72dd3a78dab"><span class="id" title="notation">--&gt;</span></a><a class="idref" href="PLF.Smallstep.html#f223d501fd6c3a7e915ee72dd3a78dab"><span class="id" title="notation">a</span></a> <a class="idref" href="PLF.Smallstep.html#a1':282"><span class="id" title="variable">a1'</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Smallstep.html#i:280"><span class="id" title="variable">i</span></a> <a class="idref" href="PLF.Smallstep.html#d8973dfc731ad829b426e5a1b78f458b"><span class="id" title="notation">:=</span></a> <a class="idref" href="PLF.Smallstep.html#a1:281"><span class="id" title="variable">a1</span></a> <a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="PLF.Smallstep.html#88d537a787a18ee622b01c601a62342a"><span class="id" title="notation">/</span></a> <a class="idref" href="PLF.Smallstep.html#st:279"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Smallstep.html#88d537a787a18ee622b01c601a62342a"><span class="id" title="notation">--&gt;</span></a> <a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Smallstep.html#i:280"><span class="id" title="variable">i</span></a> <a class="idref" href="PLF.Smallstep.html#d8973dfc731ad829b426e5a1b78f458b"><span class="id" title="notation">:=</span></a> <a class="idref" href="PLF.Smallstep.html#a1':282"><span class="id" title="variable">a1'</span></a> <a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="PLF.Smallstep.html#88d537a787a18ee622b01c601a62342a"><span class="id" title="notation">/</span></a> <a class="idref" href="PLF.Smallstep.html#st:279"><span class="id" title="variable">st</span></a><br/>
&nbsp;&nbsp;| <a id="CImp.CS_Asgn" class="idref" href="#CImp.CS_Asgn"><span class="id" title="constructor">CS_Asgn</span></a> : <span class="id" title="keyword">∀</span> <a id="st:283" class="idref" href="#st:283"><span class="id" title="binder">st</span></a> <a id="i:284" class="idref" href="#i:284"><span class="id" title="binder">i</span></a> (<a id="n:285" class="idref" href="#n:285"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Smallstep.html#i:284"><span class="id" title="variable">i</span></a> <a class="idref" href="PLF.Smallstep.html#d8973dfc731ad829b426e5a1b78f458b"><span class="id" title="notation">:=</span></a> <a class="idref" href="PLF.Smallstep.html#n:285"><span class="id" title="variable">n</span></a> <a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="PLF.Smallstep.html#88d537a787a18ee622b01c601a62342a"><span class="id" title="notation">/</span></a> <a class="idref" href="PLF.Smallstep.html#st:283"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Smallstep.html#88d537a787a18ee622b01c601a62342a"><span class="id" title="notation">--&gt;</span></a> <a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Smallstep.html#CImp.:com::'skip'"><span class="id" title="notation">skip</span></a> <a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="PLF.Smallstep.html#88d537a787a18ee622b01c601a62342a"><span class="id" title="notation">/</span></a> <a class="idref" href="PLF.Smallstep.html#88d537a787a18ee622b01c601a62342a"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Smallstep.html#i:284"><span class="id" title="variable">i</span></a> <a class="idref" href="PLF.Maps.html#630986d105c0f1782d085b9a306379a7"><span class="id" title="notation">!-&gt;</span></a> <a class="idref" href="PLF.Smallstep.html#n:285"><span class="id" title="variable">n</span></a> <a class="idref" href="PLF.Maps.html#630986d105c0f1782d085b9a306379a7"><span class="id" title="notation">;</span></a> <a class="idref" href="PLF.Smallstep.html#st:283"><span class="id" title="variable">st</span></a><a class="idref" href="PLF.Smallstep.html#88d537a787a18ee622b01c601a62342a"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;| <a id="CImp.CS_SeqStep" class="idref" href="#CImp.CS_SeqStep"><span class="id" title="constructor">CS_SeqStep</span></a> : <span class="id" title="keyword">∀</span> <a id="st:286" class="idref" href="#st:286"><span class="id" title="binder">st</span></a> <a id="c1:287" class="idref" href="#c1:287"><span class="id" title="binder">c1</span></a> <a id="c1':288" class="idref" href="#c1':288"><span class="id" title="binder">c1'</span></a> <a id="st':289" class="idref" href="#st':289"><span class="id" title="binder">st'</span></a> <a id="c2:290" class="idref" href="#c2:290"><span class="id" title="binder">c2</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#c1:287"><span class="id" title="variable">c1</span></a> <a class="idref" href="PLF.Smallstep.html#88d537a787a18ee622b01c601a62342a"><span class="id" title="notation">/</span></a> <a class="idref" href="PLF.Smallstep.html#st:286"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Smallstep.html#88d537a787a18ee622b01c601a62342a"><span class="id" title="notation">--&gt;</span></a> <a class="idref" href="PLF.Smallstep.html#c1':288"><span class="id" title="variable">c1'</span></a> <a class="idref" href="PLF.Smallstep.html#88d537a787a18ee622b01c601a62342a"><span class="id" title="notation">/</span></a> <a class="idref" href="PLF.Smallstep.html#st':289"><span class="id" title="variable">st'</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Smallstep.html#c1:287"><span class="id" title="variable">c1</span></a> <a class="idref" href="PLF.Smallstep.html#ed87b350c5fc502e1d186de268444506"><span class="id" title="notation">;</span></a> <a class="idref" href="PLF.Smallstep.html#c2:290"><span class="id" title="variable">c2</span></a> <a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="PLF.Smallstep.html#88d537a787a18ee622b01c601a62342a"><span class="id" title="notation">/</span></a> <a class="idref" href="PLF.Smallstep.html#st:286"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Smallstep.html#88d537a787a18ee622b01c601a62342a"><span class="id" title="notation">--&gt;</span></a> <a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Smallstep.html#c1':288"><span class="id" title="variable">c1'</span></a> <a class="idref" href="PLF.Smallstep.html#ed87b350c5fc502e1d186de268444506"><span class="id" title="notation">;</span></a> <a class="idref" href="PLF.Smallstep.html#c2:290"><span class="id" title="variable">c2</span></a> <a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="PLF.Smallstep.html#88d537a787a18ee622b01c601a62342a"><span class="id" title="notation">/</span></a> <a class="idref" href="PLF.Smallstep.html#st':289"><span class="id" title="variable">st'</span></a><br/>
&nbsp;&nbsp;| <a id="CImp.CS_SeqFinish" class="idref" href="#CImp.CS_SeqFinish"><span class="id" title="constructor">CS_SeqFinish</span></a> : <span class="id" title="keyword">∀</span> <a id="st:291" class="idref" href="#st:291"><span class="id" title="binder">st</span></a> <a id="c2:292" class="idref" href="#c2:292"><span class="id" title="binder">c2</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Smallstep.html#CImp.:com::'skip'"><span class="id" title="notation">skip</span></a> <a class="idref" href="PLF.Smallstep.html#ed87b350c5fc502e1d186de268444506"><span class="id" title="notation">;</span></a> <a class="idref" href="PLF.Smallstep.html#c2:292"><span class="id" title="variable">c2</span></a> <a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="PLF.Smallstep.html#88d537a787a18ee622b01c601a62342a"><span class="id" title="notation">/</span></a> <a class="idref" href="PLF.Smallstep.html#st:291"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Smallstep.html#88d537a787a18ee622b01c601a62342a"><span class="id" title="notation">--&gt;</span></a> <a class="idref" href="PLF.Smallstep.html#c2:292"><span class="id" title="variable">c2</span></a> <a class="idref" href="PLF.Smallstep.html#88d537a787a18ee622b01c601a62342a"><span class="id" title="notation">/</span></a> <a class="idref" href="PLF.Smallstep.html#st:291"><span class="id" title="variable">st</span></a><br/>
&nbsp;&nbsp;| <a id="CImp.CS_IfStep" class="idref" href="#CImp.CS_IfStep"><span class="id" title="constructor">CS_IfStep</span></a> : <span class="id" title="keyword">∀</span> <a id="st:293" class="idref" href="#st:293"><span class="id" title="binder">st</span></a> <a id="b1:294" class="idref" href="#b1:294"><span class="id" title="binder">b1</span></a> <a id="b1':295" class="idref" href="#b1':295"><span class="id" title="binder">b1'</span></a> <a id="c1:296" class="idref" href="#c1:296"><span class="id" title="binder">c1</span></a> <a id="c2:297" class="idref" href="#c2:297"><span class="id" title="binder">c2</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#b1:294"><span class="id" title="variable">b1</span></a> <a class="idref" href="PLF.Smallstep.html#b26f673e1b1d9b99d89d729449993cc5"><span class="id" title="notation">/</span></a> <a class="idref" href="PLF.Smallstep.html#st:293"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Smallstep.html#b26f673e1b1d9b99d89d729449993cc5"><span class="id" title="notation">--&gt;</span></a><a class="idref" href="PLF.Smallstep.html#b26f673e1b1d9b99d89d729449993cc5"><span class="id" title="notation">b</span></a> <a class="idref" href="PLF.Smallstep.html#b1':295"><span class="id" title="variable">b1'</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Smallstep.html#CImp.:com::'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">if</span></a> <a class="idref" href="PLF.Smallstep.html#b1:294"><span class="id" title="variable">b1</span></a> <a class="idref" href="PLF.Smallstep.html#CImp.:com::'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">then</span></a> <a class="idref" href="PLF.Smallstep.html#c1:296"><span class="id" title="variable">c1</span></a> <a class="idref" href="PLF.Smallstep.html#CImp.:com::'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">else</span></a> <a class="idref" href="PLF.Smallstep.html#c2:297"><span class="id" title="variable">c2</span></a> <a class="idref" href="PLF.Smallstep.html#CImp.:com::'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="PLF.Smallstep.html#88d537a787a18ee622b01c601a62342a"><span class="id" title="notation">/</span></a> <a class="idref" href="PLF.Smallstep.html#st:293"><span class="id" title="variable">st</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#88d537a787a18ee622b01c601a62342a"><span class="id" title="notation">--&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Smallstep.html#CImp.:com::'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">if</span></a> <a class="idref" href="PLF.Smallstep.html#b1':295"><span class="id" title="variable">b1'</span></a> <a class="idref" href="PLF.Smallstep.html#CImp.:com::'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">then</span></a> <a class="idref" href="PLF.Smallstep.html#c1:296"><span class="id" title="variable">c1</span></a> <a class="idref" href="PLF.Smallstep.html#CImp.:com::'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">else</span></a> <a class="idref" href="PLF.Smallstep.html#c2:297"><span class="id" title="variable">c2</span></a> <a class="idref" href="PLF.Smallstep.html#CImp.:com::'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="PLF.Smallstep.html#88d537a787a18ee622b01c601a62342a"><span class="id" title="notation">/</span></a> <a class="idref" href="PLF.Smallstep.html#st:293"><span class="id" title="variable">st</span></a><br/>
&nbsp;&nbsp;| <a id="CImp.CS_IfTrue" class="idref" href="#CImp.CS_IfTrue"><span class="id" title="constructor">CS_IfTrue</span></a> : <span class="id" title="keyword">∀</span> <a id="st:298" class="idref" href="#st:298"><span class="id" title="binder">st</span></a> <a id="c1:299" class="idref" href="#c1:299"><span class="id" title="binder">c1</span></a> <a id="c2:300" class="idref" href="#c2:300"><span class="id" title="binder">c2</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Smallstep.html#CImp.:com::'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">if</span></a> <a class="idref" href="PLF.Imp.html#:com::'true'"><span class="id" title="notation">true</span></a> <a class="idref" href="PLF.Smallstep.html#CImp.:com::'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">then</span></a> <a class="idref" href="PLF.Smallstep.html#c1:299"><span class="id" title="variable">c1</span></a> <a class="idref" href="PLF.Smallstep.html#CImp.:com::'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">else</span></a> <a class="idref" href="PLF.Smallstep.html#c2:300"><span class="id" title="variable">c2</span></a> <a class="idref" href="PLF.Smallstep.html#CImp.:com::'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="PLF.Smallstep.html#88d537a787a18ee622b01c601a62342a"><span class="id" title="notation">/</span></a> <a class="idref" href="PLF.Smallstep.html#st:298"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Smallstep.html#88d537a787a18ee622b01c601a62342a"><span class="id" title="notation">--&gt;</span></a> <a class="idref" href="PLF.Smallstep.html#c1:299"><span class="id" title="variable">c1</span></a> <a class="idref" href="PLF.Smallstep.html#88d537a787a18ee622b01c601a62342a"><span class="id" title="notation">/</span></a> <a class="idref" href="PLF.Smallstep.html#st:298"><span class="id" title="variable">st</span></a><br/>
&nbsp;&nbsp;| <a id="CImp.CS_IfFalse" class="idref" href="#CImp.CS_IfFalse"><span class="id" title="constructor">CS_IfFalse</span></a> : <span class="id" title="keyword">∀</span> <a id="st:301" class="idref" href="#st:301"><span class="id" title="binder">st</span></a> <a id="c1:302" class="idref" href="#c1:302"><span class="id" title="binder">c1</span></a> <a id="c2:303" class="idref" href="#c2:303"><span class="id" title="binder">c2</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Smallstep.html#CImp.:com::'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">if</span></a> <a class="idref" href="PLF.Imp.html#:com::'false'"><span class="id" title="notation">false</span></a> <a class="idref" href="PLF.Smallstep.html#CImp.:com::'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">then</span></a> <a class="idref" href="PLF.Smallstep.html#c1:302"><span class="id" title="variable">c1</span></a> <a class="idref" href="PLF.Smallstep.html#CImp.:com::'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">else</span></a> <a class="idref" href="PLF.Smallstep.html#c2:303"><span class="id" title="variable">c2</span></a> <a class="idref" href="PLF.Smallstep.html#CImp.:com::'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="PLF.Smallstep.html#88d537a787a18ee622b01c601a62342a"><span class="id" title="notation">/</span></a> <a class="idref" href="PLF.Smallstep.html#st:301"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Smallstep.html#88d537a787a18ee622b01c601a62342a"><span class="id" title="notation">--&gt;</span></a> <a class="idref" href="PLF.Smallstep.html#c2:303"><span class="id" title="variable">c2</span></a> <a class="idref" href="PLF.Smallstep.html#88d537a787a18ee622b01c601a62342a"><span class="id" title="notation">/</span></a> <a class="idref" href="PLF.Smallstep.html#st:301"><span class="id" title="variable">st</span></a><br/>
&nbsp;&nbsp;| <a id="CImp.CS_While" class="idref" href="#CImp.CS_While"><span class="id" title="constructor">CS_While</span></a> : <span class="id" title="keyword">∀</span> <a id="st:304" class="idref" href="#st:304"><span class="id" title="binder">st</span></a> <a id="b1:305" class="idref" href="#b1:305"><span class="id" title="binder">b1</span></a> <a id="c1:306" class="idref" href="#c1:306"><span class="id" title="binder">c1</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Smallstep.html#CImp.:com::'while'_x_'do'_x_'end'"><span class="id" title="notation">while</span></a> <a class="idref" href="PLF.Smallstep.html#b1:305"><span class="id" title="variable">b1</span></a> <a class="idref" href="PLF.Smallstep.html#CImp.:com::'while'_x_'do'_x_'end'"><span class="id" title="notation">do</span></a> <a class="idref" href="PLF.Smallstep.html#c1:306"><span class="id" title="variable">c1</span></a> <a class="idref" href="PLF.Smallstep.html#CImp.:com::'while'_x_'do'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="PLF.Smallstep.html#88d537a787a18ee622b01c601a62342a"><span class="id" title="notation">/</span></a> <a class="idref" href="PLF.Smallstep.html#st:304"><span class="id" title="variable">st</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#88d537a787a18ee622b01c601a62342a"><span class="id" title="notation">--&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Smallstep.html#CImp.:com::'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">if</span></a> <a class="idref" href="PLF.Smallstep.html#b1:305"><span class="id" title="variable">b1</span></a> <a class="idref" href="PLF.Smallstep.html#CImp.:com::'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">then</span></a> <a class="idref" href="PLF.Smallstep.html#c1:306"><span class="id" title="variable">c1</span></a><a class="idref" href="PLF.Smallstep.html#ed87b350c5fc502e1d186de268444506"><span class="id" title="notation">;</span></a> <a class="idref" href="PLF.Smallstep.html#CImp.:com::'while'_x_'do'_x_'end'"><span class="id" title="notation">while</span></a> <a class="idref" href="PLF.Smallstep.html#b1:305"><span class="id" title="variable">b1</span></a> <a class="idref" href="PLF.Smallstep.html#CImp.:com::'while'_x_'do'_x_'end'"><span class="id" title="notation">do</span></a> <a class="idref" href="PLF.Smallstep.html#c1:306"><span class="id" title="variable">c1</span></a> <a class="idref" href="PLF.Smallstep.html#CImp.:com::'while'_x_'do'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="PLF.Smallstep.html#CImp.:com::'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">else</span></a> <a class="idref" href="PLF.Smallstep.html#CImp.:com::'skip'"><span class="id" title="notation">skip</span></a> <a class="idref" href="PLF.Smallstep.html#CImp.:com::'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="PLF.Smallstep.html#88d537a787a18ee622b01c601a62342a"><span class="id" title="notation">/</span></a> <a class="idref" href="PLF.Smallstep.html#st:304"><span class="id" title="variable">st</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;| <a id="CImp.CS_Par1" class="idref" href="#CImp.CS_Par1"><span class="id" title="constructor">CS_Par1</span></a> : <span class="id" title="keyword">∀</span> <a id="st:307" class="idref" href="#st:307"><span class="id" title="binder">st</span></a> <a id="c1:308" class="idref" href="#c1:308"><span class="id" title="binder">c1</span></a> <a id="c1':309" class="idref" href="#c1':309"><span class="id" title="binder">c1'</span></a> <a id="c2:310" class="idref" href="#c2:310"><span class="id" title="binder">c2</span></a> <a id="st':311" class="idref" href="#st':311"><span class="id" title="binder">st'</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#c1:308"><span class="id" title="variable">c1</span></a> <a class="idref" href="PLF.Smallstep.html#88d537a787a18ee622b01c601a62342a"><span class="id" title="notation">/</span></a> <a class="idref" href="PLF.Smallstep.html#st:307"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Smallstep.html#88d537a787a18ee622b01c601a62342a"><span class="id" title="notation">--&gt;</span></a> <a class="idref" href="PLF.Smallstep.html#c1':309"><span class="id" title="variable">c1'</span></a> <a class="idref" href="PLF.Smallstep.html#88d537a787a18ee622b01c601a62342a"><span class="id" title="notation">/</span></a> <a class="idref" href="PLF.Smallstep.html#st':311"><span class="id" title="variable">st'</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Smallstep.html#c1:308"><span class="id" title="variable">c1</span></a> <a class="idref" href="PLF.Smallstep.html#d6b7010d9ad45e09152f6559d8ee4de6"><span class="id" title="notation">||</span></a> <a class="idref" href="PLF.Smallstep.html#c2:310"><span class="id" title="variable">c2</span></a> <a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="PLF.Smallstep.html#88d537a787a18ee622b01c601a62342a"><span class="id" title="notation">/</span></a> <a class="idref" href="PLF.Smallstep.html#st:307"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Smallstep.html#88d537a787a18ee622b01c601a62342a"><span class="id" title="notation">--&gt;</span></a> <a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Smallstep.html#c1':309"><span class="id" title="variable">c1'</span></a> <a class="idref" href="PLF.Smallstep.html#d6b7010d9ad45e09152f6559d8ee4de6"><span class="id" title="notation">||</span></a> <a class="idref" href="PLF.Smallstep.html#c2:310"><span class="id" title="variable">c2</span></a> <a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="PLF.Smallstep.html#88d537a787a18ee622b01c601a62342a"><span class="id" title="notation">/</span></a> <a class="idref" href="PLF.Smallstep.html#st':311"><span class="id" title="variable">st'</span></a><br/>
&nbsp;&nbsp;| <a id="CImp.CS_Par2" class="idref" href="#CImp.CS_Par2"><span class="id" title="constructor">CS_Par2</span></a> : <span class="id" title="keyword">∀</span> <a id="st:312" class="idref" href="#st:312"><span class="id" title="binder">st</span></a> <a id="c1:313" class="idref" href="#c1:313"><span class="id" title="binder">c1</span></a> <a id="c2:314" class="idref" href="#c2:314"><span class="id" title="binder">c2</span></a> <a id="c2':315" class="idref" href="#c2':315"><span class="id" title="binder">c2'</span></a> <a id="st':316" class="idref" href="#st':316"><span class="id" title="binder">st'</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#c2:314"><span class="id" title="variable">c2</span></a> <a class="idref" href="PLF.Smallstep.html#88d537a787a18ee622b01c601a62342a"><span class="id" title="notation">/</span></a> <a class="idref" href="PLF.Smallstep.html#st:312"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Smallstep.html#88d537a787a18ee622b01c601a62342a"><span class="id" title="notation">--&gt;</span></a> <a class="idref" href="PLF.Smallstep.html#c2':315"><span class="id" title="variable">c2'</span></a> <a class="idref" href="PLF.Smallstep.html#88d537a787a18ee622b01c601a62342a"><span class="id" title="notation">/</span></a> <a class="idref" href="PLF.Smallstep.html#st':316"><span class="id" title="variable">st'</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Smallstep.html#c1:313"><span class="id" title="variable">c1</span></a> <a class="idref" href="PLF.Smallstep.html#d6b7010d9ad45e09152f6559d8ee4de6"><span class="id" title="notation">||</span></a> <a class="idref" href="PLF.Smallstep.html#c2:314"><span class="id" title="variable">c2</span></a> <a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="PLF.Smallstep.html#88d537a787a18ee622b01c601a62342a"><span class="id" title="notation">/</span></a> <a class="idref" href="PLF.Smallstep.html#st:312"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Smallstep.html#88d537a787a18ee622b01c601a62342a"><span class="id" title="notation">--&gt;</span></a> <a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Smallstep.html#c1:313"><span class="id" title="variable">c1</span></a> <a class="idref" href="PLF.Smallstep.html#d6b7010d9ad45e09152f6559d8ee4de6"><span class="id" title="notation">||</span></a> <a class="idref" href="PLF.Smallstep.html#c2':315"><span class="id" title="variable">c2'</span></a> <a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="PLF.Smallstep.html#88d537a787a18ee622b01c601a62342a"><span class="id" title="notation">/</span></a> <a class="idref" href="PLF.Smallstep.html#st':316"><span class="id" title="variable">st'</span></a><br/>
&nbsp;&nbsp;| <a id="CImp.CS_ParDone" class="idref" href="#CImp.CS_ParDone"><span class="id" title="constructor">CS_ParDone</span></a> : <span class="id" title="keyword">∀</span> <a id="st:317" class="idref" href="#st:317"><span class="id" title="binder">st</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Smallstep.html#CImp.:com::'skip'"><span class="id" title="notation">skip</span></a> <a class="idref" href="PLF.Smallstep.html#d6b7010d9ad45e09152f6559d8ee4de6"><span class="id" title="notation">||</span></a> <a class="idref" href="PLF.Smallstep.html#CImp.:com::'skip'"><span class="id" title="notation">skip</span></a> <a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="PLF.Smallstep.html#88d537a787a18ee622b01c601a62342a"><span class="id" title="notation">/</span></a> <a class="idref" href="PLF.Smallstep.html#st:317"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Smallstep.html#88d537a787a18ee622b01c601a62342a"><span class="id" title="notation">--&gt;</span></a> <a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Smallstep.html#CImp.:com::'skip'"><span class="id" title="notation">skip</span></a> <a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="PLF.Smallstep.html#88d537a787a18ee622b01c601a62342a"><span class="id" title="notation">/</span></a> <a class="idref" href="PLF.Smallstep.html#st:317"><span class="id" title="variable">st</span></a><br/>
<br/>
&nbsp;&nbsp;<span class="id" title="keyword">where</span> <a id="88d537a787a18ee622b01c601a62342a" class="idref" href="#88d537a787a18ee622b01c601a62342a"><span class="id" title="notation">&quot;</span></a> t '/' st '--&gt;' t' '/' st' " := (<a class="idref" href="PLF.Smallstep.html#cstep:278"><span class="id" title="inductive">cstep</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">t</span><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">st</span><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">t'</span><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">st'</span><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="CImp.cmultistep" class="idref" href="#CImp.cmultistep"><span class="id" title="definition">cmultistep</span></a> := <a class="idref" href="PLF.Smallstep.html#multi"><span class="id" title="inductive">multi</span></a> <a class="idref" href="PLF.Smallstep.html#CImp.cstep"><span class="id" title="inductive">cstep</span></a>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a id="1ac4746b7263e82a2c39e7596bcbcd58" class="idref" href="#1ac4746b7263e82a2c39e7596bcbcd58"><span class="id" title="notation">&quot;</span></a> t '/' st '--&gt;*' t' '/' st' " :=<br/>
&nbsp;&nbsp;&nbsp;(<a class="idref" href="PLF.Smallstep.html#multi"><span class="id" title="inductive">multi</span></a> <a class="idref" href="PLF.Smallstep.html#CImp.cstep"><span class="id" title="inductive">cstep</span></a>  <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">t</span><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">st</span><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">t'</span><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">st'</span><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;(<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 40, <span class="id" title="var">st</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 39, <span class="id" title="var">t'</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 39).<br/>

<br/>
</div>

<div class="doc">
Among the many interesting properties of this language is the fact
    that the following program can terminate with the variable <span class="inlinecode"><span class="id" title="var">X</span></span> set
    to any value. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a id="CImp.par_loop" class="idref" href="#CImp.par_loop"><span class="id" title="definition">par_loop</span></a> : <a class="idref" href="PLF.Smallstep.html#CImp.com"><span class="id" title="inductive">com</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Imp.html#Y"><span class="id" title="definition">Y</span></a> <a class="idref" href="PLF.Smallstep.html#d8973dfc731ad829b426e5a1b78f458b"><span class="id" title="notation">:=</span></a> 1<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#d6b7010d9ad45e09152f6559d8ee4de6"><span class="id" title="notation">||</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#CImp.:com::'while'_x_'do'_x_'end'"><span class="id" title="notation">while</span></a> <a class="idref" href="PLF.Imp.html#5a96623d056c293ebbcdf03005796e09"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Imp.html#Y"><span class="id" title="definition">Y</span></a> <a class="idref" href="PLF.Imp.html#9e5b22caf5d7cf490e97976162618c2a"><span class="id" title="notation">=</span></a> 0<a class="idref" href="PLF.Imp.html#5a96623d056c293ebbcdf03005796e09"><span class="id" title="notation">)</span></a> <a class="idref" href="PLF.Smallstep.html#CImp.:com::'while'_x_'do'_x_'end'"><span class="id" title="notation">do</span></a> <a class="idref" href="PLF.Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="PLF.Smallstep.html#d8973dfc731ad829b426e5a1b78f458b"><span class="id" title="notation">:=</span></a> <a class="idref" href="PLF.Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="PLF.Imp.html#ad27fd091d9c8494ce7e5135135d19a8"><span class="id" title="notation">+</span></a> 1 <a class="idref" href="PLF.Smallstep.html#CImp.:com::'while'_x_'do'_x_'end'"><span class="id" title="notation">end</span></a><br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a>.<br/>

<br/>
</div>

<div class="doc">
In particular, it can terminate with <span class="inlinecode"><span class="id" title="var">X</span></span> set to <span class="inlinecode">0</span>: 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Example</span> <a id="CImp.par_loop_example_0" class="idref" href="#CImp.par_loop_example_0"><span class="id" title="definition">par_loop_example_0</span></a>:<br/>
&nbsp;&nbsp;<a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="st':318" class="idref" href="#st':318"><span class="id" title="binder">st'</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#CImp.par_loop"><span class="id" title="definition">par_loop</span></a> <a class="idref" href="PLF.Smallstep.html#1ac4746b7263e82a2c39e7596bcbcd58"><span class="id" title="notation">/</span></a> <a class="idref" href="PLF.Imp.html#empty_st"><span class="id" title="definition">empty_st</span></a>  <a class="idref" href="PLF.Smallstep.html#1ac4746b7263e82a2c39e7596bcbcd58"><span class="id" title="notation">--&gt;*</span></a> <a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a><a class="idref" href="PLF.Smallstep.html#CImp.:com::'skip'"><span class="id" title="notation">skip</span></a><a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="PLF.Smallstep.html#1ac4746b7263e82a2c39e7596bcbcd58"><span class="id" title="notation">/</span></a> <a class="idref" href="PLF.Smallstep.html#st':318"><span class="id" title="variable">st'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="PLF.Smallstep.html#st':318"><span class="id" title="variable">st'</span></a> <a class="idref" href="PLF.Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="PLF.Smallstep.html#CImp.par_loop"><span class="id" title="definition">par_loop</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="PLF.Smallstep.html#multi_step"><span class="id" title="constructor">multi_step</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#CImp.CS_Par1"><span class="id" title="constructor">CS_Par1</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#CImp.CS_Asgn"><span class="id" title="constructor">CS_Asgn</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="PLF.Smallstep.html#multi_step"><span class="id" title="constructor">multi_step</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#CImp.CS_Par2"><span class="id" title="constructor">CS_Par2</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#CImp.CS_While"><span class="id" title="constructor">CS_While</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">eapply</span> <a class="idref" href="PLF.Smallstep.html#multi_step"><span class="id" title="constructor">multi_step</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#CImp.CS_Par2"><span class="id" title="constructor">CS_Par2</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#CImp.CS_IfStep"><span class="id" title="constructor">CS_IfStep</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#BS_Eq1"><span class="id" title="constructor">BS_Eq1</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#AS_Id"><span class="id" title="constructor">AS_Id</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">eapply</span> <a class="idref" href="PLF.Smallstep.html#multi_step"><span class="id" title="constructor">multi_step</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#CImp.CS_Par2"><span class="id" title="constructor">CS_Par2</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#CImp.CS_IfStep"><span class="id" title="constructor">CS_IfStep</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#BS_Eq"><span class="id" title="constructor">BS_Eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="PLF.Smallstep.html#multi_step"><span class="id" title="constructor">multi_step</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#CImp.CS_Par2"><span class="id" title="constructor">CS_Par2</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#CImp.CS_IfFalse"><span class="id" title="constructor">CS_IfFalse</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">eapply</span> <a class="idref" href="PLF.Smallstep.html#multi_step"><span class="id" title="constructor">multi_step</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--- <span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#CImp.CS_ParDone"><span class="id" title="constructor">CS_ParDone</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--- <span class="id" title="tactic">eapply</span> <a class="idref" href="PLF.Smallstep.html#multi_refl"><span class="id" title="constructor">multi_refl</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
It can also terminate with <span class="inlinecode"><span class="id" title="var">X</span></span> set to <span class="inlinecode">2</span>: 
<div class="paragraph"> </div>

 The following proofs are particularly "deep" -- they require
    following the small step semantics in a particular strategy to
    exhibit the desired behavior. For that reason, they are a bit
    awkward to write with "forced bullets". Nevertheless, we keep them
    because they emphasize that the witness for an evaluation by
    small-step semantics has a size that is proportional to the number
    of steps taken.  It would be an interesting exercise to write Coq
    tactics that can help automate the construction of such proofs,
    but such a tactic would need to "search" among the many
    possibilities. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Example</span> <a id="CImp.par_loop_example_2" class="idref" href="#CImp.par_loop_example_2"><span class="id" title="definition">par_loop_example_2</span></a>:<br/>
&nbsp;&nbsp;<a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="st':319" class="idref" href="#st':319"><span class="id" title="binder">st'</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#CImp.par_loop"><span class="id" title="definition">par_loop</span></a> <a class="idref" href="PLF.Smallstep.html#1ac4746b7263e82a2c39e7596bcbcd58"><span class="id" title="notation">/</span></a> <a class="idref" href="PLF.Imp.html#empty_st"><span class="id" title="definition">empty_st</span></a> <a class="idref" href="PLF.Smallstep.html#1ac4746b7263e82a2c39e7596bcbcd58"><span class="id" title="notation">--&gt;*</span></a> <a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a><a class="idref" href="PLF.Smallstep.html#CImp.:com::'skip'"><span class="id" title="notation">skip</span></a><a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="PLF.Smallstep.html#1ac4746b7263e82a2c39e7596bcbcd58"><span class="id" title="notation">/</span></a> <a class="idref" href="PLF.Smallstep.html#st':319"><span class="id" title="variable">st'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="PLF.Smallstep.html#st':319"><span class="id" title="variable">st'</span></a> <a class="idref" href="PLF.Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 2.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="PLF.Smallstep.html#CImp.par_loop"><span class="id" title="definition">par_loop</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="PLF.Smallstep.html#multi_step"><span class="id" title="constructor">multi_step</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#CImp.CS_Par2"><span class="id" title="constructor">CS_Par2</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#CImp.CS_While"><span class="id" title="constructor">CS_While</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="PLF.Smallstep.html#multi_step"><span class="id" title="constructor">multi_step</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#CImp.CS_Par2"><span class="id" title="constructor">CS_Par2</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#CImp.CS_IfStep"><span class="id" title="constructor">CS_IfStep</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#BS_Eq1"><span class="id" title="constructor">BS_Eq1</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#AS_Id"><span class="id" title="constructor">AS_Id</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">eapply</span> <a class="idref" href="PLF.Smallstep.html#multi_step"><span class="id" title="constructor">multi_step</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#CImp.CS_Par2"><span class="id" title="constructor">CS_Par2</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#CImp.CS_IfStep"><span class="id" title="constructor">CS_IfStep</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#BS_Eq"><span class="id" title="constructor">BS_Eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="PLF.Smallstep.html#multi_step"><span class="id" title="constructor">multi_step</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#CImp.CS_Par2"><span class="id" title="constructor">CS_Par2</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#CImp.CS_IfTrue"><span class="id" title="constructor">CS_IfTrue</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">eapply</span> <a class="idref" href="PLF.Smallstep.html#multi_step"><span class="id" title="constructor">multi_step</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#CImp.CS_Par2"><span class="id" title="constructor">CS_Par2</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#CImp.CS_SeqStep"><span class="id" title="constructor">CS_SeqStep</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#CImp.CS_AsgnStep"><span class="id" title="constructor">CS_AsgnStep</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#AS_Plus1"><span class="id" title="constructor">AS_Plus1</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#AS_Id"><span class="id" title="constructor">AS_Id</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">eapply</span> <a class="idref" href="PLF.Smallstep.html#multi_step"><span class="id" title="constructor">multi_step</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--- <span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#CImp.CS_Par2"><span class="id" title="constructor">CS_Par2</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#CImp.CS_SeqStep"><span class="id" title="constructor">CS_SeqStep</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#CImp.CS_AsgnStep"><span class="id" title="constructor">CS_AsgnStep</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#AS_Plus"><span class="id" title="constructor">AS_Plus</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--- <span class="id" title="tactic">eapply</span> <a class="idref" href="PLF.Smallstep.html#multi_step"><span class="id" title="constructor">multi_step</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+++ <span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#CImp.CS_Par2"><span class="id" title="constructor">CS_Par2</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#CImp.CS_SeqStep"><span class="id" title="constructor">CS_SeqStep</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#CImp.CS_Asgn"><span class="id" title="constructor">CS_Asgn</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+++ <span class="id" title="tactic">eapply</span> <a class="idref" href="PLF.Smallstep.html#multi_step"><span class="id" title="constructor">multi_step</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*** <span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#CImp.CS_Par2"><span class="id" title="constructor">CS_Par2</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#CImp.CS_SeqFinish"><span class="id" title="constructor">CS_SeqFinish</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*** <span class="id" title="tactic">eapply</span> <a class="idref" href="PLF.Smallstep.html#multi_step"><span class="id" title="constructor">multi_step</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;---- <span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#CImp.CS_Par2"><span class="id" title="constructor">CS_Par2</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#CImp.CS_While"><span class="id" title="constructor">CS_While</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;---- <span class="id" title="tactic">eapply</span> <a class="idref" href="PLF.Smallstep.html#multi_step"><span class="id" title="constructor">multi_step</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++++ <span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#CImp.CS_Par2"><span class="id" title="constructor">CS_Par2</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#CImp.CS_IfStep"><span class="id" title="constructor">CS_IfStep</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#BS_Eq1"><span class="id" title="constructor">BS_Eq1</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#AS_Id"><span class="id" title="constructor">AS_Id</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++++ <span class="id" title="tactic">eapply</span> <a class="idref" href="PLF.Smallstep.html#multi_step"><span class="id" title="constructor">multi_step</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;**** <span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#CImp.CS_Par2"><span class="id" title="constructor">CS_Par2</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#CImp.CS_IfStep"><span class="id" title="constructor">CS_IfStep</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#BS_Eq"><span class="id" title="constructor">BS_Eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;**** <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="PLF.Smallstep.html#multi_step"><span class="id" title="constructor">multi_step</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;----- <span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#CImp.CS_Par2"><span class="id" title="constructor">CS_Par2</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#CImp.CS_IfTrue"><span class="id" title="constructor">CS_IfTrue</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;----- <span class="id" title="tactic">eapply</span> <a class="idref" href="PLF.Smallstep.html#multi_step"><span class="id" title="constructor">multi_step</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+++++ <span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#CImp.CS_Par2"><span class="id" title="constructor">CS_Par2</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#CImp.CS_SeqStep"><span class="id" title="constructor">CS_SeqStep</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#CImp.CS_AsgnStep"><span class="id" title="constructor">CS_AsgnStep</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#AS_Plus1"><span class="id" title="constructor">AS_Plus1</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#AS_Id"><span class="id" title="constructor">AS_Id</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+++++ <span class="id" title="tactic">eapply</span> <a class="idref" href="PLF.Smallstep.html#multi_step"><span class="id" title="constructor">multi_step</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;***** <span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#CImp.CS_Par2"><span class="id" title="constructor">CS_Par2</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#CImp.CS_SeqStep"><span class="id" title="constructor">CS_SeqStep</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#CImp.CS_AsgnStep"><span class="id" title="constructor">CS_AsgnStep</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#AS_Plus"><span class="id" title="constructor">AS_Plus</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;***** <span class="id" title="tactic">eapply</span> <a class="idref" href="PLF.Smallstep.html#multi_step"><span class="id" title="constructor">multi_step</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;------ <span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#CImp.CS_Par2"><span class="id" title="constructor">CS_Par2</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#CImp.CS_SeqStep"><span class="id" title="constructor">CS_SeqStep</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#CImp.CS_Asgn"><span class="id" title="constructor">CS_Asgn</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;------ <span class="id" title="tactic">eapply</span> <a class="idref" href="PLF.Smallstep.html#multi_step"><span class="id" title="constructor">multi_step</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++++++ <span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#CImp.CS_Par1"><span class="id" title="constructor">CS_Par1</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#CImp.CS_Asgn"><span class="id" title="constructor">CS_Asgn</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++++++ <span class="id" title="tactic">eapply</span> <a class="idref" href="PLF.Smallstep.html#multi_step"><span class="id" title="constructor">multi_step</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;****** <span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#CImp.CS_Par2"><span class="id" title="constructor">CS_Par2</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#CImp.CS_SeqFinish"><span class="id" title="constructor">CS_SeqFinish</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;****** <span class="id" title="tactic">eapply</span> <a class="idref" href="PLF.Smallstep.html#multi_step"><span class="id" title="constructor">multi_step</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;------- <span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#CImp.CS_Par2"><span class="id" title="constructor">CS_Par2</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#CImp.CS_While"><span class="id" title="constructor">CS_While</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;------- <span class="id" title="tactic">eapply</span> <a class="idref" href="PLF.Smallstep.html#multi_step"><span class="id" title="constructor">multi_step</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+++++++ <span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#CImp.CS_Par2"><span class="id" title="constructor">CS_Par2</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#CImp.CS_IfStep"><span class="id" title="constructor">CS_IfStep</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#BS_Eq1"><span class="id" title="constructor">BS_Eq1</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#AS_Id"><span class="id" title="constructor">AS_Id</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+++++++ <span class="id" title="tactic">eapply</span> <a class="idref" href="PLF.Smallstep.html#multi_step"><span class="id" title="constructor">multi_step</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;******* <span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#CImp.CS_Par2"><span class="id" title="constructor">CS_Par2</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#CImp.CS_IfStep"><span class="id" title="constructor">CS_IfStep</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#BS_Eq"><span class="id" title="constructor">BS_Eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;******* <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="PLF.Smallstep.html#multi_step"><span class="id" title="constructor">multi_step</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-------- <span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#CImp.CS_Par2"><span class="id" title="constructor">CS_Par2</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#CImp.CS_IfFalse"><span class="id" title="constructor">CS_IfFalse</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-------- <span class="id" title="tactic">eapply</span> <a class="idref" href="PLF.Smallstep.html#multi_step"><span class="id" title="constructor">multi_step</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++++++++ <span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#CImp.CS_ParDone"><span class="id" title="constructor">CS_ParDone</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++++++++ <span class="id" title="tactic">eapply</span> <a class="idref" href="PLF.Smallstep.html#multi_refl"><span class="id" title="constructor">multi_refl</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
More generally... 
<div class="paragraph"> </div>

<a id="lab546"></a><h4 class="section">Exercise: 3 stars, standard, optional (par_body_n__Sn)</h4>

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="CImp.par_body_n__Sn" class="idref" href="#CImp.par_body_n__Sn"><span class="id" title="lemma">par_body_n__Sn</span></a> : <span class="id" title="keyword">∀</span> <a id="n:320" class="idref" href="#n:320"><span class="id" title="binder">n</span></a> <a id="st:321" class="idref" href="#st:321"><span class="id" title="binder">st</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#st:321"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="PLF.Smallstep.html#n:320"><span class="id" title="variable">n</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="PLF.Smallstep.html#st:321"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Imp.html#Y"><span class="id" title="definition">Y</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0 <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#CImp.par_loop"><span class="id" title="definition">par_loop</span></a> <a class="idref" href="PLF.Smallstep.html#1ac4746b7263e82a2c39e7596bcbcd58"><span class="id" title="notation">/</span></a> <a class="idref" href="PLF.Smallstep.html#st:321"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Smallstep.html#1ac4746b7263e82a2c39e7596bcbcd58"><span class="id" title="notation">--&gt;*</span></a> <a class="idref" href="PLF.Smallstep.html#CImp.par_loop"><span class="id" title="definition">par_loop</span></a> <a class="idref" href="PLF.Smallstep.html#1ac4746b7263e82a2c39e7596bcbcd58"><span class="id" title="notation">/</span></a> <a class="idref" href="PLF.Smallstep.html#1ac4746b7263e82a2c39e7596bcbcd58"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="PLF.Maps.html#630986d105c0f1782d085b9a306379a7"><span class="id" title="notation">!-&gt;</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="PLF.Smallstep.html#n:320"><span class="id" title="variable">n</span></a> <a class="idref" href="PLF.Maps.html#630986d105c0f1782d085b9a306379a7"><span class="id" title="notation">;</span></a> <a class="idref" href="PLF.Smallstep.html#st:321"><span class="id" title="variable">st</span></a><a class="idref" href="PLF.Smallstep.html#1ac4746b7263e82a2c39e7596bcbcd58"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
 <span class="id" title="var">Admitted</span>.<br/>
</div>

<div class="doc">
<font size=-2>&#9744;</font> 
<div class="paragraph"> </div>

<a id="lab547"></a><h4 class="section">Exercise: 3 stars, standard, optional (par_body_n)</h4>

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="CImp.par_body_n" class="idref" href="#CImp.par_body_n"><span class="id" title="lemma">par_body_n</span></a> : <span class="id" title="keyword">∀</span> <a id="n:322" class="idref" href="#n:322"><span class="id" title="binder">n</span></a> <a id="st:323" class="idref" href="#st:323"><span class="id" title="binder">st</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#st:323"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0 <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="PLF.Smallstep.html#st:323"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Imp.html#Y"><span class="id" title="definition">Y</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0 <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="st':324" class="idref" href="#st':324"><span class="id" title="binder">st'</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#CImp.par_loop"><span class="id" title="definition">par_loop</span></a> <a class="idref" href="PLF.Smallstep.html#1ac4746b7263e82a2c39e7596bcbcd58"><span class="id" title="notation">/</span></a> <a class="idref" href="PLF.Smallstep.html#st:323"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Smallstep.html#1ac4746b7263e82a2c39e7596bcbcd58"><span class="id" title="notation">--&gt;*</span></a>  <a class="idref" href="PLF.Smallstep.html#CImp.par_loop"><span class="id" title="definition">par_loop</span></a> <a class="idref" href="PLF.Smallstep.html#1ac4746b7263e82a2c39e7596bcbcd58"><span class="id" title="notation">/</span></a> <a class="idref" href="PLF.Smallstep.html#st':324"><span class="id" title="variable">st'</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="PLF.Smallstep.html#st':324"><span class="id" title="variable">st'</span></a> <a class="idref" href="PLF.Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="PLF.Smallstep.html#n:322"><span class="id" title="variable">n</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="PLF.Smallstep.html#st':324"><span class="id" title="variable">st'</span></a> <a class="idref" href="PLF.Imp.html#Y"><span class="id" title="definition">Y</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
 <span class="id" title="var">Admitted</span>.<br/>
</div>

<div class="doc">
<font size=-2>&#9744;</font> 
<div class="paragraph"> </div>

 ... the above loop can exit with <span class="inlinecode"><span class="id" title="var">X</span></span> having any value
    whatsoever. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Theorem</span> <a id="CImp.par_loop_any_X" class="idref" href="#CImp.par_loop_any_X"><span class="id" title="lemma">par_loop_any_X</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="n:325" class="idref" href="#n:325"><span class="id" title="binder">n</span></a>, <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="st':326" class="idref" href="#st':326"><span class="id" title="binder">st'</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#CImp.par_loop"><span class="id" title="definition">par_loop</span></a> <a class="idref" href="PLF.Smallstep.html#1ac4746b7263e82a2c39e7596bcbcd58"><span class="id" title="notation">/</span></a> <a class="idref" href="PLF.Imp.html#empty_st"><span class="id" title="definition">empty_st</span></a> <a class="idref" href="PLF.Smallstep.html#1ac4746b7263e82a2c39e7596bcbcd58"><span class="id" title="notation">--&gt;*</span></a>  <a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a><a class="idref" href="PLF.Smallstep.html#CImp.:com::'skip'"><span class="id" title="notation">skip</span></a><a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="PLF.Smallstep.html#1ac4746b7263e82a2c39e7596bcbcd58"><span class="id" title="notation">/</span></a> <a class="idref" href="PLF.Smallstep.html#st':326"><span class="id" title="variable">st'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="PLF.Smallstep.html#st':326"><span class="id" title="variable">st'</span></a> <a class="idref" href="PLF.Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="PLF.Smallstep.html#n:325"><span class="id" title="variable">n</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="PLF.Smallstep.html#CImp.par_body_n"><span class="id" title="axiom">par_body_n</span></a> <span class="id" title="var">n</span> <a class="idref" href="PLF.Imp.html#empty_st"><span class="id" title="definition">empty_st</span></a>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">split</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rename</span> <span class="id" title="var">x</span> <span class="id" title="var">into</span> <span class="id" title="var">st</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">H'</span> [<span class="id" title="var">HX</span> <span class="id" title="var">HY</span>] ]; <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">∃</span> (<a class="idref" href="PLF.Imp.html#Y"><span class="id" title="definition">Y</span></a> <a class="idref" href="PLF.Maps.html#630986d105c0f1782d085b9a306379a7"><span class="id" title="notation">!-&gt;</span></a> 1 <a class="idref" href="PLF.Maps.html#630986d105c0f1782d085b9a306379a7"><span class="id" title="notation">;</span></a> <span class="id" title="var">st</span>). <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="PLF.Smallstep.html#multi_trans"><span class="id" title="lemma">multi_trans</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Smallstep.html#CImp.par_loop"><span class="id" title="definition">par_loop</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">st</span><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">apply</span> <span class="id" title="var">H'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">eapply</span> <a class="idref" href="PLF.Smallstep.html#multi_step"><span class="id" title="constructor">multi_step</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#CImp.CS_Par1"><span class="id" title="constructor">CS_Par1</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#CImp.CS_Asgn"><span class="id" title="constructor">CS_Asgn</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">eapply</span> <a class="idref" href="PLF.Smallstep.html#multi_step"><span class="id" title="constructor">multi_step</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#CImp.CS_Par2"><span class="id" title="constructor">CS_Par2</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#CImp.CS_While"><span class="id" title="constructor">CS_While</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">eapply</span> <a class="idref" href="PLF.Smallstep.html#multi_step"><span class="id" title="constructor">multi_step</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#CImp.CS_Par2"><span class="id" title="constructor">CS_Par2</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#CImp.CS_IfStep"><span class="id" title="constructor">CS_IfStep</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#BS_Eq1"><span class="id" title="constructor">BS_Eq1</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#AS_Id"><span class="id" title="constructor">AS_Id</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">rewrite</span> <a class="idref" href="PLF.Maps.html#t_update_eq"><span class="id" title="axiom">t_update_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="PLF.Smallstep.html#multi_step"><span class="id" title="constructor">multi_step</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--- <span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#CImp.CS_Par2"><span class="id" title="constructor">CS_Par2</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#CImp.CS_IfStep"><span class="id" title="constructor">CS_IfStep</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#BS_Eq"><span class="id" title="constructor">BS_Eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="PLF.Smallstep.html#multi_step"><span class="id" title="constructor">multi_step</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+++ <span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#CImp.CS_Par2"><span class="id" title="constructor">CS_Par2</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#CImp.CS_IfFalse"><span class="id" title="constructor">CS_IfFalse</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+++ <span class="id" title="tactic">eapply</span> <a class="idref" href="PLF.Smallstep.html#multi_step"><span class="id" title="constructor">multi_step</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*** <span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#CImp.CS_ParDone"><span class="id" title="constructor">CS_ParDone</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*** <span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#multi_refl"><span class="id" title="constructor">multi_refl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="PLF.Maps.html#t_update_neq"><span class="id" title="axiom">t_update_neq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">intro</span> <span class="id" title="var">X</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">X</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="PLF.Smallstep.html#CImp"><span class="id" title="module">CImp</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab548"></a><h1 class="section">A Small-Step Stack Machine</h1>

<div class="paragraph"> </div>

 Our last example is a small-step semantics for the stack machine
    example from the <span class="inlinecode"><span class="id" title="var">Imp</span></span> chapter of <i>Logical Foundations</i>. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a id="stack" class="idref" href="#stack"><span class="id" title="definition">stack</span></a> := <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a id="prog" class="idref" href="#prog"><span class="id" title="definition">prog</span></a>  := <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="PLF.Imp.html#sinstr"><span class="id" title="inductive">sinstr</span></a>.<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a id="stack_step" class="idref" href="#stack_step"><span class="id" title="definition, inductive"><span id="stack_step_ind" class="id"><span id="stack_step_sind" class="id">stack_step</span></span></span></a> (<a id="st:327" class="idref" href="#st:327"><span class="id" title="binder">st</span></a> : <a class="idref" href="PLF.Imp.html#state"><span class="id" title="definition">state</span></a>) : <a class="idref" href="PLF.Smallstep.html#prog"><span class="id" title="definition">prog</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="PLF.Smallstep.html#stack"><span class="id" title="definition">stack</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="PLF.Smallstep.html#prog"><span class="id" title="definition">prog</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="PLF.Smallstep.html#stack"><span class="id" title="definition">stack</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a id="SS_Push" class="idref" href="#SS_Push"><span class="id" title="constructor">SS_Push</span></a> : <span class="id" title="keyword">∀</span> <a id="stk:330" class="idref" href="#stk:330"><span class="id" title="binder">stk</span></a> <a id="n:331" class="idref" href="#n:331"><span class="id" title="binder">n</span></a> <a id="p:332" class="idref" href="#p:332"><span class="id" title="binder">p</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#stack_step:328"><span class="id" title="inductive">stack_step</span></a> <a class="idref" href="PLF.Smallstep.html#st:327"><span class="id" title="variable">st</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Imp.html#SPush"><span class="id" title="constructor">SPush</span></a> <a class="idref" href="PLF.Smallstep.html#n:331"><span class="id" title="variable">n</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="PLF.Smallstep.html#p:332"><span class="id" title="variable">p</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="PLF.Smallstep.html#stk:330"><span class="id" title="variable">stk</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>      <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Smallstep.html#p:332"><span class="id" title="variable">p</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="PLF.Smallstep.html#n:331"><span class="id" title="variable">n</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="PLF.Smallstep.html#stk:330"><span class="id" title="variable">stk</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;| <a id="SS_Load" class="idref" href="#SS_Load"><span class="id" title="constructor">SS_Load</span></a> : <span class="id" title="keyword">∀</span> <a id="stk:333" class="idref" href="#stk:333"><span class="id" title="binder">stk</span></a> <a id="i:334" class="idref" href="#i:334"><span class="id" title="binder">i</span></a> <a id="p:335" class="idref" href="#p:335"><span class="id" title="binder">p</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#stack_step:328"><span class="id" title="inductive">stack_step</span></a> <a class="idref" href="PLF.Smallstep.html#st:327"><span class="id" title="variable">st</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Imp.html#SLoad"><span class="id" title="constructor">SLoad</span></a> <a class="idref" href="PLF.Smallstep.html#i:334"><span class="id" title="variable">i</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="PLF.Smallstep.html#p:335"><span class="id" title="variable">p</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="PLF.Smallstep.html#stk:333"><span class="id" title="variable">stk</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>      <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Smallstep.html#p:335"><span class="id" title="variable">p</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="PLF.Smallstep.html#st:327"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Smallstep.html#i:334"><span class="id" title="variable">i</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="PLF.Smallstep.html#stk:333"><span class="id" title="variable">stk</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;| <a id="SS_Plus" class="idref" href="#SS_Plus"><span class="id" title="constructor">SS_Plus</span></a> : <span class="id" title="keyword">∀</span> <a id="stk:336" class="idref" href="#stk:336"><span class="id" title="binder">stk</span></a> <a id="n:337" class="idref" href="#n:337"><span class="id" title="binder">n</span></a> <a id="m:338" class="idref" href="#m:338"><span class="id" title="binder">m</span></a> <a id="p:339" class="idref" href="#p:339"><span class="id" title="binder">p</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#stack_step:328"><span class="id" title="inductive">stack_step</span></a> <a class="idref" href="PLF.Smallstep.html#st:327"><span class="id" title="variable">st</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Imp.html#SPlus"><span class="id" title="constructor">SPlus</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="PLF.Smallstep.html#p:339"><span class="id" title="variable">p</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="PLF.Smallstep.html#n:337"><span class="id" title="variable">n</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a><a class="idref" href="PLF.Smallstep.html#m:338"><span class="id" title="variable">m</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a><a class="idref" href="PLF.Smallstep.html#stk:336"><span class="id" title="variable">stk</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>  <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Smallstep.html#p:339"><span class="id" title="variable">p</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Smallstep.html#m:338"><span class="id" title="variable">m</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Nat.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a><a class="idref" href="PLF.Smallstep.html#n:337"><span class="id" title="variable">n</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">)::</span></a><a class="idref" href="PLF.Smallstep.html#stk:336"><span class="id" title="variable">stk</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;| <a id="SS_Minus" class="idref" href="#SS_Minus"><span class="id" title="constructor">SS_Minus</span></a> : <span class="id" title="keyword">∀</span> <a id="stk:340" class="idref" href="#stk:340"><span class="id" title="binder">stk</span></a> <a id="n:341" class="idref" href="#n:341"><span class="id" title="binder">n</span></a> <a id="m:342" class="idref" href="#m:342"><span class="id" title="binder">m</span></a> <a id="p:343" class="idref" href="#p:343"><span class="id" title="binder">p</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#stack_step:328"><span class="id" title="inductive">stack_step</span></a> <a class="idref" href="PLF.Smallstep.html#st:327"><span class="id" title="variable">st</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Imp.html#SMinus"><span class="id" title="constructor">SMinus</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="PLF.Smallstep.html#p:343"><span class="id" title="variable">p</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="PLF.Smallstep.html#n:341"><span class="id" title="variable">n</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a><a class="idref" href="PLF.Smallstep.html#m:342"><span class="id" title="variable">m</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a><a class="idref" href="PLF.Smallstep.html#stk:340"><span class="id" title="variable">stk</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Smallstep.html#p:343"><span class="id" title="variable">p</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Smallstep.html#m:342"><span class="id" title="variable">m</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Nat.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a><a class="idref" href="PLF.Smallstep.html#n:341"><span class="id" title="variable">n</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">)::</span></a><a class="idref" href="PLF.Smallstep.html#stk:340"><span class="id" title="variable">stk</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;| <a id="SS_Mult" class="idref" href="#SS_Mult"><span class="id" title="constructor">SS_Mult</span></a> : <span class="id" title="keyword">∀</span> <a id="stk:344" class="idref" href="#stk:344"><span class="id" title="binder">stk</span></a> <a id="n:345" class="idref" href="#n:345"><span class="id" title="binder">n</span></a> <a id="m:346" class="idref" href="#m:346"><span class="id" title="binder">m</span></a> <a id="p:347" class="idref" href="#p:347"><span class="id" title="binder">p</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#stack_step:328"><span class="id" title="inductive">stack_step</span></a> <a class="idref" href="PLF.Smallstep.html#st:327"><span class="id" title="variable">st</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Imp.html#SMult"><span class="id" title="constructor">SMult</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="PLF.Smallstep.html#p:347"><span class="id" title="variable">p</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="PLF.Smallstep.html#n:345"><span class="id" title="variable">n</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a><a class="idref" href="PLF.Smallstep.html#m:346"><span class="id" title="variable">m</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a><a class="idref" href="PLF.Smallstep.html#stk:344"><span class="id" title="variable">stk</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>  <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Smallstep.html#p:347"><span class="id" title="variable">p</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Smallstep.html#m:346"><span class="id" title="variable">m</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Nat.html#ea2ff3d561159081cea6fb2e8113cc54"><span class="id" title="notation">×</span></a><a class="idref" href="PLF.Smallstep.html#n:345"><span class="id" title="variable">n</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">)::</span></a><a class="idref" href="PLF.Smallstep.html#stk:344"><span class="id" title="variable">stk</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>

<br/>
<span class="id" title="keyword">Theorem</span> <a id="stack_step_deterministic" class="idref" href="#stack_step_deterministic"><span class="id" title="lemma">stack_step_deterministic</span></a> : <span class="id" title="keyword">∀</span> <a id="st:348" class="idref" href="#st:348"><span class="id" title="binder">st</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#deterministic"><span class="id" title="definition">deterministic</span></a> (<a class="idref" href="PLF.Smallstep.html#stack_step"><span class="id" title="inductive">stack_step</span></a> <a class="idref" href="PLF.Smallstep.html#st:348"><span class="id" title="variable">st</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="PLF.Smallstep.html#deterministic"><span class="id" title="definition">deterministic</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">st</span> <span class="id" title="var">x</span> <span class="id" title="var">y1</span> <span class="id" title="var">y2</span> <span class="id" title="var">H1</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">H2</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="stack_multistep" class="idref" href="#stack_multistep"><span class="id" title="definition">stack_multistep</span></a> <a id="st:349" class="idref" href="#st:349"><span class="id" title="binder">st</span></a> := <a class="idref" href="PLF.Smallstep.html#multi"><span class="id" title="inductive">multi</span></a> (<a class="idref" href="PLF.Smallstep.html#stack_step"><span class="id" title="inductive">stack_step</span></a> <a class="idref" href="PLF.Smallstep.html#st:349"><span class="id" title="variable">st</span></a>).<br/>

<br/>
</div>

<div class="doc">
<a id="lab549"></a><h4 class="section">Exercise: 3 stars, advanced (compiler_is_correct)</h4>


<div class="paragraph"> </div>

    Remember the definition of <span class="inlinecode"><span class="id" title="var">compile</span></span> for <span class="inlinecode"><span class="id" title="var">aexp</span></span> given in the
    <span class="inlinecode"><span class="id" title="var">Imp</span></span> chapter of <i>Logical Foundations</i>. We want now to
    prove <span class="inlinecode"><span class="id" title="var">s_compile</span></span> correct with respect to the stack machine.

<div class="paragraph"> </div>

    Copy your definition of <span class="inlinecode"><span class="id" title="var">s_compile</span></span> from Imp here, then state
    what it means for the compiler to be correct according to the
    stack machine small step semantics, and then prove it. 
</div>
<div class="code">

<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="compiler_is_correct_statement" class="idref" href="#compiler_is_correct_statement"><span class="id" title="definition">compiler_is_correct_statement</span></a> : <span class="id" title="keyword">Prop</span><br/>
&nbsp;&nbsp;. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Theorem</span> <a id="compiler_is_correct" class="idref" href="#compiler_is_correct"><span class="id" title="lemma">compiler_is_correct</span></a> : <a class="idref" href="PLF.Smallstep.html#compiler_is_correct_statement"><span class="id" title="axiom">compiler_is_correct_statement</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
 <span class="id" title="var">Admitted</span>.<br/>
</div>

<div class="doc">
<font size=-2>&#9744;</font> 
</div>
<div class="code">

<br/>
</div>

<div class="doc">
<a id="lab550"></a><h1 class="section">Aside: A <span class="inlinecode"><span class="id" title="var">normalize</span></span> Tactic</h1>

<div class="paragraph"> </div>

 When experimenting with definitions of programming languages
    in Coq, we often want to see what a particular concrete term steps
    to -- i.e., we want to find proofs for goals of the form <span class="inlinecode"><span class="id" title="var">t</span></span> <span class="inlinecode">--&gt;*</span>
    <span class="inlinecode"><span class="id" title="var">t'</span></span>, where <span class="inlinecode"><span class="id" title="var">t</span></span> is a completely concrete term and <span class="inlinecode"><span class="id" title="var">t'</span></span> is unknown.
    These proofs are quite tedious to do by hand.  Consider, for
    example, reducing an arithmetic expression using the small-step
    relation <span class="inlinecode"><span class="id" title="var">astep</span></span>. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Example</span> <a id="step_example1" class="idref" href="#step_example1"><span class="id" title="definition">step_example1</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#a781e4b1e2c022f0326182a9bd099911"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Smallstep.html#P"><span class="id" title="constructor">P</span></a> (<a class="idref" href="PLF.Smallstep.html#C"><span class="id" title="constructor">C</span></a> 3) (<a class="idref" href="PLF.Smallstep.html#P"><span class="id" title="constructor">P</span></a> (<a class="idref" href="PLF.Smallstep.html#C"><span class="id" title="constructor">C</span></a> 3) (<a class="idref" href="PLF.Smallstep.html#C"><span class="id" title="constructor">C</span></a> 4))<a class="idref" href="PLF.Smallstep.html#a781e4b1e2c022f0326182a9bd099911"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#a781e4b1e2c022f0326182a9bd099911"><span class="id" title="notation">--&gt;*</span></a> <a class="idref" href="PLF.Smallstep.html#a781e4b1e2c022f0326182a9bd099911"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Smallstep.html#C"><span class="id" title="constructor">C</span></a> 10<a class="idref" href="PLF.Smallstep.html#a781e4b1e2c022f0326182a9bd099911"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#multi_step"><span class="id" title="constructor">multi_step</span></a> <span class="id" title="keyword">with</span> (<a class="idref" href="PLF.Smallstep.html#P"><span class="id" title="constructor">P</span></a> (<a class="idref" href="PLF.Smallstep.html#C"><span class="id" title="constructor">C</span></a> 3) (<a class="idref" href="PLF.Smallstep.html#C"><span class="id" title="constructor">C</span></a> 7)).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#ST_Plus2"><span class="id" title="constructor">ST_Plus2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#v_const"><span class="id" title="constructor">v_const</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#ST_PlusConstConst"><span class="id" title="constructor">ST_PlusConstConst</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#multi_step"><span class="id" title="constructor">multi_step</span></a> <span class="id" title="keyword">with</span> (<a class="idref" href="PLF.Smallstep.html#C"><span class="id" title="constructor">C</span></a> 10).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#ST_PlusConstConst"><span class="id" title="constructor">ST_PlusConstConst</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#multi_refl"><span class="id" title="constructor">multi_refl</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Proofs that one term normalizes to another must repeatedly apply
    <span class="inlinecode"><span class="id" title="var">multi_step</span></span> until the term reaches a normal form.  Fortunately,
    the sub-proofs for the intermediate steps are simple enough that
    <span class="inlinecode"><span class="id" title="tactic">auto</span></span>, with appropriate hints, can solve them. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Hint Constructors</span> <a class="idref" href="PLF.Smallstep.html#step"><span class="id" title="inductive">step</span></a> <a class="idref" href="PLF.Smallstep.html#value"><span class="id" title="inductive">value</span></a> : <span class="id" title="var">core</span>.<br/>
<span class="id" title="keyword">Example</span> <a id="step_example1'" class="idref" href="#step_example1'"><span class="id" title="definition">step_example1'</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#a781e4b1e2c022f0326182a9bd099911"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Smallstep.html#P"><span class="id" title="constructor">P</span></a> (<a class="idref" href="PLF.Smallstep.html#C"><span class="id" title="constructor">C</span></a> 3) (<a class="idref" href="PLF.Smallstep.html#P"><span class="id" title="constructor">P</span></a> (<a class="idref" href="PLF.Smallstep.html#C"><span class="id" title="constructor">C</span></a> 3) (<a class="idref" href="PLF.Smallstep.html#C"><span class="id" title="constructor">C</span></a> 4))<a class="idref" href="PLF.Smallstep.html#a781e4b1e2c022f0326182a9bd099911"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#a781e4b1e2c022f0326182a9bd099911"><span class="id" title="notation">--&gt;*</span></a> <a class="idref" href="PLF.Smallstep.html#a781e4b1e2c022f0326182a9bd099911"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Smallstep.html#C"><span class="id" title="constructor">C</span></a> 10<a class="idref" href="PLF.Smallstep.html#a781e4b1e2c022f0326182a9bd099911"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="PLF.Smallstep.html#multi_step"><span class="id" title="constructor">multi_step</span></a>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="PLF.Smallstep.html#multi_step"><span class="id" title="constructor">multi_step</span></a>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#multi_refl"><span class="id" title="constructor">multi_refl</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
The following custom <span class="inlinecode"><span class="id" title="keyword">Tactic</span></span> <span class="inlinecode"><span class="id" title="keyword">Notation</span></span> definition captures this
    pattern.  In addition, before each step, we print out the current
    goal, so that we can follow how the term is being reduced. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Tactic Notation</span> "print_goal" :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span> |- ?<span class="id" title="var">x</span> ⇒ <span class="id" title="tactic">idtac</span> <span class="id" title="var">x</span> <span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Tactic Notation</span> "normalize" :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> (<span class="id" title="var">print_goal</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="PLF.Smallstep.html#multi_step"><span class="id" title="constructor">multi_step</span></a> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[ (<span class="id" title="tactic">eauto</span> 10; <span class="id" title="tactic">fail</span>) | <span class="id" title="tactic">simpl</span>]);<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Smallstep.html#multi_refl"><span class="id" title="constructor">multi_refl</span></a>.<br/>

<br/>
<span class="id" title="keyword">Example</span> <a id="step_example1''" class="idref" href="#step_example1''"><span class="id" title="definition">step_example1''</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#a781e4b1e2c022f0326182a9bd099911"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Smallstep.html#P"><span class="id" title="constructor">P</span></a> (<a class="idref" href="PLF.Smallstep.html#C"><span class="id" title="constructor">C</span></a> 3) (<a class="idref" href="PLF.Smallstep.html#P"><span class="id" title="constructor">P</span></a> (<a class="idref" href="PLF.Smallstep.html#C"><span class="id" title="constructor">C</span></a> 3) (<a class="idref" href="PLF.Smallstep.html#C"><span class="id" title="constructor">C</span></a> 4))<a class="idref" href="PLF.Smallstep.html#a781e4b1e2c022f0326182a9bd099911"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#a781e4b1e2c022f0326182a9bd099911"><span class="id" title="notation">--&gt;*</span></a> <a class="idref" href="PLF.Smallstep.html#a781e4b1e2c022f0326182a9bd099911"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Smallstep.html#C"><span class="id" title="constructor">C</span></a> 10<a class="idref" href="PLF.Smallstep.html#a781e4b1e2c022f0326182a9bd099911"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">normalize</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
The <span class="inlinecode"><span class="id" title="var">normalize</span></span> tactic also provides a simple way to calculate the
    normal form of a term, by starting with a goal with an existentially
    bound variable. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Example</span> <a id="step_example1'''" class="idref" href="#step_example1'''"><span class="id" title="definition">step_example1'''</span></a> : <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="e':350" class="idref" href="#e':350"><span class="id" title="binder">e'</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#a781e4b1e2c022f0326182a9bd099911"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Smallstep.html#P"><span class="id" title="constructor">P</span></a> (<a class="idref" href="PLF.Smallstep.html#C"><span class="id" title="constructor">C</span></a> 3) (<a class="idref" href="PLF.Smallstep.html#P"><span class="id" title="constructor">P</span></a> (<a class="idref" href="PLF.Smallstep.html#C"><span class="id" title="constructor">C</span></a> 3) (<a class="idref" href="PLF.Smallstep.html#C"><span class="id" title="constructor">C</span></a> 4))<a class="idref" href="PLF.Smallstep.html#a781e4b1e2c022f0326182a9bd099911"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#a781e4b1e2c022f0326182a9bd099911"><span class="id" title="notation">--&gt;*</span></a> <a class="idref" href="PLF.Smallstep.html#e':350"><span class="id" title="variable">e'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>. <span class="id" title="var">normalize</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>

<div class="doc">
This time, the trace is:

<div class="paragraph"> </div>

       (P (C 3) (P (C 3) (C 4)) --&gt;* ?e')
       (P (C 3) (C 7) --&gt;* ?e')
       (C 10 --&gt;* ?e')

<div class="paragraph"> </div>

   where <span class="inlinecode">?<span class="id" title="var">e'</span></span> is the variable ``guessed'' by eapply. 
<div class="paragraph"> </div>

<a id="lab551"></a><h4 class="section">Exercise: 1 star, standard (normalize_ex)</h4>

</div>
<div class="code">
<span class="id" title="keyword">Theorem</span> <a id="normalize_ex" class="idref" href="#normalize_ex"><span class="id" title="lemma">normalize_ex</span></a> : <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="e':351" class="idref" href="#e':351"><span class="id" title="binder">e'</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#a781e4b1e2c022f0326182a9bd099911"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Smallstep.html#P"><span class="id" title="constructor">P</span></a> (<a class="idref" href="PLF.Smallstep.html#C"><span class="id" title="constructor">C</span></a> 3) (<a class="idref" href="PLF.Smallstep.html#P"><span class="id" title="constructor">P</span></a> (<a class="idref" href="PLF.Smallstep.html#C"><span class="id" title="constructor">C</span></a> 2) (<a class="idref" href="PLF.Smallstep.html#C"><span class="id" title="constructor">C</span></a> 1))<a class="idref" href="PLF.Smallstep.html#a781e4b1e2c022f0326182a9bd099911"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#a781e4b1e2c022f0326182a9bd099911"><span class="id" title="notation">--&gt;*</span></a> <a class="idref" href="PLF.Smallstep.html#e':351"><span class="id" title="variable">e'</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="PLF.Smallstep.html#value"><span class="id" title="inductive">value</span></a> <a class="idref" href="PLF.Smallstep.html#e':351"><span class="id" title="variable">e'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
 <span class="id" title="var">Admitted</span>.<br/>
</div>

<div class="doc">
<font size=-2>&#9744;</font> 
<div class="paragraph"> </div>

<a id="lab552"></a><h4 class="section">Exercise: 1 star, standard, optional (normalize_ex')</h4>


<div class="paragraph"> </div>

    For comparison, prove it using <span class="inlinecode"><span class="id" title="tactic">apply</span></span> instead of <span class="inlinecode"><span class="id" title="tactic">eapply</span></span>. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Theorem</span> <a id="normalize_ex'" class="idref" href="#normalize_ex'"><span class="id" title="lemma">normalize_ex'</span></a> : <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="e':352" class="idref" href="#e':352"><span class="id" title="binder">e'</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#a781e4b1e2c022f0326182a9bd099911"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Smallstep.html#P"><span class="id" title="constructor">P</span></a> (<a class="idref" href="PLF.Smallstep.html#C"><span class="id" title="constructor">C</span></a> 3) (<a class="idref" href="PLF.Smallstep.html#P"><span class="id" title="constructor">P</span></a> (<a class="idref" href="PLF.Smallstep.html#C"><span class="id" title="constructor">C</span></a> 2) (<a class="idref" href="PLF.Smallstep.html#C"><span class="id" title="constructor">C</span></a> 1))<a class="idref" href="PLF.Smallstep.html#a781e4b1e2c022f0326182a9bd099911"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Smallstep.html#a781e4b1e2c022f0326182a9bd099911"><span class="id" title="notation">--&gt;*</span></a> <a class="idref" href="PLF.Smallstep.html#e':352"><span class="id" title="variable">e'</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="PLF.Smallstep.html#value"><span class="id" title="inductive">value</span></a> <a class="idref" href="PLF.Smallstep.html#e':352"><span class="id" title="variable">e'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
 <span class="id" title="var">Admitted</span>.<br/>
</div>

<div class="doc">
<font size=-2>&#9744;</font> 
</div>
<div class="code">

<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://rocq-prover.org/">coqdoc</a>
</div>

</div>

</body>
</html>