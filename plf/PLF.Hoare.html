<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<link href="../common/css/tapl.css" rel="stylesheet" type="text/css" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<title>PLF.Hoare</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library PLF.Hoare</h1>

<div class="code">
</div>

<div class="doc">
<a id="lab46"></a><h1 class="section">Hoare: Hoare Logic, Part I</h1>

</div>
<div class="code">

<br/>
<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Set</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Warnings</span></a> "-notation-overridden,-parsing,-deprecated-hint-without-locality".<br/>
<span class="id" title="keyword">From</span> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">PLF</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Require</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Import</span></a> <a class="idref" href="PLF.Maps.html#"><span class="id" title="library">Maps</span></a>.<br/>
<span class="id" title="keyword">From</span> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Stdlib</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Require</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Import</span></a> <span class="id" title="library">Bool</span>.<br/>
<span class="id" title="keyword">From</span> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Stdlib</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Require</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Import</span></a> <span class="id" title="library">Arith</span>.<br/>
<span class="id" title="keyword">From</span> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Stdlib</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Require</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Import</span></a> <span class="id" title="library">EqNat</span>.<br/>
<span class="id" title="keyword">From</span> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Stdlib</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Require</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Import</span></a> <span class="id" title="library">PeanoNat</span>. <span class="id" title="keyword">Import</span> <span class="id" title="module">Nat</span>.<br/>
<span class="id" title="keyword">From</span> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Stdlib</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Require</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Import</span></a> <span class="id" title="library">Lia</span>.<br/>
<span class="id" title="keyword">From</span> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">PLF</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Require</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Export</span></a> <a class="idref" href="PLF.Imp.html#"><span class="id" title="library">Imp</span></a>.<br/>
<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Set</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Default</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Goal</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Selector</span></a> "!".<br/>

<br/>
</div>

<div class="doc">
In the final chaper of <i>Logical Foundations</i> (<i>Software
    Foundations</i>, volume 1), we began applying the mathematical tools
    developed in the first part of the course to studying the theory
    of a small programming language, Imp.

<div class="paragraph"> </div>

<ul class="doclist">
<li> We defined a type of <i>abstract syntax trees</i> for Imp, together
      with an <i>evaluation relation</i> (a partial function on states)
      that specifies the <i>operational semantics</i> of programs.

<div class="paragraph"> </div>

      The language we defined, though small, captures some of the key
      features of full-blown languages like C, C++, and Java,
      including the fundamental notion of mutable state and some
      common control structures.

<div class="paragraph"> </div>


</li>
<li> We proved a number of <i>metatheoretic properties</i> -- "meta" in
      the sense that they are properties of the language as a whole,
      rather than of particular programs in the language.  These
      included:

<div class="paragraph"> </div>

<ul class="doclist">
<li> determinism of evaluation

<div class="paragraph"> </div>


</li>
<li> equivalence of some different ways of writing down the
          definitions (e.g., functional and relational definitions of
          arithmetic expression evaluation)

<div class="paragraph"> </div>


</li>
<li> guaranteed termination of certain classes of programs

<div class="paragraph"> </div>


</li>
<li> correctness (in the sense of preserving meaning) of a number
          of useful program transformations

<div class="paragraph"> </div>


</li>
<li> behavioral equivalence of programs (in the <span class="inlinecode"><span class="id" title="var">Equiv</span></span>
          chapter). 
</li>
</ul>

</li>
</ul>

<div class="paragraph"> </div>

 If we stopped here, we would already have something useful: a set
    of tools for defining and discussing programming languages and
    language features that are mathematically precise, flexible, and
    easy to work with, applied to a set of key properties.  All of
    these properties are things that language designers, compiler
    writers, and users might care about knowing.  Indeed, many of them
    are so fundamental to our understanding of the programming
    languages we deal with that we might not consciously recognize
    them as "theorems."  But properties that seem intuitively obvious
    can sometimes be quite subtle (sometimes also subtly wrong!).

<div class="paragraph"> </div>

    We'll return to the theme of metatheoretic properties of whole
    languages later in this volume when we discuss <i>types</i> and <i>type
    soundness</i>.  In this chapter, though, we turn to a different set
    of issues.

<div class="paragraph"> </div>

 Our goal in this chapter is to carry out some simple examples of
    <i>program verification</i> -- i.e., to use the precise definition of
    Imp to prove formally that particular programs satisfy particular
    specifications of their behavior.

<div class="paragraph"> </div>

    We'll develop a reasoning system called <i>Floyd-Hoare Logic</i> --
    often shortened to just <i>Hoare Logic</i> -- in which each of the
    syntactic constructs of Imp is equipped with a generic "proof
    rule" that can be used to reason compositionally about the
    correctness of programs involving this construct. 
<div class="paragraph"> </div>

 Hoare Logic originated in the 1960s, and it continues to be the
    subject of intensive research right up to the present day.  It
    lies at the core of a multitude of tools that are being used in
    academia and industry to specify and verify real software systems. 
<div class="paragraph"> </div>

 Hoare Logic combines two beautiful ideas: a natural way of writing
    down <i>specifications</i> of programs, and a <i>structured proof
    technique</i> for proving that programs are correct with respect to
    such specifications -- where by "structured" we mean that the
    structure of proofs directly mirrors the structure of the programs
    that they are about. 
</div>
<div class="code">

<br/>
</div>

<div class="doc">
<a id="lab47"></a><h1 class="section">Assertions</h1>

<div class="paragraph"> </div>

 An <i>assertion</i> is a logical claim about the state of a program's
    memory -- formally, a property of <span class="inlinecode"><span class="id" title="var">state</span></span>s. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a id="Assertion" class="idref" href="#Assertion"><span class="id" title="definition">Assertion</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:=</span></a> <a class="idref" href="PLF.Imp.html#state"><span class="id" title="definition">state</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Prop</span></a>.<br/>

<br/>
</div>

<div class="doc">
For example,

<div class="paragraph"> </div>

<ul class="doclist">
<li> <span class="inlinecode"><span class="id" title="keyword">fun</span></span> <span class="inlinecode"><span class="id" title="var">st</span></span> <span class="inlinecode">⇒</span> <span class="inlinecode"><span class="id" title="var">st</span></span> <span class="inlinecode"><span class="id" title="var">X</span></span> <span class="inlinecode">=</span> <span class="inlinecode">3</span> holds for states <span class="inlinecode"><span class="id" title="var">st</span></span> in which value of <span class="inlinecode"><span class="id" title="var">X</span></span>
      is <span class="inlinecode">3</span>,

<div class="paragraph"> </div>


</li>
<li> <span class="inlinecode"><span class="id" title="keyword">fun</span></span> <span class="inlinecode"><span class="id" title="var">st</span></span> <span class="inlinecode">⇒</span> <span class="inlinecode"><span class="id" title="var">True</span></span> hold for all states, and

<div class="paragraph"> </div>


</li>
<li> <span class="inlinecode"><span class="id" title="keyword">fun</span></span> <span class="inlinecode"><span class="id" title="var">st</span></span> <span class="inlinecode">⇒</span> <span class="inlinecode"><span class="id" title="var">False</span></span> holds for no states. 
</li>
</ul>

<div class="paragraph"> </div>

<a id="lab48"></a><h4 class="section">Exercise: 1 star, standard, optional (assertions)</h4>


<div class="paragraph"> </div>

    Paraphrase the following assertions in English (or your favorite
    natural language). 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Module</span> <a id="ExAssertions" class="idref" href="#ExAssertions"><span class="id" title="module">ExAssertions</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a id="ExAssertions.assertion1" class="idref" href="#ExAssertions.assertion1"><span class="id" title="definition">assertion1</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#Assertion"><span class="id" title="definition">Assertion</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:=</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">fun</span></a> <a id="st:1" class="idref" href="#st:1"><span class="id" title="binder">st</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">⇒</span></a> <a class="idref" href="PLF.Hoare.html#st:1"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">≤</span></a> <a class="idref" href="PLF.Hoare.html#st:1"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Imp.html#Y"><span class="id" title="definition">Y</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a id="ExAssertions.assertion2" class="idref" href="#ExAssertions.assertion2"><span class="id" title="definition">assertion2</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#Assertion"><span class="id" title="definition">Assertion</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">fun</span></a> <a id="st:2" class="idref" href="#st:2"><span class="id" title="binder">st</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">⇒</span></a> <a class="idref" href="PLF.Hoare.html#st:2"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">3</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a> <a class="idref" href="PLF.Hoare.html#st:2"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">≤</span></a> <a class="idref" href="PLF.Hoare.html#st:2"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Imp.html#Y"><span class="id" title="definition">Y</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a id="ExAssertions.assertion3" class="idref" href="#ExAssertions.assertion3"><span class="id" title="definition">assertion3</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#Assertion"><span class="id" title="definition">Assertion</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">fun</span></a> <a id="st:3" class="idref" href="#st:3"><span class="id" title="binder">st</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">⇒</span></a> <a class="idref" href="PLF.Hoare.html#st:3"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Imp.html#Z"><span class="id" title="definition">Z</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Nat.html#ea2ff3d561159081cea6fb2e8113cc54"><span class="id" title="notation">×</span></a> <a class="idref" href="PLF.Hoare.html#st:3"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Imp.html#Z"><span class="id" title="definition">Z</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">≤</span></a> <a class="idref" href="PLF.Hoare.html#st:3"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">(</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">(</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Nat.html#ea2ff3d561159081cea6fb2e8113cc54"><span class="id" title="notation">(</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#st:3"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Imp.html#Z"><span class="id" title="definition">Z</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Nat.html#ea2ff3d561159081cea6fb2e8113cc54"><span class="id" title="notation">)</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Nat.html#ea2ff3d561159081cea6fb2e8113cc54"><span class="id" title="notation">×</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Nat.html#ea2ff3d561159081cea6fb2e8113cc54"><span class="id" title="notation">(</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#st:3"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Imp.html#Z"><span class="id" title="definition">Z</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Nat.html#ea2ff3d561159081cea6fb2e8113cc54"><span class="id" title="notation">)</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">)</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">≤</span></a> <a class="idref" href="PLF.Hoare.html#st:3"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Imp.html#X"><span class="id" title="definition">X</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a id="ExAssertions.assertion4" class="idref" href="#ExAssertions.assertion4"><span class="id" title="definition">assertion4</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#Assertion"><span class="id" title="definition">Assertion</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">fun</span></a> <a id="st:4" class="idref" href="#st:4"><span class="id" title="binder">st</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">⇒</span></a> <a class="idref" href="PLF.Hoare.html#st:4"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Imp.html#Z"><span class="id" title="definition">Z</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="definition">max</span> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#st:4"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Imp.html#X"><span class="id" title="definition">X</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#st:4"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Imp.html#Y"><span class="id" title="definition">Y</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="PLF.Hoare.html#ExAssertions"><span class="id" title="module">ExAssertions</span></a>.<br/>
</div>

<div class="doc">
<font size=-2>&#9744;</font> 
</div>
<div class="code">

<br/>
</div>

<div class="doc">
<a id="lab49"></a><h2 class="section">Notations for Assertions</h2>

<div class="paragraph"> </div>

 This way of writing assertions can be a little bit heavy,
    for two reasons: (1) every single assertion that we ever write is
    going to begin with <span class="inlinecode"><span class="id" title="keyword">fun</span></span> <span class="inlinecode"><span class="id" title="var">st</span></span> <span class="inlinecode">⇒</span> <span class="inlinecode"></span>; and (2) this state <span class="inlinecode"><span class="id" title="var">st</span></span> is the
    only one that we ever use to look up variables in assertions (we
    will almost never need to talk about two different memory states at the
    same time).  For discussing examples informally, we'll adopt some
    simplifying conventions: we'll drop the initial <span class="inlinecode"><span class="id" title="keyword">fun</span></span> <span class="inlinecode"><span class="id" title="var">st</span></span> <span class="inlinecode">⇒</span>, and
    we'll write just <span class="inlinecode"><span class="id" title="var">X</span></span> to mean <span class="inlinecode"><span class="id" title="var">st</span></span> <span class="inlinecode"><span class="id" title="var">X</span></span>.  Thus, instead of writing

<div class="paragraph"> </div>

      fun st =&gt; st X = m

<div class="paragraph"> </div>

    we'll write just

<div class="paragraph"> </div>

      <a href=" X = m "> X = m </a>.

<div class="paragraph"> </div>

 Here the "doubly curly" braces <span class="inlinecode">{{</span> and <span class="inlinecode">}}</span> delimit
    the scope of an assertion.  We'll see more examples below. 
<div class="paragraph"> </div>

 This example also illustrates a convention that we'll use
    throughout the Hoare Logic chapters: in informal assertions,
    capital letters like <span class="inlinecode"><span class="id" title="var">X</span></span>, <span class="inlinecode"><span class="id" title="var">Y</span></span>, and <span class="inlinecode"><span class="id" title="var">Z</span></span> are Imp variables, while
    lowercase letters like <span class="inlinecode"><span class="id" title="var">x</span></span>, <span class="inlinecode"><span class="id" title="var">y</span></span>, <span class="inlinecode"><span class="id" title="var">m</span></span>, and <span class="inlinecode"><span class="id" title="var">n</span></span> are ordinary Coq
    variables (of type <span class="inlinecode"><span class="id" title="var">nat</span></span>).  This is why, when translating from
    informal to formal, we replace <span class="inlinecode"><span class="id" title="var">X</span></span> with <span class="inlinecode"><span class="id" title="var">st</span></span> <span class="inlinecode"><span class="id" title="var">X</span></span> but leave <span class="inlinecode"><span class="id" title="var">m</span></span>
    alone. 
<div class="paragraph"> </div>

 The convention described above can be implemented in Coq with a
    little syntax magic, using coercions and annotation scopes, much
    as we did with the <span class="inlinecode">&lt;{</span> <span class="inlinecode"><span class="id" title="var">com</span></span> <span class="inlinecode">}&gt;</span> notation in <span class="inlinecode"><span class="id" title="var">Imp</span></span>. This new
    notation automatically lifts <span class="inlinecode"><span class="id" title="var">aexp</span></span>s, numbers, and <span class="inlinecode"><span class="id" title="keyword">Prop</span></span>s into
    <span class="inlinecode"><span class="id" title="var">Assertion</span></span>s when they appear in the <span class="inlinecode">{{</span> <span class="inlinecode"><span class="id" title="var">_</span></span> <span class="inlinecode">}}</span> scope, or when Coq
    knows that the type of an expression is <span class="inlinecode"><span class="id" title="var">Assertion</span></span>.

<div class="paragraph"> </div>

    There is no need to understand the details of how these notation
    hacks work, so we hide them in the HTML version of the notes.  (We
    barely understand some of it ourselves!)  For the gory details,
    see the Coq development.  
<div class="paragraph"> </div>

 Define syntax notations for working with <span class="inlinecode"><span class="id" title="var">Assertion</span></span>s 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a id="Aexp" class="idref" href="#Aexp"><span class="id" title="definition">Aexp</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Type</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:=</span></a> <a class="idref" href="PLF.Imp.html#state"><span class="id" title="definition">state</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="assert_of_Prop" class="idref" href="#assert_of_Prop"><span class="id" title="definition">assert_of_Prop</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a id="P:5" class="idref" href="#P:5"><span class="id" title="binder">P</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Prop</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#Assertion"><span class="id" title="definition">Assertion</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:=</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">fun</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">_</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">⇒</span></a> <a class="idref" href="PLF.Hoare.html#P:5"><span class="id" title="variable">P</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a id="Aexp_of_nat" class="idref" href="#Aexp_of_nat"><span class="id" title="definition">Aexp_of_nat</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a id="n:6" class="idref" href="#n:6"><span class="id" title="binder">n</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#Aexp"><span class="id" title="definition">Aexp</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:=</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">fun</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">_</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">⇒</span></a> <a class="idref" href="PLF.Hoare.html#n:6"><span class="id" title="variable">n</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="Aexp_of_aexp" class="idref" href="#Aexp_of_aexp"><span class="id" title="definition">Aexp_of_aexp</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a id="a:7" class="idref" href="#a:7"><span class="id" title="binder">a</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Imp.html#aexp"><span class="id" title="inductive">aexp</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#Aexp"><span class="id" title="definition">Aexp</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:=</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">fun</span></a> <a id="st:8" class="idref" href="#st:8"><span class="id" title="binder">st</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">⇒</span></a> <a class="idref" href="PLF.Imp.html#aeval"><span class="id" title="definition">aeval</span></a> <a class="idref" href="PLF.Hoare.html#st:8"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Hoare.html#a:7"><span class="id" title="variable">a</span></a>.<br/>

<br/>
<span class="id" title="keyword">Coercion</span> <a class="idref" href="PLF.Hoare.html#assert_of_Prop"><span class="id" title="definition">assert_of_Prop</span></a> <a class="idref" href="PLF.Hoare.html#assert_of_Prop"><span class="id" title="definition">:</span></a> <a class="idref" href="PLF.Hoare.html#assert_of_Prop"><span class="id" title="definition">Sortclass</span></a> <a class="idref" href="PLF.Hoare.html#assert_of_Prop"><span class="id" title="definition">&gt;-&gt;</span></a> <a class="idref" href="PLF.Hoare.html#assert_of_Prop"><span class="id" title="definition">Assertion</span></a>.<br/>
<span class="id" title="keyword">Coercion</span> <a class="idref" href="PLF.Hoare.html#Aexp_of_nat"><span class="id" title="definition">Aexp_of_nat</span></a> <a class="idref" href="PLF.Hoare.html#Aexp_of_nat"><span class="id" title="definition">:</span></a> <a class="idref" href="PLF.Hoare.html#Aexp_of_nat"><span class="id" title="definition">nat</span></a> <a class="idref" href="PLF.Hoare.html#Aexp_of_nat"><span class="id" title="definition">&gt;-&gt;</span></a> <a class="idref" href="PLF.Hoare.html#Aexp_of_nat"><span class="id" title="definition">Aexp</span></a>.<br/>
<span class="id" title="keyword">Coercion</span> <a class="idref" href="PLF.Hoare.html#Aexp_of_aexp"><span class="id" title="definition">Aexp_of_aexp</span></a> <a class="idref" href="PLF.Hoare.html#Aexp_of_aexp"><span class="id" title="definition">:</span></a> <a class="idref" href="PLF.Hoare.html#Aexp_of_aexp"><span class="id" title="definition">aexp</span></a> <a class="idref" href="PLF.Hoare.html#Aexp_of_aexp"><span class="id" title="definition">&gt;-&gt;</span></a> <a class="idref" href="PLF.Hoare.html#Aexp_of_aexp"><span class="id" title="definition">Aexp</span></a>.<br/>

<br/>
<span class="id" title="keyword">Arguments</span> <a class="idref" href="PLF.Hoare.html#assert_of_Prop"><span class="id" title="definition">assert_of_Prop</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">/</span></a>.<br/>
<span class="id" title="keyword">Arguments</span> <a class="idref" href="PLF.Hoare.html#Aexp_of_nat"><span class="id" title="definition">Aexp_of_nat</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">/</span></a>.<br/>
<span class="id" title="keyword">Arguments</span> <a class="idref" href="PLF.Hoare.html#Aexp_of_aexp"><span class="id" title="definition">Aexp_of_aexp</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">/</span></a>.<br/>

<br/>
<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Declare</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Custom</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Entry</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">assn</span></a>. <span class="id" title="keyword">Declare Scope</span> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">assertion_scope</span></a>.<br/>
<span class="id" title="keyword">Bind Scope</span> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">assertion_scope</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">with</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Assertion</span></a>.<br/>
<span class="id" title="keyword">Bind Scope</span> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">assertion_scope</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">with</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Aexp</span></a>.<br/>
<span class="id" title="keyword">Delimit</span> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Scope</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">assertion_scope</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">with</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">assertion</span></a>.<br/>

<br/>
</div>

<div class="doc">
One small limitation of this approach is that we don't have
    an automatic way to coerce a function application that appears
    within an assertion to make appropriate use of the state when its
    arguments should be interpets as Imp arithmetic expressions.
    Instead, we introduce a notation <span class="inlinecode">#<span class="id" title="var">f</span></span> <span class="inlinecode"><span class="id" title="var">e1</span></span> <span class="inlinecode">..</span> <span class="inlinecode"><span class="id" title="var">en</span></span> that stands for <span class="inlinecode">(<span class="id" title="keyword">fun</span></span>
    <span class="inlinecode"><span class="id" title="var">st</span></span> <span class="inlinecode">⇒</span> <span class="inlinecode"><span class="id" title="var">f</span></span> <span class="inlinecode">(<span class="id" title="var">e1</span></span> <span class="inlinecode"><span class="id" title="var">st</span>)</span> <span class="inlinecode">..</span> <span class="inlinecode">(<span class="id" title="var">en</span></span> <span class="inlinecode"><span class="id" title="var">st</span>)</span>, letting us manually mark such function
    calls when they're needed as part of an assertion.  
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Notation</span> <a id="5cc28325551269d57999b5e6d74d9b04" class="idref" href="#5cc28325551269d57999b5e6d74d9b04"><span class="id" title="notation">&quot;</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation"># f x .. y</span></a>" <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:=</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">fun</span></a> <a id="st:9" class="idref" href="#st:9"><span class="id" title="binder">st</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">⇒</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a>.. <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">f</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">((</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">x</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a><a class="idref" href="PLF.Hoare.html#Aexp"><span class="id" title="definition">Aexp</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a> <a class="idref" href="PLF.Hoare.html#st:9"><span class="id" title="variable">st</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">))</span></a> .. <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">((</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">y</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a><a class="idref" href="PLF.Hoare.html#Aexp"><span class="id" title="definition">Aexp</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a> <a class="idref" href="PLF.Hoare.html#st:9"><span class="id" title="variable">st</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)))</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">in</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">custom</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">assn</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">2,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">f</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">constr</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">0,</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">x</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">custom</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">assn</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">1,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">y</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">custom</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">assn</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">1)</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">assertion_scope</span></a>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a id=":assn:assertion_scope:x_'-&gt;'_x" class="idref" href="#:assn:assertion_scope:x_'-&gt;'_x"><span class="id" title="notation">&quot;</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">P -&gt; Q</span></a>" <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:=</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">fun</span></a> <a id="st:10" class="idref" href="#st:10"><span class="id" title="binder">st</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">⇒</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">P</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a><a class="idref" href="PLF.Hoare.html#Assertion"><span class="id" title="definition">Assertion</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a> <a class="idref" href="PLF.Hoare.html#st:10"><span class="id" title="variable">st</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Q</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a><a class="idref" href="PLF.Hoare.html#Assertion"><span class="id" title="definition">Assertion</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a> <a class="idref" href="PLF.Hoare.html#st:10"><span class="id" title="variable">st</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">in</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">custom</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">assn</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">99,</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">right</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">associativity</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">assertion_scope</span></a>.<br/>
<span class="id" title="keyword">Notation</span> <a id=":assn:assertion_scope:x_'&lt;-&gt;'_x" class="idref" href="#:assn:assertion_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&quot;</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">P &lt;-&gt; Q</span></a>" <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:=</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">fun</span></a> <a id="st:11" class="idref" href="#st:11"><span class="id" title="binder">st</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">⇒</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">P</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a><a class="idref" href="PLF.Hoare.html#Assertion"><span class="id" title="definition">Assertion</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a> <a class="idref" href="PLF.Hoare.html#st:11"><span class="id" title="variable">st</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Q</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a><a class="idref" href="PLF.Hoare.html#Assertion"><span class="id" title="definition">Assertion</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a> <a class="idref" href="PLF.Hoare.html#st:11"><span class="id" title="variable">st</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">in</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">custom</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">assn</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">95)</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">assertion_scope</span></a>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a id="8fb785685f1b11b73aa3f553bf7053a2" class="idref" href="#8fb785685f1b11b73aa3f553bf7053a2"><span class="id" title="notation">&quot;</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">P \/ Q</span></a>" <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:=</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">fun</span></a> <a id="st:12" class="idref" href="#st:12"><span class="id" title="binder">st</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">⇒</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">P</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a><a class="idref" href="PLF.Hoare.html#Assertion"><span class="id" title="definition">Assertion</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a> <a class="idref" href="PLF.Hoare.html#st:12"><span class="id" title="variable">st</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Q</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a><a class="idref" href="PLF.Hoare.html#Assertion"><span class="id" title="definition">Assertion</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a> <a class="idref" href="PLF.Hoare.html#st:12"><span class="id" title="variable">st</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">in</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">custom</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">assn</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">85,</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">right</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">associativity</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">assertion_scope</span></a>.<br/>
<span class="id" title="keyword">Notation</span> <a id="d437198920d8d757e4e6b60d46358c8a" class="idref" href="#d437198920d8d757e4e6b60d46358c8a"><span class="id" title="notation">&quot;</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">P /\ Q</span></a>" <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:=</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">fun</span></a> <a id="st:13" class="idref" href="#st:13"><span class="id" title="binder">st</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">⇒</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">P</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a><a class="idref" href="PLF.Hoare.html#Assertion"><span class="id" title="definition">Assertion</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a> <a class="idref" href="PLF.Hoare.html#st:13"><span class="id" title="variable">st</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Q</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a><a class="idref" href="PLF.Hoare.html#Assertion"><span class="id" title="definition">Assertion</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a> <a class="idref" href="PLF.Hoare.html#st:13"><span class="id" title="variable">st</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">in</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">custom</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">assn</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">80,</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">right</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">associativity</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">assertion_scope</span></a>.<br/>
<span class="id" title="keyword">Notation</span> <a id="74028603b8e85e0c9ec50b4dbd7dfecd" class="idref" href="#74028603b8e85e0c9ec50b4dbd7dfecd"><span class="id" title="notation">&quot;</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">~ P</span></a>" <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:=</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">fun</span></a> <a id="st:14" class="idref" href="#st:14"><span class="id" title="binder">st</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">⇒</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">P</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a><a class="idref" href="PLF.Hoare.html#Assertion"><span class="id" title="definition">Assertion</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a> <a class="idref" href="PLF.Hoare.html#st:14"><span class="id" title="variable">st</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">)</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">in</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">custom</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">assn</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">75,</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">right</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">associativity</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">assertion_scope</span></a>.<br/>
<span class="id" title="keyword">Notation</span> <a id="fa2b95bfba529b45357b44654fbd9bee" class="idref" href="#fa2b95bfba529b45357b44654fbd9bee"><span class="id" title="notation">&quot;</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">a = b</span></a>" <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:=</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">fun</span></a> <a id="st:15" class="idref" href="#st:15"><span class="id" title="binder">st</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">⇒</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">a</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a><a class="idref" href="PLF.Hoare.html#Aexp"><span class="id" title="definition">Aexp</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a> <a class="idref" href="PLF.Hoare.html#st:15"><span class="id" title="variable">st</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">b</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a><a class="idref" href="PLF.Hoare.html#Aexp"><span class="id" title="definition">Aexp</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a> <a class="idref" href="PLF.Hoare.html#st:15"><span class="id" title="variable">st</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">in</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">custom</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">assn</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">70)</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">assertion_scope</span></a>.<br/>
<span class="id" title="keyword">Notation</span> <a id=":assn:assertion_scope:x_'&lt;&gt;'_x" class="idref" href="#:assn:assertion_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&quot;</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">a &lt;&gt; b</span></a>" <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:=</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">fun</span></a> <a id="st:16" class="idref" href="#st:16"><span class="id" title="binder">st</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">⇒</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">a</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a><a class="idref" href="PLF.Hoare.html#Aexp"><span class="id" title="definition">Aexp</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a> <a class="idref" href="PLF.Hoare.html#st:16"><span class="id" title="variable">st</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">b</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a><a class="idref" href="PLF.Hoare.html#Aexp"><span class="id" title="definition">Aexp</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a> <a class="idref" href="PLF.Hoare.html#st:16"><span class="id" title="variable">st</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">in</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">custom</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">assn</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">70)</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">assertion_scope</span></a>.<br/>
<span class="id" title="keyword">Notation</span> <a id="f9e963a42ba303abb7dc8a66eececf51" class="idref" href="#f9e963a42ba303abb7dc8a66eececf51"><span class="id" title="notation">&quot;</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">a &lt;= b</span></a>" <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:=</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">fun</span></a> <a id="st:17" class="idref" href="#st:17"><span class="id" title="binder">st</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">⇒</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">a</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a><a class="idref" href="PLF.Hoare.html#Aexp"><span class="id" title="definition">Aexp</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a> <a class="idref" href="PLF.Hoare.html#st:17"><span class="id" title="variable">st</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">≤</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">b</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a><a class="idref" href="PLF.Hoare.html#Aexp"><span class="id" title="definition">Aexp</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a> <a class="idref" href="PLF.Hoare.html#st:17"><span class="id" title="variable">st</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">in</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">custom</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">assn</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">70)</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">assertion_scope</span></a>.<br/>
<span class="id" title="keyword">Notation</span> <a id=":assn:assertion_scope:x_'&lt;'_x" class="idref" href="#:assn:assertion_scope:x_'&lt;'_x"><span class="id" title="notation">&quot;</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">a &lt; b</span></a>" <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:=</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">fun</span></a> <a id="st:18" class="idref" href="#st:18"><span class="id" title="binder">st</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">⇒</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">a</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a><a class="idref" href="PLF.Hoare.html#Aexp"><span class="id" title="definition">Aexp</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a> <a class="idref" href="PLF.Hoare.html#st:18"><span class="id" title="variable">st</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">b</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a><a class="idref" href="PLF.Hoare.html#Aexp"><span class="id" title="definition">Aexp</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a> <a class="idref" href="PLF.Hoare.html#st:18"><span class="id" title="variable">st</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">in</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">custom</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">assn</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">70)</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">assertion_scope</span></a>.<br/>
<span class="id" title="keyword">Notation</span> <a id="6608aa6056611f7bf9918caba1dae5aa" class="idref" href="#6608aa6056611f7bf9918caba1dae5aa"><span class="id" title="notation">&quot;</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">a &gt;= b</span></a>" <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:=</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">fun</span></a> <a id="st:19" class="idref" href="#st:19"><span class="id" title="binder">st</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">⇒</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">a</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a><a class="idref" href="PLF.Hoare.html#Aexp"><span class="id" title="definition">Aexp</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a> <a class="idref" href="PLF.Hoare.html#st:19"><span class="id" title="variable">st</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Peano.html#73030c22bc0b1fa771c65aa5414c65f9"><span class="id" title="notation">≥</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">b</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a><a class="idref" href="PLF.Hoare.html#Aexp"><span class="id" title="definition">Aexp</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a> <a class="idref" href="PLF.Hoare.html#st:19"><span class="id" title="variable">st</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">in</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">custom</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">assn</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">70)</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">assertion_scope</span></a>.<br/>
<span class="id" title="keyword">Notation</span> <a id=":assn:assertion_scope:x_'&gt;'_x" class="idref" href="#:assn:assertion_scope:x_'&gt;'_x"><span class="id" title="notation">&quot;</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">a &gt; b</span></a>" <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:=</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">fun</span></a> <a id="st:20" class="idref" href="#st:20"><span class="id" title="binder">st</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">⇒</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">a</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a><a class="idref" href="PLF.Hoare.html#Aexp"><span class="id" title="definition">Aexp</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a> <a class="idref" href="PLF.Hoare.html#st:20"><span class="id" title="variable">st</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Peano.html#::nat_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">b</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a><a class="idref" href="PLF.Hoare.html#Aexp"><span class="id" title="definition">Aexp</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a> <a class="idref" href="PLF.Hoare.html#st:20"><span class="id" title="variable">st</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">in</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">custom</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">assn</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">70)</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">assertion_scope</span></a>.<br/>
<span class="id" title="keyword">Notation</span> <a id=":::'True'" class="idref" href="#:::'True'"><span class="id" title="notation">&quot;</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">'True'</span></a>" <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:=</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#True"><span class="id" title="inductive">True</span></a>.<br/>
<span class="id" title="keyword">Notation</span> <a id=":assn:assertion_scope:'True'" class="idref" href="#:assn:assertion_scope:'True'"><span class="id" title="notation">&quot;</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">'True'</span></a>" <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:=</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">fun</span></a> <a id="st:21" class="idref" href="#st:21"><span class="id" title="binder">st</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">⇒</span></a> <a class="idref" href="PLF.Hoare.html#:::'True'"><span class="id" title="notation">True</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">in</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">custom</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">assn</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">0)</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">assertion_scope</span></a>.<br/>
<span class="id" title="keyword">Notation</span> <a id=":::'False'" class="idref" href="#:::'False'"><span class="id" title="notation">&quot;</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">'False'</span></a>" <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:=</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#False"><span class="id" title="inductive">False</span></a>.<br/>
<span class="id" title="keyword">Notation</span> <a id=":assn:assertion_scope:'False'" class="idref" href="#:assn:assertion_scope:'False'"><span class="id" title="notation">&quot;</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">'False'</span></a>" <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:=</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">fun</span></a> <a id="st:22" class="idref" href="#st:22"><span class="id" title="binder">st</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">⇒</span></a> <a class="idref" href="PLF.Hoare.html#:::'False'"><span class="id" title="notation">False</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">in</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">custom</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">assn</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">0)</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">assertion_scope</span></a>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a id="63ccab552ca49d46d18c9209edaa0a41" class="idref" href="#63ccab552ca49d46d18c9209edaa0a41"><span class="id" title="notation">&quot;</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">a + b</span></a>" <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:=</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">fun</span></a> <a id="st:23" class="idref" href="#st:23"><span class="id" title="binder">st</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">⇒</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">a</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a><a class="idref" href="PLF.Hoare.html#Aexp"><span class="id" title="definition">Aexp</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a> <a class="idref" href="PLF.Hoare.html#st:23"><span class="id" title="variable">st</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Nat.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">b</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a><a class="idref" href="PLF.Hoare.html#Aexp"><span class="id" title="definition">Aexp</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a> <a class="idref" href="PLF.Hoare.html#st:23"><span class="id" title="variable">st</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">in</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">custom</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">assn</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">50,</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">left</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">associativity</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">assertion_scope</span></a>.<br/>
<span class="id" title="keyword">Notation</span> <a id=":assn:assertion_scope:x_'-'_x" class="idref" href="#:assn:assertion_scope:x_'-'_x"><span class="id" title="notation">&quot;</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">a - b</span></a>" <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:=</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">fun</span></a> <a id="st:24" class="idref" href="#st:24"><span class="id" title="binder">st</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">⇒</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">a</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a><a class="idref" href="PLF.Hoare.html#Aexp"><span class="id" title="definition">Aexp</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a> <a class="idref" href="PLF.Hoare.html#st:24"><span class="id" title="variable">st</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Nat.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">b</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a><a class="idref" href="PLF.Hoare.html#Aexp"><span class="id" title="definition">Aexp</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a> <a class="idref" href="PLF.Hoare.html#st:24"><span class="id" title="variable">st</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">in</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">custom</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">assn</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">50,</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">left</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">associativity</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">assertion_scope</span></a>.<br/>
<span class="id" title="keyword">Notation</span> <a id="180ca3c33c07ef4f30a03b9b44d4925e" class="idref" href="#180ca3c33c07ef4f30a03b9b44d4925e"><span class="id" title="notation">&quot;</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">a * b</span></a>" <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:=</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">fun</span></a> <a id="st:25" class="idref" href="#st:25"><span class="id" title="binder">st</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">⇒</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">a</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a><a class="idref" href="PLF.Hoare.html#Aexp"><span class="id" title="definition">Aexp</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a> <a class="idref" href="PLF.Hoare.html#st:25"><span class="id" title="variable">st</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Nat.html#ea2ff3d561159081cea6fb2e8113cc54"><span class="id" title="notation">×</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">b</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a><a class="idref" href="PLF.Hoare.html#Aexp"><span class="id" title="definition">Aexp</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a> <a class="idref" href="PLF.Hoare.html#st:25"><span class="id" title="variable">st</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">in</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">custom</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">assn</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">40,</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">left</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">associativity</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">assertion_scope</span></a>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a id="cf45a95f0776392920a7f7554e29d102" class="idref" href="#cf45a95f0776392920a7f7554e29d102"><span class="id" title="notation">&quot;</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">( x )</span></a>" <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:=</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">x</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">in</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">custom</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">assn</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">0,</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">x</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">99)</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">assertion_scope</span></a>.<br/>

<br/>
</div>

<div class="doc">
Occasionally we need to "escape" a raw "Coq-defined" function to express
    a particularly complicated assertion.  We can do that using a <span class="inlinecode">$</span> prefix,
    as in <span class="inlinecode">{{</span> <span class="inlinecode">$(<span class="id" title="var">raw_coq</span>)</span> <span class="inlinecode">}}</span>.

<div class="paragraph"> </div>

    For example, <span class="inlinecode">{{</span> <span class="inlinecode">$(<span class="id" title="keyword">fun</span></span> <span class="inlinecode"><span class="id" title="var">st</span></span> <span class="inlinecode">⇒</span> <span class="inlinecode"><span class="id" title="keyword">∀</span></span> <span class="inlinecode"><span class="id" title="var">X</span>,</span> <span class="inlinecode"><span class="id" title="var">st</span></span> <span class="inlinecode"><span class="id" title="var">X</span></span> <span class="inlinecode">=</span> <span class="inlinecode">0)</span> <span class="inlinecode">}}</span> indicates an assertion that
    every variable of <span class="inlinecode"><span class="id" title="var">X</span></span> maps to <span class="inlinecode">0</span> in the given state.
 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Notation</span> <a id="050af2f8cd8a66ec7a9cad8a003de70c" class="idref" href="#050af2f8cd8a66ec7a9cad8a003de70c"><span class="id" title="notation">&quot;</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">$ f</span></a>" <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:=</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">f</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">in</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">custom</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">assn</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">0,</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">f</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">constr</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">0)</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">assertion_scope</span></a>.<br/>
<span class="id" title="keyword">Notation</span> <a id=":assn:assertion_scope:x" class="idref" href="#:assn:assertion_scope:x"><span class="id" title="notation">&quot;</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">x</span></a>" <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:=</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">x</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">%</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">assertion</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">in</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">custom</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">assn</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">0,</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">x</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">constr</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">0)</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">assertion_scope</span></a>.<br/>

<br/>
<span class="id" title="keyword">Declare Scope</span> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">hoare_spec_scope</span></a>.<br/>
<span class="id" title="keyword">Open</span> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Scope</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">hoare_spec_scope</span></a>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a id="49b47699af62a6365326c407ef2ff815" class="idref" href="#49b47699af62a6365326c407ef2ff815"><span class="id" title="notation">&quot;</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">{{ e }}</span></a>" <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:=</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">e</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">2,</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">e</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">custom</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">assn</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">99)</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">assertion_scope</span></a>.<br/>
<span class="id" title="keyword">Open</span> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Scope</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">assertion_scope</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab50"></a><h2 class="section">Example Assertions</h2>

<div class="paragraph"> </div>

 Here are some example assertions that take advantage of this
    new notation.
 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Module</span>  <a id="ExamplePrettyAssertions" class="idref" href="#ExamplePrettyAssertions"><span class="id" title="module">ExamplePrettyAssertions</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a id="ExamplePrettyAssertions.assertion1" class="idref" href="#ExamplePrettyAssertions.assertion1"><span class="id" title="definition">assertion1</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#Assertion"><span class="id" title="definition">Assertion</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:=</span></a> <a class="idref" href="PLF.Hoare.html#49b47699af62a6365326c407ef2ff815"><span class="id" title="notation">{{</span></a> <a class="idref" href="PLF.Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="PLF.Hoare.html#fa2b95bfba529b45357b44654fbd9bee"><span class="id" title="notation">=</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">3</span></a> <a class="idref" href="PLF.Hoare.html#49b47699af62a6365326c407ef2ff815"><span class="id" title="notation">}}</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a id="ExamplePrettyAssertions.assertion2" class="idref" href="#ExamplePrettyAssertions.assertion2"><span class="id" title="definition">assertion2</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#Assertion"><span class="id" title="definition">Assertion</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:=</span></a> <a class="idref" href="PLF.Hoare.html#49b47699af62a6365326c407ef2ff815"><span class="id" title="notation">{{</span></a> <a class="idref" href="PLF.Hoare.html#:assn:assertion_scope:'True'"><span class="id" title="notation">True</span></a> <a class="idref" href="PLF.Hoare.html#49b47699af62a6365326c407ef2ff815"><span class="id" title="notation">}}</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a id="ExamplePrettyAssertions.assertion3" class="idref" href="#ExamplePrettyAssertions.assertion3"><span class="id" title="definition">assertion3</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#Assertion"><span class="id" title="definition">Assertion</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:=</span></a> <a class="idref" href="PLF.Hoare.html#49b47699af62a6365326c407ef2ff815"><span class="id" title="notation">{{</span></a> <a class="idref" href="PLF.Hoare.html#:assn:assertion_scope:'False'"><span class="id" title="notation">False</span></a> <a class="idref" href="PLF.Hoare.html#49b47699af62a6365326c407ef2ff815"><span class="id" title="notation">}}</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a id="ExamplePrettyAssertions.assertion4" class="idref" href="#ExamplePrettyAssertions.assertion4"><span class="id" title="definition">assertion4</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#Assertion"><span class="id" title="definition">Assertion</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:=</span></a> <a class="idref" href="PLF.Hoare.html#49b47699af62a6365326c407ef2ff815"><span class="id" title="notation">{{</span></a> <a class="idref" href="PLF.Hoare.html#:assn:assertion_scope:'True'"><span class="id" title="notation">True</span></a> <a class="idref" href="PLF.Hoare.html#8fb785685f1b11b73aa3f553bf7053a2"><span class="id" title="notation">∨</span></a> <a class="idref" href="PLF.Hoare.html#:assn:assertion_scope:'False'"><span class="id" title="notation">False</span></a> <a class="idref" href="PLF.Hoare.html#49b47699af62a6365326c407ef2ff815"><span class="id" title="notation">}}</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a id="ExamplePrettyAssertions.assertion5" class="idref" href="#ExamplePrettyAssertions.assertion5"><span class="id" title="definition">assertion5</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#Assertion"><span class="id" title="definition">Assertion</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:=</span></a> <a class="idref" href="PLF.Hoare.html#49b47699af62a6365326c407ef2ff815"><span class="id" title="notation">{{</span></a> <a class="idref" href="PLF.Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="PLF.Hoare.html#f9e963a42ba303abb7dc8a66eececf51"><span class="id" title="notation">≤</span></a> <a class="idref" href="PLF.Imp.html#Y"><span class="id" title="definition">Y</span></a> <a class="idref" href="PLF.Hoare.html#49b47699af62a6365326c407ef2ff815"><span class="id" title="notation">}}</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a id="ExamplePrettyAssertions.assertion6" class="idref" href="#ExamplePrettyAssertions.assertion6"><span class="id" title="definition">assertion6</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#Assertion"><span class="id" title="definition">Assertion</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:=</span></a> <a class="idref" href="PLF.Hoare.html#49b47699af62a6365326c407ef2ff815"><span class="id" title="notation">{{</span></a> <a class="idref" href="PLF.Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="PLF.Hoare.html#fa2b95bfba529b45357b44654fbd9bee"><span class="id" title="notation">=</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">3</span></a> <a class="idref" href="PLF.Hoare.html#8fb785685f1b11b73aa3f553bf7053a2"><span class="id" title="notation">∨</span></a> <a class="idref" href="PLF.Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="PLF.Hoare.html#f9e963a42ba303abb7dc8a66eececf51"><span class="id" title="notation">≤</span></a> <a class="idref" href="PLF.Imp.html#Y"><span class="id" title="definition">Y</span></a> <a class="idref" href="PLF.Hoare.html#49b47699af62a6365326c407ef2ff815"><span class="id" title="notation">}}</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a id="ExamplePrettyAssertions.assertion7" class="idref" href="#ExamplePrettyAssertions.assertion7"><span class="id" title="definition">assertion7</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#Assertion"><span class="id" title="definition">Assertion</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:=</span></a> <a class="idref" href="PLF.Hoare.html#49b47699af62a6365326c407ef2ff815"><span class="id" title="notation">{{</span></a> <a class="idref" href="PLF.Imp.html#Z"><span class="id" title="definition">Z</span></a> <a class="idref" href="PLF.Hoare.html#fa2b95bfba529b45357b44654fbd9bee"><span class="id" title="notation">=</span></a> <a class="idref" href="PLF.Hoare.html#cf45a95f0776392920a7f7554e29d102"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#5cc28325551269d57999b5e6d74d9b04"><span class="id" title="notation">#</span></a><span class="id" title="definition">max</span> <a class="idref" href="PLF.Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="PLF.Imp.html#Y"><span class="id" title="definition">Y</span></a><a class="idref" href="PLF.Hoare.html#cf45a95f0776392920a7f7554e29d102"><span class="id" title="notation">)</span></a> <a class="idref" href="PLF.Hoare.html#49b47699af62a6365326c407ef2ff815"><span class="id" title="notation">}}</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a id="ExamplePrettyAssertions.assertion8" class="idref" href="#ExamplePrettyAssertions.assertion8"><span class="id" title="definition">assertion8</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#Assertion"><span class="id" title="definition">Assertion</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:=</span></a> <a class="idref" href="PLF.Hoare.html#49b47699af62a6365326c407ef2ff815"><span class="id" title="notation">{{</span></a> <a class="idref" href="PLF.Imp.html#Z"><span class="id" title="definition">Z</span></a> <a class="idref" href="PLF.Hoare.html#180ca3c33c07ef4f30a03b9b44d4925e"><span class="id" title="notation">×</span></a> <a class="idref" href="PLF.Imp.html#Z"><span class="id" title="definition">Z</span></a> <a class="idref" href="PLF.Hoare.html#f9e963a42ba303abb7dc8a66eececf51"><span class="id" title="notation">≤</span></a> <a class="idref" href="PLF.Imp.html#X"><span class="id" title="definition">X</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#d437198920d8d757e4e6b60d46358c8a"><span class="id" title="notation">∧</span></a>  <a class="idref" href="PLF.Hoare.html#74028603b8e85e0c9ec50b4dbd7dfecd"><span class="id" title="notation">¬</span></a> <a class="idref" href="PLF.Hoare.html#cf45a95f0776392920a7f7554e29d102"><span class="id" title="notation">(((</span></a><a class="idref" href="PLF.Hoare.html#5cc28325551269d57999b5e6d74d9b04"><span class="id" title="notation">#</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="PLF.Imp.html#Z"><span class="id" title="definition">Z</span></a><a class="idref" href="PLF.Hoare.html#cf45a95f0776392920a7f7554e29d102"><span class="id" title="notation">)</span></a> <a class="idref" href="PLF.Hoare.html#180ca3c33c07ef4f30a03b9b44d4925e"><span class="id" title="notation">×</span></a> <a class="idref" href="PLF.Hoare.html#cf45a95f0776392920a7f7554e29d102"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#5cc28325551269d57999b5e6d74d9b04"><span class="id" title="notation">#</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="PLF.Imp.html#Z"><span class="id" title="definition">Z</span></a><a class="idref" href="PLF.Hoare.html#cf45a95f0776392920a7f7554e29d102"><span class="id" title="notation">))</span></a> <a class="idref" href="PLF.Hoare.html#f9e963a42ba303abb7dc8a66eececf51"><span class="id" title="notation">≤</span></a> <a class="idref" href="PLF.Imp.html#X"><span class="id" title="definition">X</span></a><a class="idref" href="PLF.Hoare.html#cf45a95f0776392920a7f7554e29d102"><span class="id" title="notation">)</span></a> <a class="idref" href="PLF.Hoare.html#49b47699af62a6365326c407ef2ff815"><span class="id" title="notation">}}</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a id="ExamplePrettyAssertions.assertion9" class="idref" href="#ExamplePrettyAssertions.assertion9"><span class="id" title="definition">assertion9</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#Assertion"><span class="id" title="definition">Assertion</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:=</span></a> <a class="idref" href="PLF.Hoare.html#49b47699af62a6365326c407ef2ff815"><span class="id" title="notation">{{</span></a> <a class="idref" href="PLF.Hoare.html#5cc28325551269d57999b5e6d74d9b04"><span class="id" title="notation">#</span></a><span class="id" title="definition">add</span> <a class="idref" href="PLF.Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="PLF.Imp.html#Y"><span class="id" title="definition">Y</span></a> <a class="idref" href="PLF.Hoare.html#:assn:assertion_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> <a class="idref" href="PLF.Hoare.html#5cc28325551269d57999b5e6d74d9b04"><span class="id" title="notation">#</span></a><span class="id" title="definition">max</span> <a class="idref" href="PLF.Imp.html#Y"><span class="id" title="definition">Y</span></a> <a class="idref" href="PLF.Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="PLF.Hoare.html#49b47699af62a6365326c407ef2ff815"><span class="id" title="notation">}}</span></a>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="PLF.Hoare.html#ExamplePrettyAssertions"><span class="id" title="module">ExamplePrettyAssertions</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab51"></a><h2 class="section">Assertion Implication</h2>

<div class="paragraph"> </div>

 Given two assertions <span class="inlinecode"><span class="id" title="var">P</span></span> and <span class="inlinecode"><span class="id" title="var">Q</span></span>, we say that <span class="inlinecode"><span class="id" title="var">P</span></span> <i>implies</i> <span class="inlinecode"><span class="id" title="var">Q</span></span>,
    written <span class="inlinecode"><span class="id" title="var">P</span></span> <span class="inlinecode">-&gt;&gt;</span> <span class="inlinecode"><span class="id" title="var">Q</span></span>, if, whenever <span class="inlinecode"><span class="id" title="var">P</span></span> holds in some state <span class="inlinecode"><span class="id" title="var">st</span></span>, <span class="inlinecode"><span class="id" title="var">Q</span></span>
    also holds. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a id="assert_implies" class="idref" href="#assert_implies"><span class="id" title="definition">assert_implies</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a id="P:26" class="idref" href="#P:26"><span class="id" title="binder">P</span></a> <a id="Q:27" class="idref" href="#Q:27"><span class="id" title="binder">Q</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#Assertion"><span class="id" title="definition">Assertion</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Prop</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">∀</span></a> <a id="st:28" class="idref" href="#st:28"><span class="id" title="binder">st</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">,</span></a> <a class="idref" href="PLF.Hoare.html#P:26"><span class="id" title="variable">P</span></a> <a class="idref" href="PLF.Hoare.html#st:28"><span class="id" title="variable">st</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="PLF.Hoare.html#Q:27"><span class="id" title="variable">Q</span></a> <a class="idref" href="PLF.Hoare.html#st:28"><span class="id" title="variable">st</span></a>.<br/>

<br/>
</div>

<div class="doc">
Note that the notation for <i>assertion implication</i> is analogous
to the "usual" Coq implication <span class="inlinecode">→</span>. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Notation</span> <a id="::hoare_spec_scope:x_'-&gt;&gt;'_x" class="idref" href="#::hoare_spec_scope:x_'-&gt;&gt;'_x"><span class="id" title="notation">&quot;</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">P -&gt;&gt; Q</span></a>" <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:=</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#assert_implies"><span class="id" title="definition">assert_implies</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">P</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Q</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">80)</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">hoare_spec_scope</span></a>.<br/>

<br/>
</div>

<div class="doc">
We'll also want the "iff" variant of implication between
    assertions: 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Notation</span> <a id="::hoare_spec_scope:x_'&lt;&lt;-&gt;&gt;'_x" class="idref" href="#::hoare_spec_scope:x_'&lt;&lt;-&gt;&gt;'_x"><span class="id" title="notation">&quot;</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">P &lt;&lt;-&gt;&gt; Q</span></a>" <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:=</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">P</span></a> <a class="idref" href="PLF.Hoare.html#::hoare_spec_scope:x_'-&gt;&gt;'_x"><span class="id" title="notation">-&gt;&gt;</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Q</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Q</span></a> <a class="idref" href="PLF.Hoare.html#::hoare_spec_scope:x_'-&gt;&gt;'_x"><span class="id" title="notation">-&gt;&gt;</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">P</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">80)</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">hoare_spec_scope</span></a>.<br/>

<br/>
</div>

<div class="doc">
(The <span class="inlinecode"><span class="id" title="var">hoare_spec_scope</span></span> annotation here tells Coq that this
    notation is not global but is intended to be used in particular
    contexts.) 
</div>
<div class="code">

<br/>
</div>

<div class="doc">
<a id="lab52"></a><h1 class="section">Hoare Triples, Informally</h1>

<div class="paragraph"> </div>

 A <i>Hoare triple</i> is a claim about the state before and
    after executing a command.  The standard notation is

<div class="paragraph"> </div>

      {P} c {Q}

<div class="paragraph"> </div>

    meaning:

<div class="paragraph"> </div>

<ul class="doclist">
<li> If command <span class="inlinecode"><span class="id" title="var">c</span></span> begins execution in a state satisfying assertion <span class="inlinecode"><span class="id" title="var">P</span></span>,

</li>
<li> and if <span class="inlinecode"><span class="id" title="var">c</span></span> eventually terminates in some final state,

</li>
<li> then that final state will satisfy the assertion <span class="inlinecode"><span class="id" title="var">Q</span></span>.

</li>
</ul>

<div class="paragraph"> </div>

    Assertion <span class="inlinecode"><span class="id" title="var">P</span></span> is called the <i>precondition</i> of the triple, and <span class="inlinecode"><span class="id" title="var">Q</span></span> is
    the <i>postcondition</i>.

<div class="paragraph"> </div>

    Because single braces are already used for other things in Coq, we'll write
    Hoare triples with double braces:

<div class="paragraph"> </div>

       <a href="P">P</a> c <a href="Q">Q</a>
 For example,

<div class="paragraph"> </div>

<ul class="doclist">
<li> <span class="inlinecode">{{<span class="id" title="var">X</span></span> <span class="inlinecode">=</span> <span class="inlinecode">0}}</span> <span class="inlinecode"><span class="id" title="var">X</span></span> <span class="inlinecode">:=</span> <span class="inlinecode"><span class="id" title="var">X</span></span> <span class="inlinecode">+</span> <span class="inlinecode">1</span> <span class="inlinecode">{{<span class="id" title="var">X</span></span> <span class="inlinecode">=</span> <span class="inlinecode">1}}</span> is a valid Hoare triple,
      stating that command <span class="inlinecode"><span class="id" title="var">X</span></span> <span class="inlinecode">:=</span> <span class="inlinecode"><span class="id" title="var">X</span></span> <span class="inlinecode">+</span> <span class="inlinecode">1</span> will transform a state in
      which <span class="inlinecode"><span class="id" title="var">X</span></span> <span class="inlinecode">=</span> <span class="inlinecode">0</span> to a state in which <span class="inlinecode"><span class="id" title="var">X</span></span> <span class="inlinecode">=</span> <span class="inlinecode">1</span>.

<div class="paragraph"> </div>


</li>
<li> <span class="inlinecode"><span class="id" title="keyword">∀</span></span> <span class="inlinecode"><span class="id" title="var">m</span>,</span> <span class="inlinecode">{{<span class="id" title="var">X</span></span> <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" title="var">m</span>}}</span> <span class="inlinecode"><span class="id" title="var">X</span></span> <span class="inlinecode">:=</span> <span class="inlinecode"><span class="id" title="var">X</span></span> <span class="inlinecode">+</span> <span class="inlinecode">1</span> <span class="inlinecode">{{<span class="id" title="var">X</span></span> <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" title="var">m</span></span> <span class="inlinecode">+</span> <span class="inlinecode">1}}</span> is a
      <i>proposition</i> stating that the Hoare triple <span class="inlinecode">{{<span class="id" title="var">X</span></span> <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" title="var">m</span>}}</span> <span class="inlinecode"><span class="id" title="var">X</span></span> <span class="inlinecode">:=</span> <span class="inlinecode"><span class="id" title="var">X</span></span> <span class="inlinecode">+</span>
      <span class="inlinecode">1</span> <span class="inlinecode">{{<span class="id" title="var">X</span></span> <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" title="var">m</span></span> <span class="inlinecode">+</span> <span class="inlinecode">1}}</span> is valid for any choice of <span class="inlinecode"><span class="id" title="var">m</span></span>.  Note that <span class="inlinecode"><span class="id" title="var">m</span></span>
      in the two assertions is a reference to the <i>Coq</i> variable <span class="inlinecode"><span class="id" title="var">m</span></span>,
      which is bound outside the Hoare triple. 
</li>
</ul>

<div class="paragraph"> </div>

<a id="lab53"></a><h4 class="section">Exercise: 1 star, standard, optional (triples)</h4>

</div>
<div class="code">

<br/>
</div>

<div class="doc">
<a id="lab54"></a><h4 class="section">Exercise: 1 star, standard, optional (valid_triples)</h4>


<div class="paragraph"> </div>

    Which of the following Hoare triples are <i>valid</i> -- i.e., the
    claimed relation between <span class="inlinecode"><span class="id" title="var">P</span></span>, <span class="inlinecode"><span class="id" title="var">c</span></span>, and <span class="inlinecode"><span class="id" title="var">Q</span></span> is true?

<div class="paragraph"> </div>

   1) <a href="True">True</a> X := 5 <a href="X = 5">X = 5</a>

<div class="paragraph"> </div>

   2) <a href="X = 2">X = 2</a> X := X + 1 <a href="X = 3">X = 3</a>

<div class="paragraph"> </div>

   3) <a href="True">True</a> X := 5; Y := 0 <a href="X = 5">X = 5</a>

<div class="paragraph"> </div>

   4) <a href="X = 2 /\ X = 3">X = 2 /\ X = 3</a> X := 5 <a href="X = 0">X = 0</a>

<div class="paragraph"> </div>

   5) <a href="True">True</a> skip <a href="False">False</a>

<div class="paragraph"> </div>

   6) <a href="False">False</a> skip <a href="True">True</a>

<div class="paragraph"> </div>

   7) <a href="True">True</a> while true do skip end <a href="False">False</a>

<div class="paragraph"> </div>

   8) <a href="X = 0">X = 0</a>
        while X = 0 do X := X + 1 end
      <a href="X = 1">X = 1</a>

<div class="paragraph"> </div>

   9) <a href="X = 1">X = 1</a>
        while X &lt;&gt; 0 do X := X + 1 end
      <a href="X = 100">X = 100</a>

</div>
<div class="code">

<br/>
</div>

<div class="doc">
<a id="lab55"></a><h1 class="section">Hoare Triples, Formally</h1>

<div class="paragraph"> </div>

 We can formalize valid Hoare triples in Coq as follows: 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a id="valid_hoare_triple" class="idref" href="#valid_hoare_triple"><span class="id" title="definition">valid_hoare_triple</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a id="P:29" class="idref" href="#P:29"><span class="id" title="binder">P</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#Assertion"><span class="id" title="definition">Assertion</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a id="c:30" class="idref" href="#c:30"><span class="id" title="binder">c</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Imp.html#com"><span class="id" title="inductive">com</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a id="Q:31" class="idref" href="#Q:31"><span class="id" title="binder">Q</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#Assertion"><span class="id" title="definition">Assertion</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Prop</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">∀</span></a> <a id="st:32" class="idref" href="#st:32"><span class="id" title="binder">st</span></a> <a id="st':33" class="idref" href="#st':33"><span class="id" title="binder">st'</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#st:32"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Imp.html#6037d1f4787d63984beccd5510872ee9"><span class="id" title="notation">=[</span></a> <a class="idref" href="PLF.Hoare.html#c:30"><span class="id" title="variable">c</span></a> <a class="idref" href="PLF.Imp.html#6037d1f4787d63984beccd5510872ee9"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="PLF.Hoare.html#st':33"><span class="id" title="variable">st'</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#P:29"><span class="id" title="variable">P</span></a> <a class="idref" href="PLF.Hoare.html#st:32"><span class="id" title="variable">st</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a>  <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#Q:31"><span class="id" title="variable">Q</span></a> <a class="idref" href="PLF.Hoare.html#st':33"><span class="id" title="variable">st'</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>

<br/>
</div>

<div class="doc">
Notation for Hoare triples 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Notation</span> <a id="a18cbce9fe584a9130c3f34d4f14555f" class="idref" href="#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">&quot;</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">{{ P }} c {{ Q }}</span></a>" <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#valid_hoare_triple"><span class="id" title="definition">valid_hoare_triple</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">P</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">c</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Q</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">2,</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">P</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">custom</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">assn</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">99,</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">c</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">custom</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">com</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">99,</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Q</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">custom</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">assn</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">99)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">hoare_spec_scope</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab56"></a><h4 class="section">Exercise: 1 star, standard (hoare_post_true)</h4>

<div class="paragraph"> </div>

 Prove that if <span class="inlinecode"><span class="id" title="var">Q</span></span> holds in every state, then any triple with <span class="inlinecode"><span class="id" title="var">Q</span></span>
    as its postcondition is valid. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Theorem</span> <a id="hoare_post_true" class="idref" href="#hoare_post_true"><span class="id" title="lemma">hoare_post_true</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">∀</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a id="P:34" class="idref" href="#P:34"><span class="id" title="binder">P</span></a> <a id="Q:35" class="idref" href="#Q:35"><span class="id" title="binder">Q</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#Assertion"><span class="id" title="definition">Assertion</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a> <a id="c:36" class="idref" href="#c:36"><span class="id" title="binder">c</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">∀</span></a> <a id="st:37" class="idref" href="#st:37"><span class="id" title="binder">st</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">,</span></a> <a class="idref" href="PLF.Hoare.html#Q:35"><span class="id" title="variable">Q</span></a> <a class="idref" href="PLF.Hoare.html#st:37"><span class="id" title="variable">st</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Hoare.html#P:34"><span class="id" title="variable">P</span></a><a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">}}</span></a> <a class="idref" href="PLF.Hoare.html#c:36"><span class="id" title="variable">c</span></a> <a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Hoare.html#Q:35"><span class="id" title="variable">Q</span></a><a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">}}</span></a>.<br/>
<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Proof</span></a>.<br/>
 <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Admitted</span></a>.<br/>
</div>

<div class="doc">
<font size=-2>&#9744;</font> 
<div class="paragraph"> </div>

<a id="lab57"></a><h4 class="section">Exercise: 1 star, standard (hoare_pre_false)</h4>

<div class="paragraph"> </div>

 Prove that if <span class="inlinecode"><span class="id" title="var">P</span></span> holds in no state, then any triple with <span class="inlinecode"><span class="id" title="var">P</span></span> as
    its precondition is valid. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Theorem</span> <a id="hoare_pre_false" class="idref" href="#hoare_pre_false"><span class="id" title="lemma">hoare_pre_false</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">∀</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a id="P:38" class="idref" href="#P:38"><span class="id" title="binder">P</span></a> <a id="Q:39" class="idref" href="#Q:39"><span class="id" title="binder">Q</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#Assertion"><span class="id" title="definition">Assertion</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a> <a id="c:40" class="idref" href="#c:40"><span class="id" title="binder">c</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">∀</span></a> <a id="st:41" class="idref" href="#st:41"><span class="id" title="binder">st</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">,</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#P:38"><span class="id" title="variable">P</span></a> <a class="idref" href="PLF.Hoare.html#st:41"><span class="id" title="variable">st</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">)</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Hoare.html#P:38"><span class="id" title="variable">P</span></a><a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">}}</span></a> <a class="idref" href="PLF.Hoare.html#c:40"><span class="id" title="variable">c</span></a> <a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Hoare.html#Q:39"><span class="id" title="variable">Q</span></a><a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">}}</span></a>.<br/>
<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Proof</span></a>.<br/>
 <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Admitted</span></a>.<br/>
</div>

<div class="doc">
<font size=-2>&#9744;</font> 
</div>
<div class="code">

<br/>
</div>

<div class="doc">
<a id="lab58"></a><h1 class="section">Proof Rules</h1>

<div class="paragraph"> </div>

 The goal of Hoare logic is to provide a <i>compositional</i>
    method for proving the validity of specific Hoare triples.  That
    is, we want the structure of a program's correctness proof to
    mirror the structure of the program itself.  To this end, in the
    sections below, we'll introduce a rule for reasoning about each of
    the different syntactic forms of commands in Imp -- one for
    assignment, one for sequencing, one for conditionals, etc. -- plus
    a couple of "structural" rules for gluing things together.  We
    will then be able to prove programs correct using these proof
    rules, without ever unfolding the definition of <span class="inlinecode"><span class="id" title="var">valid_hoare_triple</span></span>. 
</div>
<div class="code">

<br/>
</div>

<div class="doc">
<a id="lab59"></a><h2 class="section">Skip</h2>

<div class="paragraph"> </div>

 Since <span class="inlinecode"><span class="id" title="var">skip</span></span> doesn't change the state, it preserves any
    assertion <span class="inlinecode"><span class="id" title="var">P</span></span>:
<hr/>
  (hoare_skip)
      <a href=" P "> P </a> skip <a href=" P "> P </a>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Theorem</span> <a id="hoare_skip" class="idref" href="#hoare_skip"><span class="id" title="lemma">hoare_skip</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">∀</span></a> <a id="P:42" class="idref" href="#P:42"><span class="id" title="binder">P</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Hoare.html#P:42"><span class="id" title="variable">P</span></a><a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">}}</span></a> <a class="idref" href="PLF.Imp.html#:com:com_scope:'skip'"><span class="id" title="notation">skip</span></a> <a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Hoare.html#P:42"><span class="id" title="variable">P</span></a><a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">}}</span></a>.<br/>
<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Proof</span></a>.<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">intros</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">P</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">st</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">st'</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">H</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">HP</span></a>. <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">inversion</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">H</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">;</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">subst</span></a>. <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">assumption</span></a>.<br/>
<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Qed</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab60"></a><h2 class="section">Sequencing</h2>

<div class="paragraph"> </div>

 If command <span class="inlinecode"><span class="id" title="var">c1</span></span> takes any state where <span class="inlinecode"><span class="id" title="var">P</span></span> holds to a state where
    <span class="inlinecode"><span class="id" title="var">Q</span></span> holds, and if <span class="inlinecode"><span class="id" title="var">c2</span></span> takes any state where <span class="inlinecode"><span class="id" title="var">Q</span></span> holds to one
    where <span class="inlinecode"><span class="id" title="var">R</span></span> holds, then doing <span class="inlinecode"><span class="id" title="var">c1</span></span> followed by <span class="inlinecode"><span class="id" title="var">c2</span></span> will take any
    state where <span class="inlinecode"><span class="id" title="var">P</span></span> holds to one where <span class="inlinecode"><span class="id" title="var">R</span></span> holds:

<div class="paragraph"> </div>

        <a href=" P "> P </a> c1 <a href=" Q "> Q </a>
        <a href=" Q "> Q </a> c2 <a href=" R "> R </a>
<hr/>
  (hoare_seq)
       <a href=" P "> P </a> c1;c2 <a href=" R "> R </a>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Theorem</span> <a id="hoare_seq" class="idref" href="#hoare_seq"><span class="id" title="lemma">hoare_seq</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">∀</span></a> <a id="P:43" class="idref" href="#P:43"><span class="id" title="binder">P</span></a> <a id="Q:44" class="idref" href="#Q:44"><span class="id" title="binder">Q</span></a> <a id="R:45" class="idref" href="#R:45"><span class="id" title="binder">R</span></a> <a id="c1:46" class="idref" href="#c1:46"><span class="id" title="binder">c1</span></a> <a id="c2:47" class="idref" href="#c2:47"><span class="id" title="binder">c2</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Hoare.html#Q:44"><span class="id" title="variable">Q</span></a><a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">}}</span></a> <a class="idref" href="PLF.Hoare.html#c2:47"><span class="id" title="variable">c2</span></a> <a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Hoare.html#R:45"><span class="id" title="variable">R</span></a><a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">}}</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Hoare.html#P:43"><span class="id" title="variable">P</span></a><a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">}}</span></a> <a class="idref" href="PLF.Hoare.html#c1:46"><span class="id" title="variable">c1</span></a> <a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Hoare.html#Q:44"><span class="id" title="variable">Q</span></a><a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">}}</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Hoare.html#P:43"><span class="id" title="variable">P</span></a><a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">}}</span></a> <a class="idref" href="PLF.Hoare.html#c1:46"><span class="id" title="variable">c1</span></a><a class="idref" href="PLF.Imp.html#313afe74ec81f2da17d8e7bca3b042e7"><span class="id" title="notation">;</span></a> <a class="idref" href="PLF.Hoare.html#c2:47"><span class="id" title="variable">c2</span></a> <a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Hoare.html#R:45"><span class="id" title="variable">R</span></a><a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">}}</span></a>.<br/>
<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Proof</span></a>.<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">intros</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">P</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Q</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">R</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">c1</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">c2</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">H1</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">H2</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">st</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">st'</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">H12</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Pre</span></a>.<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">inversion</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">H12</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">;</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">subst</span></a>.<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">eauto</span></a>.<br/>
<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Qed</span></a>.<br/>

<br/>
</div>

<div class="doc">
Note that, in the formal rule <span class="inlinecode"><span class="id" title="var">hoare_seq</span></span>, the premises are
    given in backwards order (<span class="inlinecode"><span class="id" title="var">c2</span></span> before <span class="inlinecode"><span class="id" title="var">c1</span></span>).  This matches the
    natural flow of information in many of the situations where we'll
    use the rule, since the natural way to construct a Hoare-logic
    proof is to begin at the end of the program (with the final
    postcondition) and push postconditions backwards through commands
    until we reach the beginning. 
</div>
<div class="code">

<br/>
</div>

<div class="doc">
<a id="lab61"></a><h2 class="section">Assignment</h2>

<div class="paragraph"> </div>

 The rule for assignment is the most fundamental of the Hoare
    logic proof rules.  Here's how it works.

<div class="paragraph"> </div>

    Consider this incomplete Hoare triple:

<div class="paragraph"> </div>

       <a href=" ??? "> ??? </a>  X := Y  <a href=" X = 1 "> X = 1 </a>

<div class="paragraph"> </div>

    We want to assign <span class="inlinecode"><span class="id" title="var">Y</span></span> to <span class="inlinecode"><span class="id" title="var">X</span></span> and finish in a state where <span class="inlinecode"><span class="id" title="var">X</span></span> is <span class="inlinecode">1</span>.
    What could the precondition be?

<div class="paragraph"> </div>

    One possibility is <span class="inlinecode"><span class="id" title="var">Y</span></span> <span class="inlinecode">=</span> <span class="inlinecode">1</span>, because if <span class="inlinecode"><span class="id" title="var">Y</span></span> is already <span class="inlinecode">1</span> then
    assigning it to <span class="inlinecode"><span class="id" title="var">X</span></span> causes <span class="inlinecode"><span class="id" title="var">X</span></span> to be <span class="inlinecode">1</span>.  That leads to a valid
    Hoare triple:

<div class="paragraph"> </div>

       <a href=" Y = 1 "> Y = 1 </a>  X := Y  <a href=" X = 1 "> X = 1 </a>

<div class="paragraph"> </div>

    It may seem as though coming up with that precondition must have
    taken some clever thought.  But there is a mechanical way we could
    have done it: if we take the postcondition <span class="inlinecode"><span class="id" title="var">X</span></span> <span class="inlinecode">=</span> <span class="inlinecode">1</span> and in it
    replace <span class="inlinecode"><span class="id" title="var">X</span></span> with <span class="inlinecode"><span class="id" title="var">Y</span></span>---that is, replace the left-hand side of the
    assignment statement with the right-hand side---we get the
    precondition, <span class="inlinecode"><span class="id" title="var">Y</span></span> <span class="inlinecode">=</span> <span class="inlinecode">1</span>. 
<div class="paragraph"> </div>

 That same idea works in more complicated cases.  For
    example:

<div class="paragraph"> </div>

       <a href=" ??? "> ??? </a>  X := X + Y  <a href=" X = 1 "> X = 1 </a>

<div class="paragraph"> </div>

    If we replace the <span class="inlinecode"><span class="id" title="var">X</span></span> in <span class="inlinecode"><span class="id" title="var">X</span></span> <span class="inlinecode">=</span> <span class="inlinecode">1</span> with <span class="inlinecode"><span class="id" title="var">X</span></span> <span class="inlinecode">+</span> <span class="inlinecode"><span class="id" title="var">Y</span></span>, we get <span class="inlinecode"><span class="id" title="var">X</span></span> <span class="inlinecode">+</span> <span class="inlinecode"><span class="id" title="var">Y</span></span> <span class="inlinecode">=</span> <span class="inlinecode">1</span>.
    That again leads to a valid Hoare triple:

<div class="paragraph"> </div>

       <a href=" X + Y = 1 "> X + Y = 1 </a>  X := X + Y  <a href=" X = 1 "> X = 1 </a>

<div class="paragraph"> </div>

    Why does this technique work?  The postcondition identifies some
    property <span class="inlinecode"><span class="id" title="var">P</span></span> that we want to hold of the variable <span class="inlinecode"><span class="id" title="var">X</span></span> being
    assigned.  In this case, <span class="inlinecode"><span class="id" title="var">P</span></span> is "equals <span class="inlinecode">1</span>".  To complete the
    triple and make it valid, we need to identify a precondition that
    guarantees that property will hold of <span class="inlinecode"><span class="id" title="var">X</span></span>.  Such a precondition
    must ensure that the same property holds of <i>whatever is being
    assigned to</i> <span class="inlinecode"><span class="id" title="var">X</span></span>.  So, in the example, we need "equals <span class="inlinecode">1</span>" to
    hold of <span class="inlinecode"><span class="id" title="var">X</span></span> <span class="inlinecode">+</span> <span class="inlinecode"><span class="id" title="var">Y</span></span>.  That's exactly what the technique guarantees. 
<div class="paragraph"> </div>

 In general, the postcondition could be some arbitrary assertion
    <span class="inlinecode"><span class="id" title="var">Q</span></span>, and the right-hand side of the assignment could be some
    arbitrary arithmetic expression <span class="inlinecode"><span class="id" title="var">a</span></span>:

<div class="paragraph"> </div>

       <a href=" ??? "> ??? </a>  X := a  <a href=" Q "> Q </a>

<div class="paragraph"> </div>

    The precondition would then be <span class="inlinecode"><span class="id" title="var">Q</span></span>, but with any occurrences of
    <span class="inlinecode"><span class="id" title="var">X</span></span> in it replaced by <span class="inlinecode"><span class="id" title="var">a</span></span>.

<div class="paragraph"> </div>

    Let's introduce a notation for this idea of replacing occurrences:
    Define <span class="inlinecode"><span class="id" title="var">Q</span></span> <span class="inlinecode">[<span class="id" title="var">X</span></span> <span class="inlinecode">|-&gt;</span> <span class="inlinecode"><span class="id" title="var">a</span>]</span> to mean "<span class="inlinecode"><span class="id" title="var">Q</span></span> where <span class="inlinecode"><span class="id" title="var">a</span></span> is substituted in
    place of <span class="inlinecode"><span class="id" title="var">X</span></span>".

<div class="paragraph"> </div>

    This yields the Hoare logic rule for assignment:

<div class="paragraph"> </div>

      <a href=" Q [X |-> a] "> Q [X |-> a] </a>  X := a  <a href=" Q "> Q </a>

<div class="paragraph"> </div>

    One way of reading this rule is: If you want statement <span class="inlinecode"><span class="id" title="var">X</span></span> <span class="inlinecode">:=</span> <span class="inlinecode"><span class="id" title="var">a</span></span>
    to terminate in a state that satisfies assertion <span class="inlinecode"><span class="id" title="var">Q</span></span>, then it
    suffices to start in a state that also satisfies <span class="inlinecode"><span class="id" title="var">Q</span></span>, except
    where <span class="inlinecode"><span class="id" title="var">a</span></span> is substituted for every occurrence of <span class="inlinecode"><span class="id" title="var">X</span></span>. 
<div class="paragraph"> </div>

 To many people, this rule seems "backwards" at first, because
    it proceeds from the postcondition to the precondition.  Actually
    it makes good sense to go in this direction: the postcondition is
    often what is more important, because it characterizes what we
    can assume afer running the code.

<div class="paragraph"> </div>

    Nonetheless, it's also possible to formulate a "forward" assignment
    rule.  We'll do that later in some exercises. 
<div class="paragraph"> </div>

 Here are some valid instances of the assignment rule:

<div class="paragraph"> </div>

      <a href=" (X <= 5) [X |-> X + 1] "> (X <= 5) [X |-> X + 1] </a>   (that is, X + 1 &lt;= 5)
        X := X + 1
      <a href=" X <= 5 "> X <= 5 </a>

<div class="paragraph"> </div>

      <a href=" (X = 3) [X |-> 3] "> (X = 3) [X |-> 3] </a>        (that is, 3 = 3)
        X := 3
      <a href=" X = 3 "> X = 3 </a>

<div class="paragraph"> </div>

      <a href=" (0 <= X /\ X <= 5) [X |-> 3]  (that is, 0 <= 3 /\ 3 <= 5)
        X := 3
      {{ 0 <= X /\ X <= 5 "> (0 <= X /\ X <= 5) [X |-> 3]  (that is, 0 <= 3 /\ 3 <= 5)
        X := 3
      {{ 0 <= X /\ X <= 5 </a>

<div class="paragraph"> </div>

 To formalize the rule, we must first formalize the idea of
    "substituting an expression for an Imp variable in an assertion",
    which we refer to as assertion substitution, or <span class="inlinecode"><span class="id" title="var">assertion_sub</span></span>.  That
    is, intuitively, given a proposition <span class="inlinecode"><span class="id" title="var">P</span></span>, a variable <span class="inlinecode"><span class="id" title="var">X</span></span>, and an
    arithmetic expression <span class="inlinecode"><span class="id" title="var">a</span></span>, we want to derive another proposition
    <span class="inlinecode"><span class="id" title="var">P'</span></span> that is just the same as <span class="inlinecode"><span class="id" title="var">P</span></span> except that <span class="inlinecode"><span class="id" title="var">P'</span></span> should mention
    <span class="inlinecode"><span class="id" title="var">a</span></span> wherever <span class="inlinecode"><span class="id" title="var">P</span></span> mentions <span class="inlinecode"><span class="id" title="var">X</span></span>. 
<div class="paragraph"> </div>

 This operation is related to the idea of substituting Imp
    expressions for Imp variables that we saw in <span class="inlinecode"><span class="id" title="var">Equiv</span></span>
    (<span class="inlinecode"><span class="id" title="var">subst_aexp</span></span> and friends). The difference is that, here,
    <span class="inlinecode"><span class="id" title="var">P</span></span> is an arbitrary Coq assertion, so we can't directly
    "edit" its text. 
<div class="paragraph"> </div>

 However, we can achieve the same effect by evaluating <span class="inlinecode"><span class="id" title="var">P</span></span> in an
    updated state, defined as follows: 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a id="assertion_sub" class="idref" href="#assertion_sub"><span class="id" title="definition">assertion_sub</span></a> <a id="X:48" class="idref" href="#X:48"><span class="id" title="binder">X</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a id="a:49" class="idref" href="#a:49"><span class="id" title="binder">a</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a><a class="idref" href="PLF.Imp.html#aexp"><span class="id" title="inductive">aexp</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a id="P:50" class="idref" href="#P:50"><span class="id" title="binder">P</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a><a class="idref" href="PLF.Hoare.html#Assertion"><span class="id" title="definition">Assertion</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#Assertion"><span class="id" title="definition">Assertion</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">fun</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a id="st:51" class="idref" href="#st:51"><span class="id" title="binder">st</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Imp.html#state"><span class="id" title="definition">state</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">⇒</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#P:50"><span class="id" title="variable">P</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">%</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">_assertion</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#X:48"><span class="id" title="variable">X</span></a> <a class="idref" href="PLF.Maps.html#630986d105c0f1782d085b9a306379a7"><span class="id" title="notation">!-&gt;</span></a> <a class="idref" href="PLF.Maps.html#630986d105c0f1782d085b9a306379a7"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#a:49"><span class="id" title="variable">a</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a><a class="idref" href="PLF.Hoare.html#Aexp"><span class="id" title="definition">Aexp</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a> <a class="idref" href="PLF.Hoare.html#st:51"><span class="id" title="variable">st</span></a><a class="idref" href="PLF.Maps.html#630986d105c0f1782d085b9a306379a7"><span class="id" title="notation">);</span></a> <a class="idref" href="PLF.Hoare.html#st:51"><span class="id" title="variable">st</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a id="0f3bc01c0d68323c9389d5f2c160ebf5" class="idref" href="#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">&quot;</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">P [ X |-&gt; a ]</span></a>" <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:=</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#assertion_sub"><span class="id" title="definition">assertion_sub</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">X</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">a</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">P</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">in</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">custom</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">assn</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">10,</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">left</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">associativity</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">,</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">P</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">custom</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">assn</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">,</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">X</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">global</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">,</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">a</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">custom</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">com</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">assertion_scope</span></a>.<br/>

<br/>
</div>

<div class="doc">
 This notation allows us to write this operation as:

<div class="paragraph"> </div>

     <span class="inlinecode"><span class="id" title="var">P</span>[</span> <span class="inlinecode"><span class="id" title="var">X</span></span> <span class="inlinecode">|-&gt;</span> <span class="inlinecode"><span class="id" title="var">a</span>]</span>

<div class="paragraph"> </div>

 That is, <span class="inlinecode"><span class="id" title="var">P</span></span> <span class="inlinecode">[<span class="id" title="var">X</span></span> <span class="inlinecode">|-&gt;</span> <span class="inlinecode"><span class="id" title="var">a</span>]</span> stands for an assertion -- let's call it
    <span class="inlinecode"><span class="id" title="var">P'</span></span> -- that is just like <span class="inlinecode"><span class="id" title="var">P</span></span> except that, wherever <span class="inlinecode"><span class="id" title="var">P</span></span> looks up
    the variable <span class="inlinecode"><span class="id" title="var">X</span></span> in the current state, <span class="inlinecode"><span class="id" title="var">P'</span></span> instead uses the value
    of the expression <span class="inlinecode"><span class="id" title="var">a</span></span>. 
<div class="paragraph"> </div>

 To see how this works in more detail, let's calculate what happens with a couple
    of examples.  First, suppose <span class="inlinecode"><span class="id" title="var">P'</span></span> is <span class="inlinecode">(<span class="id" title="var">X</span></span> <span class="inlinecode">≤</span> <span class="inlinecode">5)</span> <span class="inlinecode">[<span class="id" title="var">X</span></span> <span class="inlinecode">|-&gt;</span> <span class="inlinecode">3]</span> -- that
    is, more formally, <span class="inlinecode"><span class="id" title="var">P'</span></span> is the Coq expression

<div class="paragraph"> </div>

    fun st =&gt;
      (fun st' =&gt; st' X &lt;= 5)
      (X !-&gt; aeval st 3 ; st),

<div class="paragraph"> </div>

    which simplifies to

<div class="paragraph"> </div>

    fun st =&gt;
      (fun st' =&gt; st' X &lt;= 5)
      (X !-&gt; 3 ; st)

<div class="paragraph"> </div>

    and further simplifies to

<div class="paragraph"> </div>

    fun st =&gt;
      ((X !-&gt; 3 ; st) X) &lt;= 5

<div class="paragraph"> </div>

    and finally to

<div class="paragraph"> </div>

    fun st =&gt;
      3 &lt;= 5.

<div class="paragraph"> </div>

    That is, <span class="inlinecode"><span class="id" title="var">P'</span></span> is the assertion that <span class="inlinecode">3</span> is less than or equal to
    <span class="inlinecode">5</span> (as expected). 
<div class="paragraph"> </div>

 For a more interesting example, suppose <span class="inlinecode"><span class="id" title="var">P'</span></span> is <span class="inlinecode">(<span class="id" title="var">X</span></span> <span class="inlinecode">≤</span> <span class="inlinecode">5)</span> <span class="inlinecode">[<span class="id" title="var">X</span></span> <span class="inlinecode">|-&gt;</span>
    <span class="inlinecode"><span class="id" title="var">X</span></span> <span class="inlinecode">+</span> <span class="inlinecode">1]</span>.  Formally, <span class="inlinecode"><span class="id" title="var">P'</span></span> is the Coq expression

<div class="paragraph"> </div>

    fun st =&gt;
      (fun st' =&gt; st' X &lt;= 5)
      (X !-&gt; aeval st (X + 1) ; st),

<div class="paragraph"> </div>

    which simplifies to

<div class="paragraph"> </div>

    fun st =&gt;
      (X !-&gt; aeval st (X + 1) ; st) X &lt;= 5

<div class="paragraph"> </div>

    and further simplifies to

<div class="paragraph"> </div>

    fun st =&gt;
      (aeval st (X + 1)) &lt;= 5.

<div class="paragraph"> </div>

    That is, <span class="inlinecode"><span class="id" title="var">P'</span></span> is the assertion that <span class="inlinecode"><span class="id" title="var">X</span></span> <span class="inlinecode">+</span> <span class="inlinecode">1</span> is at most <span class="inlinecode">5</span>.

<div class="paragraph"> </div>

 We can demonstrate formally that we have captured intuitive meaning of
    "assertion subsitution" by proving some example logical equivalences: 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Module</span> <a id="ExampleAssertionSub" class="idref" href="#ExampleAssertionSub"><span class="id" title="module">ExampleAssertionSub</span></a>.<br/>
<span class="id" title="keyword">Example</span> <a id="ExampleAssertionSub.equivalent_assertion1" class="idref" href="#ExampleAssertionSub.equivalent_assertion1"><span class="id" title="definition">equivalent_assertion1</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#49b47699af62a6365326c407ef2ff815"><span class="id" title="notation">{{</span></a> <a class="idref" href="PLF.Hoare.html#cf45a95f0776392920a7f7554e29d102"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="PLF.Hoare.html#f9e963a42ba303abb7dc8a66eececf51"><span class="id" title="notation">≤</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">5</span></a><a class="idref" href="PLF.Hoare.html#cf45a95f0776392920a7f7554e29d102"><span class="id" title="notation">)</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">[</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">X</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">|-&gt;</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">3]</span></a> <a class="idref" href="PLF.Hoare.html#49b47699af62a6365326c407ef2ff815"><span class="id" title="notation">}}</span></a> <a class="idref" href="PLF.Hoare.html#::hoare_spec_scope:x_'&lt;&lt;-&gt;&gt;'_x"><span class="id" title="notation">&lt;&lt;-&gt;&gt;</span></a> <a class="idref" href="PLF.Hoare.html#49b47699af62a6365326c407ef2ff815"><span class="id" title="notation">{{</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">3</span></a> <a class="idref" href="PLF.Hoare.html#f9e963a42ba303abb7dc8a66eececf51"><span class="id" title="notation">≤</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">5</span></a> <a class="idref" href="PLF.Hoare.html#49b47699af62a6365326c407ef2ff815"><span class="id" title="notation">}}</span></a>.<br/>
<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Proof</span></a>.<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">split</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">;</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">unfold</span></a> <a class="idref" href="PLF.Hoare.html#assert_implies"><span class="id" title="definition">assert_implies</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">,</span></a> <a class="idref" href="PLF.Hoare.html#assertion_sub"><span class="id" title="definition">assertion_sub</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">;</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">intros</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">st</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">H</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">;</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">simpl</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">in</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">*;</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">apply</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">H</span></a>.<br/>
<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Qed</span></a>.<br/>

<br/>
<span class="id" title="keyword">Example</span> <a id="ExampleAssertionSub.equivalent_assertion2" class="idref" href="#ExampleAssertionSub.equivalent_assertion2"><span class="id" title="definition">equivalent_assertion2</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#49b47699af62a6365326c407ef2ff815"><span class="id" title="notation">{{</span></a> <a class="idref" href="PLF.Hoare.html#cf45a95f0776392920a7f7554e29d102"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="PLF.Hoare.html#f9e963a42ba303abb7dc8a66eececf51"><span class="id" title="notation">≤</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">5</span></a><a class="idref" href="PLF.Hoare.html#cf45a95f0776392920a7f7554e29d102"><span class="id" title="notation">)</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">[</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">X</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">|-&gt;</span></a> <a class="idref" href="PLF.Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="PLF.Imp.html#ad27fd091d9c8494ce7e5135135d19a8"><span class="id" title="notation">+</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">1]</span></a> <a class="idref" href="PLF.Hoare.html#49b47699af62a6365326c407ef2ff815"><span class="id" title="notation">}}</span></a> <a class="idref" href="PLF.Hoare.html#::hoare_spec_scope:x_'&lt;&lt;-&gt;&gt;'_x"><span class="id" title="notation">&lt;&lt;-&gt;&gt;</span></a> <a class="idref" href="PLF.Hoare.html#49b47699af62a6365326c407ef2ff815"><span class="id" title="notation">{{</span></a> <a class="idref" href="PLF.Hoare.html#cf45a95f0776392920a7f7554e29d102"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="PLF.Hoare.html#63ccab552ca49d46d18c9209edaa0a41"><span class="id" title="notation">+</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">1</span></a><a class="idref" href="PLF.Hoare.html#cf45a95f0776392920a7f7554e29d102"><span class="id" title="notation">)</span></a> <a class="idref" href="PLF.Hoare.html#f9e963a42ba303abb7dc8a66eececf51"><span class="id" title="notation">≤</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">5</span></a> <a class="idref" href="PLF.Hoare.html#49b47699af62a6365326c407ef2ff815"><span class="id" title="notation">}}</span></a>.<br/>
<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Proof</span></a>.<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">split</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">;</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">unfold</span></a> <a class="idref" href="PLF.Hoare.html#assert_implies"><span class="id" title="definition">assert_implies</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">,</span></a> <a class="idref" href="PLF.Hoare.html#assertion_sub"><span class="id" title="definition">assertion_sub</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">;</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">intros</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">st</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">H</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">;</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">simpl</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">in</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">*;</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">apply</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">H</span></a>.<br/>
<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Qed</span></a>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="PLF.Hoare.html#ExampleAssertionSub"><span class="id" title="module">ExampleAssertionSub</span></a>.<br/>

<br/>
</div>

<div class="doc">
Now, using the substitution operation we've just defined, we can
    give the precise proof rule for assignment:
<hr/>
 (hoare_asgn)
      <a href="Q [X |-> a]">Q [X |-> a]</a> X := a <a href="Q">Q</a>

<div class="paragraph"> </div>

 We can prove formally that this rule is indeed valid. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Theorem</span> <a id="hoare_asgn" class="idref" href="#hoare_asgn"><span class="id" title="lemma">hoare_asgn</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">∀</span></a> <a id="Q:52" class="idref" href="#Q:52"><span class="id" title="binder">Q</span></a> <a id="X:53" class="idref" href="#X:53"><span class="id" title="binder">X</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a id="a:54" class="idref" href="#a:54"><span class="id" title="binder">a</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a><a class="idref" href="PLF.Imp.html#aexp"><span class="id" title="inductive">aexp</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Hoare.html#Q:52"><span class="id" title="variable">Q</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">[</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">X</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">|-&gt;</span></a> <a class="idref" href="PLF.Hoare.html#a:54"><span class="id" title="variable">a</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">]</span></a><a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">}}</span></a> <a class="idref" href="PLF.Hoare.html#X:53"><span class="id" title="variable">X</span></a> <a class="idref" href="PLF.Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <a class="idref" href="PLF.Hoare.html#a:54"><span class="id" title="variable">a</span></a> <a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Hoare.html#Q:52"><span class="id" title="variable">Q</span></a><a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">}}</span></a>.<br/>
<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Proof</span></a>.<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">intros</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Q</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">X</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">a</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">st</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">st'</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">HE</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">HQ</span></a>.<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">inversion</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">HE</span></a>. <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">subst</span></a>.<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">unfold</span></a> <a class="idref" href="PLF.Hoare.html#assertion_sub"><span class="id" title="definition">assertion_sub</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">in</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">HQ</span></a>. <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">simpl</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">in</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">HQ</span></a>. <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">assumption</span></a>. <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Qed</span></a>.<br/>

<br/>
</div>

<div class="doc">
Here's a first formal proof using this rule. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Example</span> <a id="assertion_sub_example" class="idref" href="#assertion_sub_example"><span class="id" title="definition">assertion_sub_example</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Hoare.html#cf45a95f0776392920a7f7554e29d102"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="PLF.Hoare.html#:assn:assertion_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">5</span></a><a class="idref" href="PLF.Hoare.html#cf45a95f0776392920a7f7554e29d102"><span class="id" title="notation">)</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">[</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">X</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">|-&gt;</span></a> <a class="idref" href="PLF.Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="PLF.Imp.html#ad27fd091d9c8494ce7e5135135d19a8"><span class="id" title="notation">+</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">1]</span></a><a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">}}</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="PLF.Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <a class="idref" href="PLF.Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="PLF.Imp.html#ad27fd091d9c8494ce7e5135135d19a8"><span class="id" title="notation">+</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">1</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="PLF.Hoare.html#:assn:assertion_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">5</span></a><a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">}}</span></a>.<br/>
<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Proof</span></a>.<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">apply</span></a> <a class="idref" href="PLF.Hoare.html#hoare_asgn"><span class="id" title="lemma">hoare_asgn</span></a>. <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Qed</span></a>.<br/>

<br/>
</div>

<div class="doc">
Of course, what we'd probably prefer is to prove this
    simpler triple:

<div class="paragraph"> </div>

      <a href="X < 4">X < 4</a> X := X + 1 <a href="X < 5">X < 5</a>

<div class="paragraph"> </div>

   We will see how to do so in the next section. 
<div class="paragraph"> </div>

 Complete these Hoare triples by providing an appropriate
    precondition using <span class="inlinecode"><span class="id" title="tactic">∃</span></span>, then prove then with <span class="inlinecode"><span class="id" title="tactic">apply</span></span>
    <span class="inlinecode"><span class="id" title="var">hoare_asgn</span></span>. If you find that tactic doesn't suffice, double check
    that you have completed the triple properly. 
<div class="paragraph"> </div>

<a id="lab62"></a><h4 class="section">Exercise: 2 stars, standard, optional (hoare_asgn_examples1)</h4>

</div>
<div class="code">
<span class="id" title="keyword">Example</span> <a id="hoare_asgn_examples1" class="idref" href="#hoare_asgn_examples1"><span class="id" title="definition">hoare_asgn_examples1</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="P:55" class="idref" href="#P:55"><span class="id" title="binder">P</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">{{</span></a> <a class="idref" href="PLF.Hoare.html#P:55"><span class="id" title="variable">P</span></a> <a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">}}</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="PLF.Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">2</span></a> <a class="idref" href="PLF.Imp.html#a73c7b35e67094dc8ae672f3a93da066"><span class="id" title="notation">×</span></a> <a class="idref" href="PLF.Imp.html#X"><span class="id" title="definition">X</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">{{</span></a> <a class="idref" href="PLF.Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="PLF.Hoare.html#f9e963a42ba303abb7dc8a66eececf51"><span class="id" title="notation">≤</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">10</span></a> <a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">}}</span></a>.<br/>
<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Proof</span></a>.<br/>
 <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Admitted</span></a>.<br/>
</div>

<div class="doc">
<font size=-2>&#9744;</font> 
<div class="paragraph"> </div>

<a id="lab63"></a><h4 class="section">Exercise: 2 stars, standard, optional (hoare_asgn_examples2)</h4>

</div>
<div class="code">
<span class="id" title="keyword">Example</span> <a id="hoare_asgn_examples2" class="idref" href="#hoare_asgn_examples2"><span class="id" title="definition">hoare_asgn_examples2</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="P:56" class="idref" href="#P:56"><span class="id" title="binder">P</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">{{</span></a> <a class="idref" href="PLF.Hoare.html#P:56"><span class="id" title="variable">P</span></a> <a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">}}</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="PLF.Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">3</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">{{</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">0</span></a> <a class="idref" href="PLF.Hoare.html#f9e963a42ba303abb7dc8a66eececf51"><span class="id" title="notation">≤</span></a>  <a class="idref" href="PLF.Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="PLF.Hoare.html#d437198920d8d757e4e6b60d46358c8a"><span class="id" title="notation">∧</span></a> <a class="idref" href="PLF.Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="PLF.Hoare.html#f9e963a42ba303abb7dc8a66eececf51"><span class="id" title="notation">≤</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">5</span></a> <a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">}}</span></a>.<br/>
<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Proof</span></a>.  <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Admitted</span></a>.<br/>
</div>

<div class="doc">
<font size=-2>&#9744;</font> 
<div class="paragraph"> </div>

<a id="lab64"></a><h4 class="section">Exercise: 2 stars, standard, especially useful (hoare_asgn_wrong)</h4>

<div class="paragraph"> </div>

 The assignment rule looks backward to almost everyone the first
    time they see it.  If it still seems puzzling to you, it may help
    to think a little about alternative "forward" rules.  Here is a
    seemingly natural one:
<hr/>
 (hoare_asgn_wrong)
      <a href=" True "> True </a> X := a <a href=" X = a "> X = a </a>

<div class="paragraph"> </div>

    Give a counterexample showing that this rule is incorrect and use
    it to complete the proof below, showing that it is really a
    counterexample.  (Hint: The rule universally quantifies over the
    arithmetic expression <span class="inlinecode"><span class="id" title="var">a</span></span>, and your counterexample needs to
    exhibit an <span class="inlinecode"><span class="id" title="var">a</span></span> for which the rule doesn't work.) 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Theorem</span> <a id="hoare_asgn_wrong" class="idref" href="#hoare_asgn_wrong"><span class="id" title="lemma">hoare_asgn_wrong</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="a:57" class="idref" href="#a:57"><span class="id" title="binder">a</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a><a class="idref" href="PLF.Imp.html#aexp"><span class="id" title="inductive">aexp</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">{{</span></a> <a class="idref" href="PLF.Hoare.html#:assn:assertion_scope:'True'"><span class="id" title="notation">True</span></a> <a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">}}</span></a> <a class="idref" href="PLF.Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="PLF.Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <a class="idref" href="PLF.Hoare.html#a:57"><span class="id" title="variable">a</span></a> <a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">{{</span></a> <a class="idref" href="PLF.Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="PLF.Hoare.html#fa2b95bfba529b45357b44654fbd9bee"><span class="id" title="notation">=</span></a> <a class="idref" href="PLF.Hoare.html#a:57"><span class="id" title="variable">a</span></a> <a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">}}</span></a>.<br/>
<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Proof</span></a>.<br/>
 <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Admitted</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab65"></a><h4 class="section">Exercise: 3 stars, advanced (hoare_asgn_fwd)</h4>


<div class="paragraph"> </div>

    By using a <i>parameter</i> <span class="inlinecode"><span class="id" title="var">m</span></span> (a Coq number) to remember the
    original value of <span class="inlinecode"><span class="id" title="var">X</span></span> we can define a Hoare rule for assignment
    that does, intuitively, "work forwards" rather than backwards.
<hr/>
 (hoare_asgn_fwd)
       <a href="fun st => P st /\ st X = m">fun st => P st /\ st X = m</a>
         X := a
       <a href="fun st => P (X !-> m ; st) /\ st X = aeval (X !-> m ; st) a ">fun st => P (X !-> m ; st) /\ st X = aeval (X !-> m ; st) a </a>

<div class="paragraph"> </div>

    Note that we need to write out the postcondition in "desugared"
    form, because it needs to talk about two different states: we use
    the original value of <span class="inlinecode"><span class="id" title="var">X</span></span> to reconstruct the state <span class="inlinecode"><span class="id" title="var">st'</span></span> before the
    assignment took place.  (Also note that this rule is more complicated
    than <span class="inlinecode"><span class="id" title="var">hoare_asgn</span></span>!)

<div class="paragraph"> </div>

    Prove that this rule is correct. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Theorem</span> <a id="hoare_asgn_fwd" class="idref" href="#hoare_asgn_fwd"><span class="id" title="lemma">hoare_asgn_fwd</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">∀</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a id="m:58" class="idref" href="#m:58"><span class="id" title="binder">m</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a id="a:59" class="idref" href="#a:59"><span class="id" title="binder">a</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a><a class="idref" href="PLF.Imp.html#aexp"><span class="id" title="inductive">aexp</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a id="P:60" class="idref" href="#P:60"><span class="id" title="binder">P</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#Assertion"><span class="id" title="definition">Assertion</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Hoare.html#P:60"><span class="id" title="variable">P</span></a> <a class="idref" href="PLF.Hoare.html#d437198920d8d757e4e6b60d46358c8a"><span class="id" title="notation">∧</span></a> <a class="idref" href="PLF.Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="PLF.Hoare.html#fa2b95bfba529b45357b44654fbd9bee"><span class="id" title="notation">=</span></a> <a class="idref" href="PLF.Hoare.html#m:58"><span class="id" title="variable">m</span></a><a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">}}</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="PLF.Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <a class="idref" href="PLF.Hoare.html#a:59"><span class="id" title="variable">a</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">{{</span></a> <a class="idref" href="PLF.Hoare.html#050af2f8cd8a66ec7a9cad8a003de70c"><span class="id" title="notation">$(</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">fun</span></a> <a id="st:61" class="idref" href="#st:61"><span class="id" title="binder">st</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">⇒</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#P:60"><span class="id" title="variable">P</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="PLF.Maps.html#630986d105c0f1782d085b9a306379a7"><span class="id" title="notation">!-&gt;</span></a> <a class="idref" href="PLF.Hoare.html#m:58"><span class="id" title="variable">m</span></a> <a class="idref" href="PLF.Maps.html#630986d105c0f1782d085b9a306379a7"><span class="id" title="notation">;</span></a> <a class="idref" href="PLF.Hoare.html#st:61"><span class="id" title="variable">st</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="PLF.Hoare.html#st:61"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="PLF.Imp.html#aeval"><span class="id" title="definition">aeval</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="PLF.Maps.html#630986d105c0f1782d085b9a306379a7"><span class="id" title="notation">!-&gt;</span></a> <a class="idref" href="PLF.Hoare.html#m:58"><span class="id" title="variable">m</span></a> <a class="idref" href="PLF.Maps.html#630986d105c0f1782d085b9a306379a7"><span class="id" title="notation">;</span></a> <a class="idref" href="PLF.Hoare.html#st:61"><span class="id" title="variable">st</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a> <a class="idref" href="PLF.Hoare.html#a:59"><span class="id" title="variable">a</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a><a class="idref" href="PLF.Hoare.html#050af2f8cd8a66ec7a9cad8a003de70c"><span class="id" title="notation">)</span></a>  <a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">}}</span></a>.<br/>
<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Proof</span></a>.<br/>
 <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Admitted</span></a>.<br/>
</div>

<div class="doc">
<font size=-2>&#9744;</font> 
<div class="paragraph"> </div>

<a id="lab66"></a><h4 class="section">Exercise: 2 stars, advanced, optional (hoare_asgn_fwd_exists)</h4>


<div class="paragraph"> </div>

    Another way to define a forward rule for assignment is to
    existentially quantify over the previous value of the assigned
    variable.  Prove that it is correct.
<hr/>
 (hoare_asgn_fwd_exists)
      <a href="fun st => P st">fun st => P st</a>
        X := a
      <a href="fun st => exists m, P (X !-> m ; st) /\
                     st X = aeval (X !-> m ; st) a ">fun st => exists m, P (X !-> m ; st) /\
                     st X = aeval (X !-> m ; st) a </a>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Theorem</span> <a id="hoare_asgn_fwd_exists" class="idref" href="#hoare_asgn_fwd_exists"><span class="id" title="lemma">hoare_asgn_fwd_exists</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">∀</span></a> <a id="a:62" class="idref" href="#a:62"><span class="id" title="binder">a</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a id="P:63" class="idref" href="#P:63"><span class="id" title="binder">P</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#Assertion"><span class="id" title="definition">Assertion</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">{{</span></a> <a class="idref" href="PLF.Hoare.html#P:63"><span class="id" title="variable">P</span></a> <a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">}}</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="PLF.Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <a class="idref" href="PLF.Hoare.html#a:62"><span class="id" title="variable">a</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">{{</span></a> <a class="idref" href="PLF.Hoare.html#050af2f8cd8a66ec7a9cad8a003de70c"><span class="id" title="notation">$(</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">fun</span></a> <a id="st:64" class="idref" href="#st:64"><span class="id" title="binder">st</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">⇒</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="m:65" class="idref" href="#m:65"><span class="id" title="binder">m</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="PLF.Hoare.html#P:63"><span class="id" title="variable">P</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="PLF.Maps.html#630986d105c0f1782d085b9a306379a7"><span class="id" title="notation">!-&gt;</span></a> <a class="idref" href="PLF.Hoare.html#m:65"><span class="id" title="variable">m</span></a> <a class="idref" href="PLF.Maps.html#630986d105c0f1782d085b9a306379a7"><span class="id" title="notation">;</span></a> <a class="idref" href="PLF.Hoare.html#st:64"><span class="id" title="variable">st</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#st:64"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="PLF.Imp.html#aeval"><span class="id" title="definition">aeval</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="PLF.Maps.html#630986d105c0f1782d085b9a306379a7"><span class="id" title="notation">!-&gt;</span></a> <a class="idref" href="PLF.Hoare.html#m:65"><span class="id" title="variable">m</span></a> <a class="idref" href="PLF.Maps.html#630986d105c0f1782d085b9a306379a7"><span class="id" title="notation">;</span></a> <a class="idref" href="PLF.Hoare.html#st:64"><span class="id" title="variable">st</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a> <a class="idref" href="PLF.Hoare.html#a:62"><span class="id" title="variable">a</span></a><a class="idref" href="PLF.Hoare.html#050af2f8cd8a66ec7a9cad8a003de70c"><span class="id" title="notation">)</span></a> <a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">}}</span></a>.<br/>
<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Proof</span></a>.<br/>
 <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Admitted</span></a>.<br/>
</div>

<div class="doc">
<font size=-2>&#9744;</font> 
</div>
<div class="code">

<br/>
</div>

<div class="doc">
<a id="lab67"></a><h2 class="section">Consequence</h2>

<div class="paragraph"> </div>

 Sometimes the preconditions and postconditions we get from the
    Hoare rules won't quite be the ones we want in the particular
    situation at hand -- they may be logically equivalent but have a
    different syntactic form that fails to unify with the goal we are
    trying to prove, or they actually may be logically weaker (for
    preconditions) or stronger (for postconditions) than what we need. 
<div class="paragraph"> </div>

 For instance,

<div class="paragraph"> </div>

      <a href="(X = 3) [X |-> 3]">(X = 3) [X |-> 3]</a> X := 3 <a href="X = 3">X = 3</a>,

<div class="paragraph"> </div>

    follows directly from the assignment rule, but

<div class="paragraph"> </div>

      <a href="True">True</a> X := 3 <a href="X = 3">X = 3</a>

<div class="paragraph"> </div>

    does not.  This triple is valid, but it is not an instance of
    <span class="inlinecode"><span class="id" title="var">hoare_asgn</span></span> because <span class="inlinecode"><span class="id" title="var">True</span></span> and <span class="inlinecode">(<span class="id" title="var">X</span></span> <span class="inlinecode">=</span> <span class="inlinecode">3)</span> <span class="inlinecode">[<span class="id" title="var">X</span></span> <span class="inlinecode">|-&gt;</span> <span class="inlinecode">3]</span> are not
    syntactically equal assertions.

<div class="paragraph"> </div>

    However, they are logically <i>equivalent</i>, so if one triple is
    valid, then the other must certainly be as well.  We can capture
    this observation with the following rule:

<div class="paragraph"> </div>

                <a href="P'">P'</a> c <a href="Q">Q</a>
                  P <code>-</code> P'
<hr/>
   (hoare_consequence_pre_equiv)
                <a href="P">P</a> c <a href="Q">Q</a>

<div class="paragraph"> </div>

 Taking this line of thought a bit further, we can see that
    strengthening the precondition or weakening the postcondition of a
    valid triple always produces another valid triple. This
    observation is captured by two <i>Rules of Consequence</i>.

<div class="paragraph"> </div>

                <a href="P'">P'</a> c <a href="Q">Q</a>
                   P -&gt;&gt; P'
<hr/>
   (hoare_consequence_pre)
                <a href="P">P</a> c <a href="Q">Q</a>

<div class="paragraph"> </div>

                <a href="P">P</a> c <a href="Q'">Q'</a>
                  Q' -&gt;&gt; Q
<hr/>
    (hoare_consequence_post)
                <a href="P">P</a> c <a href="Q">Q</a>

<div class="paragraph"> </div>

 Here are the formal versions: 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Theorem</span> <a id="hoare_consequence_pre" class="idref" href="#hoare_consequence_pre"><span class="id" title="lemma">hoare_consequence_pre</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">∀</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a id="P:66" class="idref" href="#P:66"><span class="id" title="binder">P</span></a> <a id="P':67" class="idref" href="#P':67"><span class="id" title="binder">P'</span></a> <a id="Q:68" class="idref" href="#Q:68"><span class="id" title="binder">Q</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#Assertion"><span class="id" title="definition">Assertion</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a> <a id="c:69" class="idref" href="#c:69"><span class="id" title="binder">c</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Hoare.html#P':67"><span class="id" title="variable">P'</span></a><a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">}}</span></a> <a class="idref" href="PLF.Hoare.html#c:69"><span class="id" title="variable">c</span></a> <a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Hoare.html#Q:68"><span class="id" title="variable">Q</span></a><a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">}}</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#P:66"><span class="id" title="variable">P</span></a> <a class="idref" href="PLF.Hoare.html#::hoare_spec_scope:x_'-&gt;&gt;'_x"><span class="id" title="notation">-&gt;&gt;</span></a> <a class="idref" href="PLF.Hoare.html#P':67"><span class="id" title="variable">P'</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Hoare.html#P:66"><span class="id" title="variable">P</span></a><a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">}}</span></a> <a class="idref" href="PLF.Hoare.html#c:69"><span class="id" title="variable">c</span></a> <a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Hoare.html#Q:68"><span class="id" title="variable">Q</span></a><a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">}}</span></a>.<br/>
<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Proof</span></a>.<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">unfold</span></a> <a class="idref" href="PLF.Hoare.html#valid_hoare_triple"><span class="id" title="definition">valid_hoare_triple</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">,</span></a> "-&gt;&gt;".<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">intros</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">P</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">P'</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Q</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">c</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Hhoare</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Himp</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">st</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">st'</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Heval</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Hpre</span></a>.<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">apply</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Hhoare</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">with</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">st</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:=</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">st</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">-</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">assumption</span></a>.<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">-</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">apply</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Himp</span></a>. <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">assumption</span></a>.<br/>
<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Qed</span></a>.<br/>

<br/>
<span class="id" title="keyword">Theorem</span> <a id="hoare_consequence_post" class="idref" href="#hoare_consequence_post"><span class="id" title="lemma">hoare_consequence_post</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">∀</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a id="P:70" class="idref" href="#P:70"><span class="id" title="binder">P</span></a> <a id="Q:71" class="idref" href="#Q:71"><span class="id" title="binder">Q</span></a> <a id="Q':72" class="idref" href="#Q':72"><span class="id" title="binder">Q'</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#Assertion"><span class="id" title="definition">Assertion</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a> <a id="c:73" class="idref" href="#c:73"><span class="id" title="binder">c</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Hoare.html#P:70"><span class="id" title="variable">P</span></a><a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">}}</span></a> <a class="idref" href="PLF.Hoare.html#c:73"><span class="id" title="variable">c</span></a> <a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Hoare.html#Q':72"><span class="id" title="variable">Q'</span></a><a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">}}</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#Q':72"><span class="id" title="variable">Q'</span></a> <a class="idref" href="PLF.Hoare.html#::hoare_spec_scope:x_'-&gt;&gt;'_x"><span class="id" title="notation">-&gt;&gt;</span></a> <a class="idref" href="PLF.Hoare.html#Q:71"><span class="id" title="variable">Q</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Hoare.html#P:70"><span class="id" title="variable">P</span></a><a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">}}</span></a> <a class="idref" href="PLF.Hoare.html#c:73"><span class="id" title="variable">c</span></a> <a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Hoare.html#Q:71"><span class="id" title="variable">Q</span></a><a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">}}</span></a>.<br/>
<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Proof</span></a>.<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">unfold</span></a> <a class="idref" href="PLF.Hoare.html#valid_hoare_triple"><span class="id" title="definition">valid_hoare_triple</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">,</span></a> "-&gt;&gt;".<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">intros</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">P</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Q</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Q'</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">c</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Hhoare</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Himp</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">st</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">st'</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Heval</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Hpre</span></a>.<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">apply</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Himp</span></a>.<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">apply</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Hhoare</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">with</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">st</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:=</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">st</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">-</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">assumption</span></a>.<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">-</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">assumption</span></a>.<br/>
<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Qed</span></a>.<br/>

<br/>
</div>

<div class="doc">
For example, we can use the first consequence rule like this:

<div class="paragraph"> </div>

    <a href=" True "> True </a> -&gt;&gt;
    <a href=" (X = 1) [X |-> 1] "> (X = 1) [X |-> 1] </a>
      X := 1
    <a href=" X = 1 "> X = 1 </a>

<div class="paragraph"> </div>

    Or, formally... 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Example</span> <a id="hoare_asgn_example1" class="idref" href="#hoare_asgn_example1"><span class="id" title="definition">hoare_asgn_example1</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Hoare.html#:assn:assertion_scope:'True'"><span class="id" title="notation">True</span></a><a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">}}</span></a> <a class="idref" href="PLF.Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="PLF.Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">1</span></a> <a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="PLF.Hoare.html#fa2b95bfba529b45357b44654fbd9bee"><span class="id" title="notation">=</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">1</span></a><a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">}}</span></a>.<br/>
<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Proof</span></a>.<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">eapply</span></a> <a class="idref" href="PLF.Hoare.html#hoare_consequence_pre"><span class="id" title="lemma">hoare_consequence_pre</span></a>.<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">-</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">apply</span></a> <a class="idref" href="PLF.Hoare.html#hoare_asgn"><span class="id" title="lemma">hoare_asgn</span></a>.<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">-</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">unfold</span></a> "-&gt;&gt;"<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">,</span></a> <a class="idref" href="PLF.Hoare.html#assertion_sub"><span class="id" title="definition">assertion_sub</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">,</span></a> <a class="idref" href="PLF.Maps.html#t_update"><span class="id" title="definition">t_update</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">;</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">simpl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">intros</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">st</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">_</span></a>. <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">reflexivity</span></a>.<br/>
<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Qed</span></a>.<br/>

<br/>
</div>

<div class="doc">
We can also use it to prove the example mentioned earlier.

<div class="paragraph"> </div>

    <a href=" X < 4 "> X < 4 </a> -&gt;&gt;
    <a href=" (X < 5)[X |-> X + 1] "> (X < 5)[X |-> X + 1] </a>
      X := X + 1
    <a href=" X < 5 "> X < 5 </a>

<div class="paragraph"> </div>

   Or, formally ... 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Example</span> <a id="assertion_sub_example2" class="idref" href="#assertion_sub_example2"><span class="id" title="definition">assertion_sub_example2</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="PLF.Hoare.html#:assn:assertion_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">4</span></a><a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">}}</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="PLF.Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <a class="idref" href="PLF.Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="PLF.Imp.html#ad27fd091d9c8494ce7e5135135d19a8"><span class="id" title="notation">+</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">1</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="PLF.Hoare.html#:assn:assertion_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">5</span></a><a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">}}</span></a>.<br/>
<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Proof</span></a>.<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">eapply</span></a> <a class="idref" href="PLF.Hoare.html#hoare_consequence_pre"><span class="id" title="lemma">hoare_consequence_pre</span></a>.<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">-</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">apply</span></a> <a class="idref" href="PLF.Hoare.html#hoare_asgn"><span class="id" title="lemma">hoare_asgn</span></a>.<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">-</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">unfold</span></a> "-&gt;&gt;"<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">,</span></a> <a class="idref" href="PLF.Hoare.html#assertion_sub"><span class="id" title="definition">assertion_sub</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">,</span></a> <a class="idref" href="PLF.Maps.html#t_update"><span class="id" title="definition">t_update</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">intros</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">st</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">H</span></a>. <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">simpl</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">in</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">×</span></a>. <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">lia</span></a>.<br/>
<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Qed</span></a>.<br/>

<br/>
</div>

<div class="doc">
Finally, here is a combined rule of consequence that allows us to
    vary both the precondition and the postcondition.

<div class="paragraph"> </div>

                <a href="P'">P'</a> c <a href="Q'">Q'</a>
                   P -&gt;&gt; P'
                   Q' -&gt;&gt; Q
<hr/>
   (hoare_consequence)
                <a href="P">P</a> c <a href="Q">Q</a>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Theorem</span> <a id="hoare_consequence" class="idref" href="#hoare_consequence"><span class="id" title="lemma">hoare_consequence</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">∀</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a id="P:74" class="idref" href="#P:74"><span class="id" title="binder">P</span></a> <a id="P':75" class="idref" href="#P':75"><span class="id" title="binder">P'</span></a> <a id="Q:76" class="idref" href="#Q:76"><span class="id" title="binder">Q</span></a> <a id="Q':77" class="idref" href="#Q':77"><span class="id" title="binder">Q'</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#Assertion"><span class="id" title="definition">Assertion</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a> <a id="c:78" class="idref" href="#c:78"><span class="id" title="binder">c</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Hoare.html#P':75"><span class="id" title="variable">P'</span></a><a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">}}</span></a> <a class="idref" href="PLF.Hoare.html#c:78"><span class="id" title="variable">c</span></a> <a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Hoare.html#Q':77"><span class="id" title="variable">Q'</span></a><a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">}}</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#P:74"><span class="id" title="variable">P</span></a> <a class="idref" href="PLF.Hoare.html#::hoare_spec_scope:x_'-&gt;&gt;'_x"><span class="id" title="notation">-&gt;&gt;</span></a> <a class="idref" href="PLF.Hoare.html#P':75"><span class="id" title="variable">P'</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#Q':77"><span class="id" title="variable">Q'</span></a> <a class="idref" href="PLF.Hoare.html#::hoare_spec_scope:x_'-&gt;&gt;'_x"><span class="id" title="notation">-&gt;&gt;</span></a> <a class="idref" href="PLF.Hoare.html#Q:76"><span class="id" title="variable">Q</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Hoare.html#P:74"><span class="id" title="variable">P</span></a><a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">}}</span></a> <a class="idref" href="PLF.Hoare.html#c:78"><span class="id" title="variable">c</span></a> <a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Hoare.html#Q:76"><span class="id" title="variable">Q</span></a><a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">}}</span></a>.<br/>
<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Proof</span></a>.<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">intros</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">P</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">P'</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Q</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Q'</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">c</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Htriple</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Hpre</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Hpost</span></a>.<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">apply</span></a> <a class="idref" href="PLF.Hoare.html#hoare_consequence_pre"><span class="id" title="lemma">hoare_consequence_pre</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">with</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">P'</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:=</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">P'</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">-</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">apply</span></a> <a class="idref" href="PLF.Hoare.html#hoare_consequence_post"><span class="id" title="lemma">hoare_consequence_post</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">with</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Q'</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:=</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Q'</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">);</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">assumption</span></a>.<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">-</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">assumption</span></a>.<br/>
<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Qed</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab68"></a><h2 class="section">Automation</h2>

<div class="paragraph"> </div>

 Many of the proofs we have done so far with Hoare triples can be
    streamlined using the automation techniques that we introduced in
    the <span class="inlinecode"><span class="id" title="var">Auto</span></span> chapter of <i>Logical Foundations</i>.

<div class="paragraph"> </div>

    Recall that the <span class="inlinecode"><span class="id" title="tactic">auto</span></span> tactic can be told to <span class="inlinecode"><span class="id" title="tactic">unfold</span></span> definitions
    as part of its proof search.  Let's give it that hint for the
    definitions and coercions we're using: 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Hint Unfold</span> <a class="idref" href="PLF.Hoare.html#assert_implies"><span class="id" title="definition">assert_implies</span></a> <a class="idref" href="PLF.Hoare.html#assertion_sub"><span class="id" title="definition">assertion_sub</span></a> <a class="idref" href="PLF.Maps.html#t_update"><span class="id" title="definition">t_update</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">core</span></a>.<br/>
<span class="id" title="keyword">Hint Unfold</span> <a class="idref" href="PLF.Hoare.html#valid_hoare_triple"><span class="id" title="definition">valid_hoare_triple</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">core</span></a>.<br/>
<span class="id" title="keyword">Hint Unfold</span> <a class="idref" href="PLF.Hoare.html#assert_of_Prop"><span class="id" title="definition">assert_of_Prop</span></a> <a class="idref" href="PLF.Hoare.html#Aexp_of_nat"><span class="id" title="definition">Aexp_of_nat</span></a> <a class="idref" href="PLF.Hoare.html#Aexp_of_aexp"><span class="id" title="definition">Aexp_of_aexp</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">core</span></a>.<br/>

<br/>
</div>

<div class="doc">
Also recall that <span class="inlinecode"><span class="id" title="tactic">auto</span></span> will search for a proof involving <span class="inlinecode"><span class="id" title="tactic">intros</span></span>
    and <span class="inlinecode"><span class="id" title="tactic">apply</span></span>.  By default, the theorems that it will apply include
    any of the local hypotheses, as well as theorems in a core
    database. 
<div class="paragraph"> </div>

 The proof of <span class="inlinecode"><span class="id" title="var">hoare_consequence_pre</span></span>, repeated below, looks
    like an opportune place for such automation, because all it does
    is <span class="inlinecode"><span class="id" title="tactic">unfold</span></span>, <span class="inlinecode"><span class="id" title="tactic">intros</span></span>, and <span class="inlinecode"><span class="id" title="tactic">apply</span></span>.  (It uses <span class="inlinecode"><span class="id" title="tactic">assumption</span></span>, too,
    but that's just application of a hypothesis.) 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Theorem</span> <a id="hoare_consequence_pre'" class="idref" href="#hoare_consequence_pre'"><span class="id" title="lemma">hoare_consequence_pre'</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">∀</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a id="P:79" class="idref" href="#P:79"><span class="id" title="binder">P</span></a> <a id="P':80" class="idref" href="#P':80"><span class="id" title="binder">P'</span></a> <a id="Q:81" class="idref" href="#Q:81"><span class="id" title="binder">Q</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#Assertion"><span class="id" title="definition">Assertion</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a> <a id="c:82" class="idref" href="#c:82"><span class="id" title="binder">c</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Hoare.html#P':80"><span class="id" title="variable">P'</span></a><a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">}}</span></a> <a class="idref" href="PLF.Hoare.html#c:82"><span class="id" title="variable">c</span></a> <a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Hoare.html#Q:81"><span class="id" title="variable">Q</span></a><a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">}}</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#P:79"><span class="id" title="variable">P</span></a> <a class="idref" href="PLF.Hoare.html#::hoare_spec_scope:x_'-&gt;&gt;'_x"><span class="id" title="notation">-&gt;&gt;</span></a> <a class="idref" href="PLF.Hoare.html#P':80"><span class="id" title="variable">P'</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Hoare.html#P:79"><span class="id" title="variable">P</span></a><a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">}}</span></a> <a class="idref" href="PLF.Hoare.html#c:82"><span class="id" title="variable">c</span></a> <a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Hoare.html#Q:81"><span class="id" title="variable">Q</span></a><a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">}}</span></a>.<br/>
<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Proof</span></a>.<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">unfold</span></a> <a class="idref" href="PLF.Hoare.html#valid_hoare_triple"><span class="id" title="definition">valid_hoare_triple</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">,</span></a> "-&gt;&gt;".<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">intros</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">P</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">P'</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Q</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">c</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Hhoare</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Himp</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">st</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">st'</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Heval</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Hpre</span></a>.<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">apply</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Hhoare</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">with</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">st</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:=</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">st</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">-</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">assumption</span></a>.<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">-</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">apply</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Himp</span></a>. <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">assumption</span></a>.<br/>
<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Qed</span></a>.<br/>

<br/>
</div>

<div class="doc">
Merely using <span class="inlinecode"><span class="id" title="tactic">auto</span></span>, though, doesn't complete the proof. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Theorem</span> <a id="hoare_consequence_pre''" class="idref" href="#hoare_consequence_pre''"><span class="id" title="lemma">hoare_consequence_pre''</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">∀</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a id="P:83" class="idref" href="#P:83"><span class="id" title="binder">P</span></a> <a id="P':84" class="idref" href="#P':84"><span class="id" title="binder">P'</span></a> <a id="Q:85" class="idref" href="#Q:85"><span class="id" title="binder">Q</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#Assertion"><span class="id" title="definition">Assertion</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a> <a id="c:86" class="idref" href="#c:86"><span class="id" title="binder">c</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Hoare.html#P':84"><span class="id" title="variable">P'</span></a><a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">}}</span></a> <a class="idref" href="PLF.Hoare.html#c:86"><span class="id" title="variable">c</span></a> <a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Hoare.html#Q:85"><span class="id" title="variable">Q</span></a><a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">}}</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#P:83"><span class="id" title="variable">P</span></a> <a class="idref" href="PLF.Hoare.html#::hoare_spec_scope:x_'-&gt;&gt;'_x"><span class="id" title="notation">-&gt;&gt;</span></a> <a class="idref" href="PLF.Hoare.html#P':84"><span class="id" title="variable">P'</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Hoare.html#P:83"><span class="id" title="variable">P</span></a><a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">}}</span></a> <a class="idref" href="PLF.Hoare.html#c:86"><span class="id" title="variable">c</span></a> <a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Hoare.html#Q:85"><span class="id" title="variable">Q</span></a><a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">}}</span></a>.<br/>
<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Proof</span></a>.<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">auto</span></a>. <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Abort</span></a>.<br/>

<br/>
</div>

<div class="doc">
The problem is the <span class="inlinecode"><span class="id" title="tactic">apply</span></span> <span class="inlinecode"><span class="id" title="var">Hhoare</span></span> <span class="inlinecode"><span class="id" title="keyword">with</span>...</span> part of the proof.  Coq
    isn't able to figure out how to instantiate <span class="inlinecode"><span class="id" title="var">st</span></span> without some help
    from us.  Recall, though, that there are versions of many tactics
    that will use <i>existential variables</i> to make progress even when
    the regular versions of those tactics would get stuck.

<div class="paragraph"> </div>

    Here, the <span class="inlinecode"><span class="id" title="tactic">eapply</span></span> tactic will introduce an existential variable
    <span class="inlinecode">?<span class="id" title="var">st</span></span> as a placeholder for <span class="inlinecode"><span class="id" title="var">st</span></span>, and <span class="inlinecode"><span class="id" title="var">eassumption</span></span> will
    instantiate <span class="inlinecode">?<span class="id" title="var">st</span></span> with <span class="inlinecode"><span class="id" title="var">st</span></span> when it discovers <span class="inlinecode"><span class="id" title="var">st</span></span> in assumption
    <span class="inlinecode"><span class="id" title="var">Heval</span></span>.  By using <span class="inlinecode"><span class="id" title="tactic">eapply</span></span> we are essentially telling Coq, "Be
    patient: The missing part is going to be filled in later in the
    proof." 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Theorem</span> <a id="hoare_consequence_pre'''" class="idref" href="#hoare_consequence_pre'''"><span class="id" title="lemma">hoare_consequence_pre'''</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">∀</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a id="P:87" class="idref" href="#P:87"><span class="id" title="binder">P</span></a> <a id="P':88" class="idref" href="#P':88"><span class="id" title="binder">P'</span></a> <a id="Q:89" class="idref" href="#Q:89"><span class="id" title="binder">Q</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#Assertion"><span class="id" title="definition">Assertion</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a> <a id="c:90" class="idref" href="#c:90"><span class="id" title="binder">c</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Hoare.html#P':88"><span class="id" title="variable">P'</span></a><a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">}}</span></a> <a class="idref" href="PLF.Hoare.html#c:90"><span class="id" title="variable">c</span></a> <a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Hoare.html#Q:89"><span class="id" title="variable">Q</span></a><a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">}}</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#P:87"><span class="id" title="variable">P</span></a> <a class="idref" href="PLF.Hoare.html#::hoare_spec_scope:x_'-&gt;&gt;'_x"><span class="id" title="notation">-&gt;&gt;</span></a> <a class="idref" href="PLF.Hoare.html#P':88"><span class="id" title="variable">P'</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Hoare.html#P:87"><span class="id" title="variable">P</span></a><a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">}}</span></a> <a class="idref" href="PLF.Hoare.html#c:90"><span class="id" title="variable">c</span></a> <a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Hoare.html#Q:89"><span class="id" title="variable">Q</span></a><a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">}}</span></a>.<br/>
<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Proof</span></a>.<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">unfold</span></a> <a class="idref" href="PLF.Hoare.html#valid_hoare_triple"><span class="id" title="definition">valid_hoare_triple</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">,</span></a> "-&gt;&gt;".<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">intros</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">P</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">P'</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Q</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">c</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Hhoare</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Himp</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">st</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">st'</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Heval</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Hpre</span></a>.<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">eapply</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Hhoare</span></a>.<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">-</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">eassumption</span></a>.<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">-</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">apply</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Himp</span></a>. <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">assumption</span></a>.<br/>
<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Qed</span></a>.<br/>

<br/>
</div>

<div class="doc">
The <span class="inlinecode"><span class="id" title="tactic">eauto</span></span> tactic will use <span class="inlinecode"><span class="id" title="tactic">eapply</span></span> as part of its proof search.
    So, the entire proof can actually be done in just one line. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Theorem</span> <a id="hoare_consequence_pre''''" class="idref" href="#hoare_consequence_pre''''"><span class="id" title="lemma">hoare_consequence_pre''''</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">∀</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a id="P:91" class="idref" href="#P:91"><span class="id" title="binder">P</span></a> <a id="P':92" class="idref" href="#P':92"><span class="id" title="binder">P'</span></a> <a id="Q:93" class="idref" href="#Q:93"><span class="id" title="binder">Q</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#Assertion"><span class="id" title="definition">Assertion</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a> <a id="c:94" class="idref" href="#c:94"><span class="id" title="binder">c</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Hoare.html#P':92"><span class="id" title="variable">P'</span></a><a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">}}</span></a> <a class="idref" href="PLF.Hoare.html#c:94"><span class="id" title="variable">c</span></a> <a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Hoare.html#Q:93"><span class="id" title="variable">Q</span></a><a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">}}</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#P:91"><span class="id" title="variable">P</span></a> <a class="idref" href="PLF.Hoare.html#::hoare_spec_scope:x_'-&gt;&gt;'_x"><span class="id" title="notation">-&gt;&gt;</span></a> <a class="idref" href="PLF.Hoare.html#P':92"><span class="id" title="variable">P'</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Hoare.html#P:91"><span class="id" title="variable">P</span></a><a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">}}</span></a> <a class="idref" href="PLF.Hoare.html#c:94"><span class="id" title="variable">c</span></a> <a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Hoare.html#Q:93"><span class="id" title="variable">Q</span></a><a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">}}</span></a>.<br/>
<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Proof</span></a>.<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">eauto</span></a>.<br/>
<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Qed</span></a>.<br/>

<br/>
</div>

<div class="doc">
Of course, it's hard to predict that <span class="inlinecode"><span class="id" title="tactic">eauto</span></span> suffices here
    without having gone through the original proof of
    <span class="inlinecode"><span class="id" title="var">hoare_consequence_pre</span></span> to see the tactics it used. But now that
    we know <span class="inlinecode"><span class="id" title="tactic">eauto</span></span> worked there, it's a good bet that it will also
    work for <span class="inlinecode"><span class="id" title="var">hoare_consequence_post</span></span>. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Theorem</span> <a id="hoare_consequence_post'" class="idref" href="#hoare_consequence_post'"><span class="id" title="lemma">hoare_consequence_post'</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">∀</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a id="P:95" class="idref" href="#P:95"><span class="id" title="binder">P</span></a> <a id="Q:96" class="idref" href="#Q:96"><span class="id" title="binder">Q</span></a> <a id="Q':97" class="idref" href="#Q':97"><span class="id" title="binder">Q'</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#Assertion"><span class="id" title="definition">Assertion</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a> <a id="c:98" class="idref" href="#c:98"><span class="id" title="binder">c</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Hoare.html#P:95"><span class="id" title="variable">P</span></a><a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">}}</span></a> <a class="idref" href="PLF.Hoare.html#c:98"><span class="id" title="variable">c</span></a> <a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Hoare.html#Q':97"><span class="id" title="variable">Q'</span></a><a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">}}</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#Q':97"><span class="id" title="variable">Q'</span></a> <a class="idref" href="PLF.Hoare.html#::hoare_spec_scope:x_'-&gt;&gt;'_x"><span class="id" title="notation">-&gt;&gt;</span></a> <a class="idref" href="PLF.Hoare.html#Q:96"><span class="id" title="variable">Q</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Hoare.html#P:95"><span class="id" title="variable">P</span></a><a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">}}</span></a> <a class="idref" href="PLF.Hoare.html#c:98"><span class="id" title="variable">c</span></a> <a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Hoare.html#Q:96"><span class="id" title="variable">Q</span></a><a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">}}</span></a>.<br/>
<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Proof</span></a>.<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">eauto</span></a>.<br/>
<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Qed</span></a>.<br/>

<br/>
</div>

<div class="doc">
We can also use <span class="inlinecode"><span class="id" title="tactic">eapply</span></span> to streamline a
    proof (<span class="inlinecode"><span class="id" title="var">hoare_asgn_example1</span></span>), that we did earlier as an example
    of using the consequence rule: 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Example</span> <a id="hoare_asgn_example1'" class="idref" href="#hoare_asgn_example1'"><span class="id" title="definition">hoare_asgn_example1'</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Hoare.html#:assn:assertion_scope:'True'"><span class="id" title="notation">True</span></a><a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">}}</span></a> <a class="idref" href="PLF.Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="PLF.Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">1</span></a> <a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="PLF.Hoare.html#fa2b95bfba529b45357b44654fbd9bee"><span class="id" title="notation">=</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">1</span></a><a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">}}</span></a>.<br/>
<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Proof</span></a>.<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">eapply</span></a> <a class="idref" href="PLF.Hoare.html#hoare_consequence_pre"><span class="id" title="lemma">hoare_consequence_pre</span></a>. &nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">-</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">apply</span></a> <a class="idref" href="PLF.Hoare.html#hoare_asgn"><span class="id" title="lemma">hoare_asgn</span></a>.<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">-</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">unfold</span></a> "-&gt;&gt;"<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">,</span></a> <a class="idref" href="PLF.Hoare.html#assertion_sub"><span class="id" title="definition">assertion_sub</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">,</span></a> <a class="idref" href="PLF.Maps.html#t_update"><span class="id" title="definition">t_update</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">intros</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">st</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">_</span></a>. <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">simpl</span></a>. <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">reflexivity</span></a>.<br/>
<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Qed</span></a>.<br/>

<br/>
</div>

<div class="doc">
The final bullet of that proof also looks like a candidate for
    automation. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Example</span> <a id="hoare_asgn_example1''" class="idref" href="#hoare_asgn_example1''"><span class="id" title="definition">hoare_asgn_example1''</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Hoare.html#:assn:assertion_scope:'True'"><span class="id" title="notation">True</span></a><a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">}}</span></a> <a class="idref" href="PLF.Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="PLF.Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">1</span></a> <a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="PLF.Hoare.html#fa2b95bfba529b45357b44654fbd9bee"><span class="id" title="notation">=</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">1</span></a><a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">}}</span></a>.<br/>
<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Proof</span></a>.<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">eapply</span></a> <a class="idref" href="PLF.Hoare.html#hoare_consequence_pre"><span class="id" title="lemma">hoare_consequence_pre</span></a>.<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">-</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">apply</span></a> <a class="idref" href="PLF.Hoare.html#hoare_asgn"><span class="id" title="lemma">hoare_asgn</span></a>.<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">-</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">auto</span></a>.<br/>
<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Qed</span></a>.<br/>

<br/>
</div>

<div class="doc">
Now we have quite a nice proof script: it simply identifies the
    Hoare rules that need to be used and leaves the remaining
    low-level details up to Coq to figure out. 
<div class="paragraph"> </div>

 By now it might be apparent that the <i>entire</i> proof could be
    automated if we added <span class="inlinecode"><span class="id" title="var">hoare_consequence_pre</span></span> and <span class="inlinecode"><span class="id" title="var">hoare_asgn</span></span> to
    the hint database.  We won't do that in this chapter, so that we
    can get a better understanding of when and how the Hoare rules are
    used.  In the next chapter, <span class="inlinecode"><span class="id" title="var">Hoare2</span></span>, we'll dive deeper into
    automating entire proofs of Hoare triples. 
<div class="paragraph"> </div>

 The other example of using consequence that we did earlier,
    <span class="inlinecode"><span class="id" title="var">hoare_asgn_example2</span></span>, requires a little more work to automate.
    We can streamline the first line with <span class="inlinecode"><span class="id" title="tactic">eapply</span></span>, but we can't just use
    <span class="inlinecode"><span class="id" title="tactic">auto</span></span> for the final bullet, since it needs <span class="inlinecode"><span class="id" title="var">lia</span></span>. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Example</span> <a id="assertion_sub_example2'" class="idref" href="#assertion_sub_example2'"><span class="id" title="definition">assertion_sub_example2'</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="PLF.Hoare.html#:assn:assertion_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">4</span></a><a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">}}</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="PLF.Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <a class="idref" href="PLF.Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="PLF.Imp.html#ad27fd091d9c8494ce7e5135135d19a8"><span class="id" title="notation">+</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">1</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="PLF.Hoare.html#:assn:assertion_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">5</span></a><a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">}}</span></a>.<br/>
<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Proof</span></a>.<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">eapply</span></a> <a class="idref" href="PLF.Hoare.html#hoare_consequence_pre"><span class="id" title="lemma">hoare_consequence_pre</span></a>.<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">-</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">apply</span></a> <a class="idref" href="PLF.Hoare.html#hoare_asgn"><span class="id" title="lemma">hoare_asgn</span></a>.<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">-</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">auto</span></a>. &nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">unfold</span></a> "-&gt;&gt;"<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">,</span></a> <a class="idref" href="PLF.Hoare.html#assertion_sub"><span class="id" title="definition">assertion_sub</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">,</span></a> <a class="idref" href="PLF.Maps.html#t_update"><span class="id" title="definition">t_update</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">intros</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">st</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">H</span></a>. <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">simpl</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">in</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">×</span></a>. <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">lia</span></a>.<br/>
<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Qed</span></a>.<br/>

<br/>
</div>

<div class="doc">
Let's introduce our own tactic to handle both that bullet and the
    bullet from example 1: 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Ltac</span> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">assertion_auto</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">try</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">auto</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">;</span></a>  <br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">try</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">unfold</span></a> "-&gt;&gt;"<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">,</span></a> <a class="idref" href="PLF.Hoare.html#assertion_sub"><span class="id" title="definition">assertion_sub</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">,</span></a> <a class="idref" href="PLF.Maps.html#t_update"><span class="id" title="definition">t_update</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">intros</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">;</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">simpl</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">in</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">*;</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">lia</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a>. 
<br/>
<span class="id" title="keyword">Example</span> <a id="assertion_sub_example2''" class="idref" href="#assertion_sub_example2''"><span class="id" title="definition">assertion_sub_example2''</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="PLF.Hoare.html#:assn:assertion_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">4</span></a><a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">}}</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="PLF.Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <a class="idref" href="PLF.Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="PLF.Imp.html#ad27fd091d9c8494ce7e5135135d19a8"><span class="id" title="notation">+</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">1</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="PLF.Hoare.html#:assn:assertion_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">5</span></a><a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">}}</span></a>.<br/>
<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Proof</span></a>.<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">eapply</span></a> <a class="idref" href="PLF.Hoare.html#hoare_consequence_pre"><span class="id" title="lemma">hoare_consequence_pre</span></a>.<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">-</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">apply</span></a> <a class="idref" href="PLF.Hoare.html#hoare_asgn"><span class="id" title="lemma">hoare_asgn</span></a>.<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">-</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">assertion_auto</span></a>.<br/>
<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Qed</span></a>.<br/>

<br/>
<span class="id" title="keyword">Example</span> <a id="hoare_asgn_example1'''" class="idref" href="#hoare_asgn_example1'''"><span class="id" title="definition">hoare_asgn_example1'''</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Hoare.html#:assn:assertion_scope:'True'"><span class="id" title="notation">True</span></a><a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">}}</span></a> <a class="idref" href="PLF.Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="PLF.Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">1</span></a> <a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="PLF.Hoare.html#fa2b95bfba529b45357b44654fbd9bee"><span class="id" title="notation">=</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">1</span></a><a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">}}</span></a>.<br/>
<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Proof</span></a>.<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">eapply</span></a> <a class="idref" href="PLF.Hoare.html#hoare_consequence_pre"><span class="id" title="lemma">hoare_consequence_pre</span></a>.<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">-</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">apply</span></a> <a class="idref" href="PLF.Hoare.html#hoare_asgn"><span class="id" title="lemma">hoare_asgn</span></a>.<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">-</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">assertion_auto</span></a>.<br/>
<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Qed</span></a>.<br/>

<br/>
</div>

<div class="doc">
Again, we have quite a nice proof script.  All the low-level
    details of proofs about assertions have been taken care of
    automatically. Of course, <span class="inlinecode"><span class="id" title="var">assertion_auto</span></span> isn't able to prove
    everything we could possibly want to know about assertions --
    there's no magic here! But it's good enough so far. 
<div class="paragraph"> </div>

<a id="lab69"></a><h4 class="section">Exercise: 2 stars, standard (hoare_asgn_examples_2)</h4>


<div class="paragraph"> </div>

    Prove these triples.  Try to make your proof scripts nicely
    automated by following the examples above. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Example</span> <a id="assertion_sub_ex1'" class="idref" href="#assertion_sub_ex1'"><span class="id" title="definition">assertion_sub_ex1'</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">{{</span></a> <a class="idref" href="PLF.Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="PLF.Hoare.html#f9e963a42ba303abb7dc8a66eececf51"><span class="id" title="notation">≤</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">5</span></a> <a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">}}</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="PLF.Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">2</span></a> <a class="idref" href="PLF.Imp.html#a73c7b35e67094dc8ae672f3a93da066"><span class="id" title="notation">×</span></a> <a class="idref" href="PLF.Imp.html#X"><span class="id" title="definition">X</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">{{</span></a> <a class="idref" href="PLF.Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="PLF.Hoare.html#f9e963a42ba303abb7dc8a66eececf51"><span class="id" title="notation">≤</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">10</span></a> <a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">}}</span></a>.<br/>
<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Proof</span></a>.<br/>
 <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Admitted</span></a>.<br/>

<br/>
<span class="id" title="keyword">Example</span> <a id="assertion_sub_ex2'" class="idref" href="#assertion_sub_ex2'"><span class="id" title="definition">assertion_sub_ex2'</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">{{</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">0</span></a> <a class="idref" href="PLF.Hoare.html#f9e963a42ba303abb7dc8a66eececf51"><span class="id" title="notation">≤</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">3</span></a> <a class="idref" href="PLF.Hoare.html#d437198920d8d757e4e6b60d46358c8a"><span class="id" title="notation">∧</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">3</span></a> <a class="idref" href="PLF.Hoare.html#f9e963a42ba303abb7dc8a66eececf51"><span class="id" title="notation">≤</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">5</span></a> <a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">}}</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="PLF.Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">3</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">{{</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">0</span></a> <a class="idref" href="PLF.Hoare.html#f9e963a42ba303abb7dc8a66eececf51"><span class="id" title="notation">≤</span></a> <a class="idref" href="PLF.Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="PLF.Hoare.html#d437198920d8d757e4e6b60d46358c8a"><span class="id" title="notation">∧</span></a> <a class="idref" href="PLF.Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="PLF.Hoare.html#f9e963a42ba303abb7dc8a66eececf51"><span class="id" title="notation">≤</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">5</span></a> <a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">}}</span></a>.<br/>
<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Proof</span></a>.<br/>
 <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Admitted</span></a>.<br/>

<br/>
</div>

<div class="doc">
<font size=-2>&#9744;</font> 
</div>
<div class="code">

<br/>
</div>

<div class="doc">
<a id="lab70"></a><h2 class="section">Sequencing + Assignment</h2>

<div class="paragraph"> </div>

 Here's an example of a program involving both sequencing and
    assignment.  Note the use of <span class="inlinecode"><span class="id" title="var">hoare_seq</span></span> in conjunction with
    <span class="inlinecode"><span class="id" title="var">hoare_consequence_pre</span></span> and the <span class="inlinecode"><span class="id" title="tactic">eapply</span></span> tactic. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Example</span> <a id="hoare_asgn_example3" class="idref" href="#hoare_asgn_example3"><span class="id" title="definition">hoare_asgn_example3</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">∀</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a id="a:99" class="idref" href="#a:99"><span class="id" title="binder">a</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a><a class="idref" href="PLF.Imp.html#aexp"><span class="id" title="inductive">aexp</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a id="n:100" class="idref" href="#n:100"><span class="id" title="binder">n</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Hoare.html#a:99"><span class="id" title="variable">a</span></a> <a class="idref" href="PLF.Hoare.html#fa2b95bfba529b45357b44654fbd9bee"><span class="id" title="notation">=</span></a> <a class="idref" href="PLF.Hoare.html#n:100"><span class="id" title="variable">n</span></a><a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">}}</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="PLF.Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <a class="idref" href="PLF.Hoare.html#a:99"><span class="id" title="variable">a</span></a><a class="idref" href="PLF.Imp.html#313afe74ec81f2da17d8e7bca3b042e7"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Imp.html#:com:com_scope:'skip'"><span class="id" title="notation">skip</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="PLF.Hoare.html#fa2b95bfba529b45357b44654fbd9bee"><span class="id" title="notation">=</span></a> <a class="idref" href="PLF.Hoare.html#n:100"><span class="id" title="variable">n</span></a><a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">}}</span></a>.<br/>
<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Proof</span></a>.<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">intros</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">a</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">n</span></a>. <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">eapply</span></a> <a class="idref" href="PLF.Hoare.html#hoare_seq"><span class="id" title="lemma">hoare_seq</span></a>.<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">-</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">apply</span></a> <a class="idref" href="PLF.Hoare.html#hoare_skip"><span class="id" title="lemma">hoare_skip</span></a>.<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">-</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">eapply</span></a> <a class="idref" href="PLF.Hoare.html#hoare_consequence_pre"><span class="id" title="lemma">hoare_consequence_pre</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">+</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">apply</span></a> <a class="idref" href="PLF.Hoare.html#hoare_asgn"><span class="id" title="lemma">hoare_asgn</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">+</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">assertion_auto</span></a>.<br/>
<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Qed</span></a>.<br/>

<br/>
</div>

<div class="doc">
Informally, a nice way of displaying a proof using the sequencing
    rule is as a "decorated program" where the intermediate assertion
    <span class="inlinecode"><span class="id" title="var">Q</span></span> is written between <span class="inlinecode"><span class="id" title="var">c1</span></span> and <span class="inlinecode"><span class="id" title="var">c2</span></span>:

<div class="paragraph"> </div>

  <a href=" a = n "> a = n </a>
     X := a
              <a href=" X = n "> X = n </a>;    &lt;--- decoration for Q
     skip
  <a href=" X = n "> X = n </a>
 We'll come back to the idea of decorated programs in much more
    detail in the next chapter. 
<div class="paragraph"> </div>

<a id="lab71"></a><h4 class="section">Exercise: 2 stars, standard, especially useful (hoare_asgn_example4)</h4>


<div class="paragraph"> </div>

    Translate this "decorated program" into a formal proof:

<div class="paragraph"> </div>

                   <a href=" True "> True </a> -&gt;&gt;
                   <a href=" 1 = 1 "> 1 = 1 </a>
    X := 1
                   <a href=" X = 1 "> X = 1 </a> -&gt;&gt;
                   <a href=" X = 1 /\ 2 = 2 "> X = 1 /\ 2 = 2 </a>;
    Y := 2
                   <a href=" X = 1 /\ Y = 2 "> X = 1 /\ Y = 2 </a>

<div class="paragraph"> </div>

   Note the use of "<span class="inlinecode">-&gt;&gt;</span>" decorations, each marking a use of
   <span class="inlinecode"><span class="id" title="var">hoare_consequence_pre</span></span>.

<div class="paragraph"> </div>

   We've started you off by providing a use of <span class="inlinecode"><span class="id" title="var">hoare_seq</span></span> that
   explicitly identifies <span class="inlinecode"><span class="id" title="var">X</span></span> <span class="inlinecode">=</span> <span class="inlinecode">1</span> as the intermediate assertion. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Example</span> <a id="hoare_asgn_example4" class="idref" href="#hoare_asgn_example4"><span class="id" title="definition">hoare_asgn_example4</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">{{</span></a> <a class="idref" href="PLF.Hoare.html#:assn:assertion_scope:'True'"><span class="id" title="notation">True</span></a> <a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">}}</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="PLF.Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">1</span></a><a class="idref" href="PLF.Imp.html#313afe74ec81f2da17d8e7bca3b042e7"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Imp.html#Y"><span class="id" title="definition">Y</span></a> <a class="idref" href="PLF.Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">2</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">{{</span></a> <a class="idref" href="PLF.Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="PLF.Hoare.html#fa2b95bfba529b45357b44654fbd9bee"><span class="id" title="notation">=</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">1</span></a> <a class="idref" href="PLF.Hoare.html#d437198920d8d757e4e6b60d46358c8a"><span class="id" title="notation">∧</span></a> <a class="idref" href="PLF.Imp.html#Y"><span class="id" title="definition">Y</span></a> <a class="idref" href="PLF.Hoare.html#fa2b95bfba529b45357b44654fbd9bee"><span class="id" title="notation">=</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">2</span></a> <a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">}}</span></a>.<br/>
<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Proof</span></a>.<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">eapply</span></a> <a class="idref" href="PLF.Hoare.html#hoare_seq"><span class="id" title="lemma">hoare_seq</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">with</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Q</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:=</span></a> <a class="idref" href="PLF.Hoare.html#49b47699af62a6365326c407ef2ff815"><span class="id" title="notation">{{</span></a> <a class="idref" href="PLF.Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="PLF.Hoare.html#fa2b95bfba529b45357b44654fbd9bee"><span class="id" title="notation">=</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">1</span></a> <a class="idref" href="PLF.Hoare.html#49b47699af62a6365326c407ef2ff815"><span class="id" title="notation">}}</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a>.<br/>
 <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Admitted</span></a>.<br/>
</div>

<div class="doc">
<font size=-2>&#9744;</font> 
<div class="paragraph"> </div>

<a id="lab72"></a><h4 class="section">Exercise: 3 stars, standard (swap_exercise)</h4>


<div class="paragraph"> </div>

    Write an Imp program <span class="inlinecode"><span class="id" title="var">c</span></span> that swaps the values of <span class="inlinecode"><span class="id" title="var">X</span></span> and <span class="inlinecode"><span class="id" title="var">Y</span></span> and
    show that it satisfies the following specification:

<div class="paragraph"> </div>

      <a href="X <= Y">X <= Y</a> c <a href="Y <= X">Y <= X</a>

<div class="paragraph"> </div>

    Your proof should not need to use <span class="inlinecode"><span class="id" title="tactic">unfold</span></span> <span class="inlinecode"><span class="id" title="var">valid_hoare_triple</span></span>.

<div class="paragraph"> </div>

    Hints:
<ul class="doclist">
<li> Remember that Imp commands need to be enclosed in &lt;{...}&gt;
         brackets.

</li>
<li> Remember that the assignment rule works best when it's
         applied "back to front," from the postcondition to the
         precondition.  So your proof will want to start at the end
         and work back to the beginning of your program.

</li>
<li> Remember that <span class="inlinecode"><span class="id" title="tactic">eapply</span></span> is your friend.)  

</li>
</ul>
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a id="swap_program" class="idref" href="#swap_program"><span class="id" title="definition">swap_program</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Imp.html#com"><span class="id" title="inductive">com</span></a><br/>
&nbsp;&nbsp;. <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Admitted</span></a>.<br/>

<br/>
<span class="id" title="keyword">Theorem</span> <a id="swap_exercise" class="idref" href="#swap_exercise"><span class="id" title="lemma">swap_exercise</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="PLF.Hoare.html#f9e963a42ba303abb7dc8a66eececf51"><span class="id" title="notation">≤</span></a> <a class="idref" href="PLF.Imp.html#Y"><span class="id" title="definition">Y</span></a><a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">}}</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#swap_program"><span class="id" title="axiom">swap_program</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Imp.html#Y"><span class="id" title="definition">Y</span></a> <a class="idref" href="PLF.Hoare.html#f9e963a42ba303abb7dc8a66eececf51"><span class="id" title="notation">≤</span></a> <a class="idref" href="PLF.Imp.html#X"><span class="id" title="definition">X</span></a><a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">}}</span></a>.<br/>
<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Proof</span></a>.<br/>
 <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Admitted</span></a>.<br/>
</div>

<div class="doc">
<font size=-2>&#9744;</font> 
<div class="paragraph"> </div>

<a id="lab73"></a><h4 class="section">Exercise: 4 stars, advanced (invalid_triple)</h4>


<div class="paragraph"> </div>

    Show that

<div class="paragraph"> </div>

    <a href=" a = n "> a = n </a> X := 3; Y := a <a href=" Y = n "> Y = n </a>

<div class="paragraph"> </div>

    is not a valid Hoare triple for some choices of <span class="inlinecode"><span class="id" title="var">a</span></span> and <span class="inlinecode"><span class="id" title="var">n</span></span>.

<div class="paragraph"> </div>

    Conceptual hint: Invent a particular <span class="inlinecode"><span class="id" title="var">a</span></span> and <span class="inlinecode"><span class="id" title="var">n</span></span> for which the
    triple in invalid, then use those to complete the proof.

<div class="paragraph"> </div>

    Technical hint: Hypothesis <span class="inlinecode"><span class="id" title="var">H</span></span> below begins <span class="inlinecode"><span class="id" title="keyword">∀</span></span> <span class="inlinecode"><span class="id" title="var">a</span></span> <span class="inlinecode"><span class="id" title="var">n</span>,</span> <span class="inlinecode">...</span>.
    You'll want to instantiate that with the particular <span class="inlinecode"><span class="id" title="var">a</span></span> and <span class="inlinecode"><span class="id" title="var">n</span></span>
    you've invented.  You can do that with <span class="inlinecode"><span class="id" title="tactic">assert</span></span> and <span class="inlinecode"><span class="id" title="tactic">apply</span></span>, but
    you may remember (from <span class="inlinecode"><span class="id" title="var">Tactics.v</span></span> in Logical Foundations)
    that Coq offers an even easier tactic: <span class="inlinecode"><span class="id" title="tactic">specialize</span></span>.  If you write

<div class="paragraph"> </div>

       specialize H with (a := your_a) (n := your_n)

<div class="paragraph"> </div>

    the hypothesis will be instantiated on <span class="inlinecode"><span class="id" title="var">your_a</span></span> and <span class="inlinecode"><span class="id" title="var">your_n</span></span>.

<div class="paragraph"> </div>

    Having chosen your <span class="inlinecode"><span class="id" title="var">a</span></span> and <span class="inlinecode"><span class="id" title="var">n</span></span>, proceed as follows:
<ul class="doclist">
<li> Use the (assumed) validity of the given hoare triple to derive
       a state <span class="inlinecode"><span class="id" title="var">st'</span></span> in which <span class="inlinecode"><span class="id" title="var">Y</span></span> has some value <span class="inlinecode"><span class="id" title="var">y1</span></span>

</li>
<li> Use the evaluation rules (<span class="inlinecode"><span class="id" title="var">E_Seq</span></span> and <span class="inlinecode"><span class="id" title="var">E_Asgn</span></span>) to show that
       <span class="inlinecode"><span class="id" title="var">Y</span></span> has a <i>different</i> value <span class="inlinecode"><span class="id" title="var">y2</span></span> in the same final state <span class="inlinecode"><span class="id" title="var">st'</span></span>

</li>
<li> Since <span class="inlinecode"><span class="id" title="var">y1</span></span> and <span class="inlinecode"><span class="id" title="var">y2</span></span> are both equal to <span class="inlinecode"><span class="id" title="var">st'</span></span> <span class="inlinecode"><span class="id" title="var">Y</span></span>, they are equal
       to each other. But we chose them to be different, so this is a
       contradiction, which finishes the proof.

</li>
</ul>
 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Theorem</span> <a id="invalid_triple" class="idref" href="#invalid_triple"><span class="id" title="lemma">invalid_triple</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">∀</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a id="a:101" class="idref" href="#a:101"><span class="id" title="binder">a</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Imp.html#aexp"><span class="id" title="inductive">aexp</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a id="n:102" class="idref" href="#n:102"><span class="id" title="binder">n</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">{{</span></a> <a class="idref" href="PLF.Hoare.html#a:101"><span class="id" title="variable">a</span></a> <a class="idref" href="PLF.Hoare.html#fa2b95bfba529b45357b44654fbd9bee"><span class="id" title="notation">=</span></a> <a class="idref" href="PLF.Hoare.html#n:102"><span class="id" title="variable">n</span></a> <a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">}}</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="PLF.Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">3</span></a><a class="idref" href="PLF.Imp.html#313afe74ec81f2da17d8e7bca3b042e7"><span class="id" title="notation">;</span></a> <a class="idref" href="PLF.Imp.html#Y"><span class="id" title="definition">Y</span></a> <a class="idref" href="PLF.Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <a class="idref" href="PLF.Hoare.html#a:101"><span class="id" title="variable">a</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">{{</span></a> <a class="idref" href="PLF.Imp.html#Y"><span class="id" title="definition">Y</span></a> <a class="idref" href="PLF.Hoare.html#fa2b95bfba529b45357b44654fbd9bee"><span class="id" title="notation">=</span></a> <a class="idref" href="PLF.Hoare.html#n:102"><span class="id" title="variable">n</span></a> <a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">}}</span></a>.<br/>
<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Proof</span></a>.<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">unfold</span></a> <a class="idref" href="PLF.Hoare.html#valid_hoare_triple"><span class="id" title="definition">valid_hoare_triple</span></a>.<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">intros</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">H</span></a>.<br/>
 <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Admitted</span></a>.<br/>
</div>

<div class="doc">
<font size=-2>&#9744;</font> 
</div>
<div class="code">

<br/>
</div>

<div class="doc">
<a id="lab74"></a><h2 class="section">Conditionals</h2>

<div class="paragraph"> </div>

 What sort of rule do we want for reasoning about conditional
    commands?

<div class="paragraph"> </div>

    Certainly, if the same assertion <span class="inlinecode"><span class="id" title="var">Q</span></span> holds after executing
    either of the branches, then it holds after the whole conditional.
    So we might be tempted to write:

<div class="paragraph"> </div>

              <a href="P">P</a> c1 <a href="Q">Q</a>
              <a href="P">P</a> c2 <a href="Q">Q</a>
<hr/>

      <a href="P">P</a> if b then c1 else c2 <a href="Q">Q</a>

<div class="paragraph"> </div>

 However, this is rather weak. For example, using this rule,
   we cannot show

<div class="paragraph"> </div>

     <a href=" True "> True </a>
       if X = 0
         then Y := 2
         else Y := X + 1
       end
     <a href=" X <= Y "> X <= Y </a>

<div class="paragraph"> </div>

   since the rule tells us nothing about the state in which the
   assignments take place in the "then" and "else" branches. 
<div class="paragraph"> </div>

 Fortunately, we can say something more precise.  In the
    "then" branch, we know that the boolean expression <span class="inlinecode"><span class="id" title="var">b</span></span> evaluates to
    <span class="inlinecode"><span class="id" title="var">true</span></span>, and in the "else" branch, we know it evaluates to <span class="inlinecode"><span class="id" title="var">false</span></span>.
    Making this information available in the premises of the rule gives
    us more information to work with when reasoning about the behavior
    of <span class="inlinecode"><span class="id" title="var">c1</span></span> and <span class="inlinecode"><span class="id" title="var">c2</span></span> (i.e., the reasons why they establish the
    postcondition <span class="inlinecode"><span class="id" title="var">Q</span></span>).

<div class="paragraph"> </div>

              <a href="P /\   b">P /\   b</a> c1 <a href="Q">Q</a>
              <a href="P /\ ~ b">P /\ ~ b</a> c2 <a href="Q">Q</a>
<hr/>
  (hoare_if)
      <a href="P">P</a> if b then c1 else c2 end <a href="Q">Q</a>

<div class="paragraph"> </div>

 To interpret this rule formally, we need to do a little work.
    Strictly speaking, the assertion we've written, <span class="inlinecode"><span class="id" title="var">P</span></span> <span class="inlinecode">∧</span> <span class="inlinecode"><span class="id" title="var">b</span></span>, is the
    conjunction of an assertion and a boolean expression -- i.e., it
    doesn't typecheck.  To fix this, we need a way of formally
    "lifting" any bexp <span class="inlinecode"><span class="id" title="var">b</span></span> to an assertion.  We'll write <span class="inlinecode"><span class="id" title="var">bassertion</span></span> <span class="inlinecode"><span class="id" title="var">b</span></span> for
    the assertion "the boolean expression <span class="inlinecode"><span class="id" title="var">b</span></span> evaluates to <span class="inlinecode"><span class="id" title="var">true</span></span> (in
    the given state)." 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a id="bassertion" class="idref" href="#bassertion"><span class="id" title="definition">bassertion</span></a> <a id="b:103" class="idref" href="#b:103"><span class="id" title="binder">b</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#Assertion"><span class="id" title="definition">Assertion</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">fun</span></a> <a id="st:104" class="idref" href="#st:104"><span class="id" title="binder">st</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">⇒</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Imp.html#beval"><span class="id" title="definition">beval</span></a> <a class="idref" href="PLF.Hoare.html#st:104"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Hoare.html#b:103"><span class="id" title="variable">b</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="PLF.Imp.html#:::'true'"><span class="id" title="notation">true</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a>.<br/>

<br/>
<span class="id" title="keyword">Coercion</span> <a class="idref" href="PLF.Hoare.html#bassertion"><span class="id" title="definition">bassertion</span></a> <a class="idref" href="PLF.Hoare.html#bassertion"><span class="id" title="definition">:</span></a> <a class="idref" href="PLF.Hoare.html#bassertion"><span class="id" title="definition">bexp</span></a> <a class="idref" href="PLF.Hoare.html#bassertion"><span class="id" title="definition">&gt;-&gt;</span></a> <a class="idref" href="PLF.Hoare.html#bassertion"><span class="id" title="definition">Assertion</span></a>.<br/>

<br/>
<span class="id" title="keyword">Arguments</span> <a class="idref" href="PLF.Hoare.html#bassertion"><span class="id" title="definition">bassertion</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">/</span></a>.<br/>

<br/>
</div>

<div class="doc">
A useful fact about <span class="inlinecode"><span class="id" title="var">bassertion</span></span>: 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a id="bexp_eval_false" class="idref" href="#bexp_eval_false"><span class="id" title="lemma">bexp_eval_false</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">∀</span></a> <a id="b:105" class="idref" href="#b:105"><span class="id" title="binder">b</span></a> <a id="st:106" class="idref" href="#st:106"><span class="id" title="binder">st</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Imp.html#beval"><span class="id" title="definition">beval</span></a> <a class="idref" href="PLF.Hoare.html#st:106"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Hoare.html#b:105"><span class="id" title="variable">b</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="PLF.Imp.html#:::'false'"><span class="id" title="notation">false</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#bassertion"><span class="id" title="definition">bassertion</span></a> <a class="idref" href="PLF.Hoare.html#b:105"><span class="id" title="variable">b</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a> <a class="idref" href="PLF.Hoare.html#st:106"><span class="id" title="variable">st</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">)</span></a>.<br/>
<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Proof</span></a>. <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">congruence</span></a>. <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Qed</span></a>.<br/>

<br/>
<span class="id" title="keyword">Hint Resolve</span> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">bexp_eval_false</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">core</span></a>.<br/>

<br/>
</div>

<div class="doc">
We mentioned the <span class="inlinecode"><span class="id" title="tactic">congruence</span></span> tactic in passing in
    <span class="inlinecode"><span class="id" title="var">Auto</span></span> when building the <span class="inlinecode"><span class="id" title="var">find_rwd</span></span> tactic.  Like
    <span class="inlinecode"><span class="id" title="var">find_rwd</span></span>, <span class="inlinecode"><span class="id" title="tactic">congruence</span></span> is able to automatically find that both
    <span class="inlinecode"><span class="id" title="var">beval</span></span> <span class="inlinecode"><span class="id" title="var">st</span></span> <span class="inlinecode"><span class="id" title="var">b</span></span> <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" title="var">false</span></span> and <span class="inlinecode"><span class="id" title="var">beval</span></span> <span class="inlinecode"><span class="id" title="var">st</span></span> <span class="inlinecode"><span class="id" title="var">b</span></span> <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" title="var">true</span></span> are being assumed,
    notice the contradiction, and <span class="inlinecode"><span class="id" title="tactic">discriminate</span></span> to complete the
    proof. 
<div class="paragraph"> </div>

 Now we can formalize the Hoare proof rule for conditionals
    and prove it correct. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Theorem</span> <a id="hoare_if" class="idref" href="#hoare_if"><span class="id" title="lemma">hoare_if</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">∀</span></a> <a id="P:107" class="idref" href="#P:107"><span class="id" title="binder">P</span></a> <a id="Q:108" class="idref" href="#Q:108"><span class="id" title="binder">Q</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a id="b:109" class="idref" href="#b:109"><span class="id" title="binder">b</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a><a class="idref" href="PLF.Imp.html#bexp"><span class="id" title="inductive">bexp</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a> <a id="c1:110" class="idref" href="#c1:110"><span class="id" title="binder">c1</span></a> <a id="c2:111" class="idref" href="#c2:111"><span class="id" title="binder">c2</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">{{</span></a> <a class="idref" href="PLF.Hoare.html#P:107"><span class="id" title="variable">P</span></a> <a class="idref" href="PLF.Hoare.html#d437198920d8d757e4e6b60d46358c8a"><span class="id" title="notation">∧</span></a> <a class="idref" href="PLF.Hoare.html#b:109"><span class="id" title="variable">b</span></a> <a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">}}</span></a> <a class="idref" href="PLF.Hoare.html#c1:110"><span class="id" title="variable">c1</span></a> <a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Hoare.html#Q:108"><span class="id" title="variable">Q</span></a><a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">}}</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">{{</span></a> <a class="idref" href="PLF.Hoare.html#P:107"><span class="id" title="variable">P</span></a> <a class="idref" href="PLF.Hoare.html#d437198920d8d757e4e6b60d46358c8a"><span class="id" title="notation">∧</span></a> <a class="idref" href="PLF.Hoare.html#74028603b8e85e0c9ec50b4dbd7dfecd"><span class="id" title="notation">¬</span></a> <a class="idref" href="PLF.Hoare.html#b:109"><span class="id" title="variable">b</span></a><a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">}}</span></a> <a class="idref" href="PLF.Hoare.html#c2:111"><span class="id" title="variable">c2</span></a> <a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Hoare.html#Q:108"><span class="id" title="variable">Q</span></a><a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">}}</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Hoare.html#P:107"><span class="id" title="variable">P</span></a><a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">}}</span></a> <a class="idref" href="PLF.Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">if</span></a> <a class="idref" href="PLF.Hoare.html#b:109"><span class="id" title="variable">b</span></a> <a class="idref" href="PLF.Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">then</span></a> <a class="idref" href="PLF.Hoare.html#c1:110"><span class="id" title="variable">c1</span></a> <a class="idref" href="PLF.Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">else</span></a> <a class="idref" href="PLF.Hoare.html#c2:111"><span class="id" title="variable">c2</span></a> <a class="idref" href="PLF.Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Hoare.html#Q:108"><span class="id" title="variable">Q</span></a><a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">}}</span></a>.<br/>
</div>

<div class="doc">
That is (unwrapping the notations):

<div class="paragraph"> </div>

      Theorem hoare_if : forall P Q b c1 c2,
        <a href="fun st => P st /\ bassertion b st">fun st => P st /\ bassertion b st</a> c1 <a href="Q">Q</a> -&gt;
        <a href="fun st => P st /\ ~ (bassertion b st)">fun st => P st /\ ~ (bassertion b st)</a> c2 <a href="Q">Q</a> -&gt;
        <a href="P">P</a> if b then c1 else c2 end <a href="Q">Q</a>.

</div>
<div class="code">
<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Proof</span></a>.<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">intros</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">P</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Q</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">b</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">c1</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">c2</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">HTrue</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">HFalse</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">st</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">st'</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">HE</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">HP</span></a>.<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">inversion</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">HE</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">;</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">subst</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">;</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">eauto</span></a>.<br/>
<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Qed</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab75"></a><h3 class="section">Example</h3>

<div class="paragraph"> </div>

 Here is a formal proof that the program we used to motivate
    the rule satisfies the specification we gave. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Example</span> <a id="if_example" class="idref" href="#if_example"><span class="id" title="definition">if_example</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Hoare.html#:assn:assertion_scope:'True'"><span class="id" title="notation">True</span></a><a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">}}</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">if</span></a> <a class="idref" href="PLF.Imp.html#5a96623d056c293ebbcdf03005796e09"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="PLF.Imp.html#9e5b22caf5d7cf490e97976162618c2a"><span class="id" title="notation">=</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">0</span></a><a class="idref" href="PLF.Imp.html#5a96623d056c293ebbcdf03005796e09"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">then</span></a> <a class="idref" href="PLF.Imp.html#Y"><span class="id" title="definition">Y</span></a> <a class="idref" href="PLF.Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">else</span></a> <a class="idref" href="PLF.Imp.html#Y"><span class="id" title="definition">Y</span></a> <a class="idref" href="PLF.Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <a class="idref" href="PLF.Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="PLF.Imp.html#ad27fd091d9c8494ce7e5135135d19a8"><span class="id" title="notation">+</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">1</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">end</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="PLF.Hoare.html#f9e963a42ba303abb7dc8a66eececf51"><span class="id" title="notation">≤</span></a> <a class="idref" href="PLF.Imp.html#Y"><span class="id" title="definition">Y</span></a><a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">}}</span></a>.<br/>
<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Proof</span></a>.<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">apply</span></a> <a class="idref" href="PLF.Hoare.html#hoare_if"><span class="id" title="lemma">hoare_if</span></a>.<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">-</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">eapply</span></a> <a class="idref" href="PLF.Hoare.html#hoare_consequence_pre"><span class="id" title="lemma">hoare_consequence_pre</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">+</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">apply</span></a> <a class="idref" href="PLF.Hoare.html#hoare_asgn"><span class="id" title="lemma">hoare_asgn</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">+</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">assertion_auto</span></a>. &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">unfold</span></a> "-&gt;&gt;"<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">,</span></a> <a class="idref" href="PLF.Hoare.html#assertion_sub"><span class="id" title="definition">assertion_sub</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">,</span></a> <a class="idref" href="PLF.Maps.html#t_update"><span class="id" title="definition">t_update</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">,</span></a> <a class="idref" href="PLF.Hoare.html#bassertion"><span class="id" title="definition">bassertion</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">simpl</span></a>. <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">intros</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">st</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">[</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">_</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">H</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">]</span></a>. <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">apply</span></a> <span class="id" title="lemma">eqb_eq</span> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">in</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">H</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">rewrite</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">H</span></a>. <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">lia</span></a>.<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">-</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">eapply</span></a> <a class="idref" href="PLF.Hoare.html#hoare_consequence_pre"><span class="id" title="lemma">hoare_consequence_pre</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">+</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">apply</span></a> <a class="idref" href="PLF.Hoare.html#hoare_asgn"><span class="id" title="lemma">hoare_asgn</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">+</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">assertion_auto</span></a>.<br/>
<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Qed</span></a>.<br/>

<br/>
</div>

<div class="doc">
As we did earlier, it would be nice to eliminate all the low-level
    proof script that isn't about the Hoare rules.  Unfortunately, the
    <span class="inlinecode"><span class="id" title="var">assertion_auto</span></span> tactic we wrote wasn't quite up to the job.  Looking
    at the proof of <span class="inlinecode"><span class="id" title="var">if_example</span></span>, we can see why.  We had to unfold a
    definition (<span class="inlinecode"><span class="id" title="var">bassertion</span></span>) and use a theorem (<span class="inlinecode"><span class="id" title="var">eqb_eq</span></span>) that we didn't
    need in earlier proofs.  So, let's add those into our tactic, and
    clean it up a little in the process. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Ltac</span> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">assertion_auto'</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">unfold</span></a> "-&gt;&gt;"<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">,</span></a> <a class="idref" href="PLF.Hoare.html#assertion_sub"><span class="id" title="definition">assertion_sub</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">,</span></a> <a class="idref" href="PLF.Maps.html#t_update"><span class="id" title="definition">t_update</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">,</span></a> <a class="idref" href="PLF.Hoare.html#bassertion"><span class="id" title="definition">bassertion</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">intros</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">;</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">simpl</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">in</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">*;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">try</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">rewrite</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">→</span></a> <span class="id" title="lemma">eqb_eq</span> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">in</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">*;</span></a> <br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">auto</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">;</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">try</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">lia</span></a>.<br/>

<br/>
</div>

<div class="doc">
Now the proof is quite streamlined. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Example</span> <a id="if_example''" class="idref" href="#if_example''"><span class="id" title="definition">if_example''</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Hoare.html#:assn:assertion_scope:'True'"><span class="id" title="notation">True</span></a><a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">}}</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">if</span></a> <a class="idref" href="PLF.Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="PLF.Imp.html#9e5b22caf5d7cf490e97976162618c2a"><span class="id" title="notation">=</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">0</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">then</span></a> <a class="idref" href="PLF.Imp.html#Y"><span class="id" title="definition">Y</span></a> <a class="idref" href="PLF.Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">else</span></a> <a class="idref" href="PLF.Imp.html#Y"><span class="id" title="definition">Y</span></a> <a class="idref" href="PLF.Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <a class="idref" href="PLF.Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="PLF.Imp.html#ad27fd091d9c8494ce7e5135135d19a8"><span class="id" title="notation">+</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">1</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">end</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="PLF.Hoare.html#f9e963a42ba303abb7dc8a66eececf51"><span class="id" title="notation">≤</span></a> <a class="idref" href="PLF.Imp.html#Y"><span class="id" title="definition">Y</span></a><a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">}}</span></a>.<br/>
<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Proof</span></a>.<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">apply</span></a> <a class="idref" href="PLF.Hoare.html#hoare_if"><span class="id" title="lemma">hoare_if</span></a>.<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">-</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">eapply</span></a> <a class="idref" href="PLF.Hoare.html#hoare_consequence_pre"><span class="id" title="lemma">hoare_consequence_pre</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">+</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">apply</span></a> <a class="idref" href="PLF.Hoare.html#hoare_asgn"><span class="id" title="lemma">hoare_asgn</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">+</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">assertion_auto'</span></a>.<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">-</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">eapply</span></a> <a class="idref" href="PLF.Hoare.html#hoare_consequence_pre"><span class="id" title="lemma">hoare_consequence_pre</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">+</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">apply</span></a> <a class="idref" href="PLF.Hoare.html#hoare_asgn"><span class="id" title="lemma">hoare_asgn</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">+</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">assertion_auto'</span></a>.<br/>
<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Qed</span></a>.<br/>

<br/>
</div>

<div class="doc">
We can even shorten it a little bit more. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Example</span> <a id="if_example'''" class="idref" href="#if_example'''"><span class="id" title="definition">if_example'''</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Hoare.html#:assn:assertion_scope:'True'"><span class="id" title="notation">True</span></a><a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">}}</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">if</span></a> <a class="idref" href="PLF.Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="PLF.Imp.html#9e5b22caf5d7cf490e97976162618c2a"><span class="id" title="notation">=</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">0</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">then</span></a> <a class="idref" href="PLF.Imp.html#Y"><span class="id" title="definition">Y</span></a> <a class="idref" href="PLF.Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">else</span></a> <a class="idref" href="PLF.Imp.html#Y"><span class="id" title="definition">Y</span></a> <a class="idref" href="PLF.Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <a class="idref" href="PLF.Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="PLF.Imp.html#ad27fd091d9c8494ce7e5135135d19a8"><span class="id" title="notation">+</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">1</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">end</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="PLF.Hoare.html#f9e963a42ba303abb7dc8a66eececf51"><span class="id" title="notation">≤</span></a> <a class="idref" href="PLF.Imp.html#Y"><span class="id" title="definition">Y</span></a><a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">}}</span></a>.<br/>
<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Proof</span></a>.<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">apply</span></a> <a class="idref" href="PLF.Hoare.html#hoare_if"><span class="id" title="lemma">hoare_if</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">;</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">eapply</span></a> <a class="idref" href="PLF.Hoare.html#hoare_consequence_pre"><span class="id" title="lemma">hoare_consequence_pre</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">try</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">apply</span></a> <a class="idref" href="PLF.Hoare.html#hoare_asgn"><span class="id" title="lemma">hoare_asgn</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">;</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">try</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">assertion_auto'</span></a>.<br/>
<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Qed</span></a>.<br/>

<br/>
</div>

<div class="doc">
For later proofs, it will help to extend <span class="inlinecode"><span class="id" title="var">assertion_auto'</span></span> to handle
    inequalities, too. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Ltac</span> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">assertion_auto''</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">unfold</span></a> "-&gt;&gt;"<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">,</span></a> <a class="idref" href="PLF.Hoare.html#assertion_sub"><span class="id" title="definition">assertion_sub</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">,</span></a> <a class="idref" href="PLF.Maps.html#t_update"><span class="id" title="definition">t_update</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">,</span></a> <a class="idref" href="PLF.Hoare.html#bassertion"><span class="id" title="definition">bassertion</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">intros</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">;</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">simpl</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">in</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">*;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">try</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">rewrite</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">→</span></a> <span class="id" title="lemma">eqb_eq</span> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">in</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">*;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">try</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">rewrite</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">→</span></a> <span class="id" title="lemma">leb_le</span> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">in</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">*;</span></a>  <br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">auto</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">;</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">try</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">lia</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab76"></a><h4 class="section">Exercise: 2 stars, standard (if_minus_plus)</h4>


<div class="paragraph"> </div>

    Prove the theorem below using <span class="inlinecode"><span class="id" title="var">hoare_if</span></span>.  Do not use <span class="inlinecode"><span class="id" title="tactic">unfold</span></span>
    <span class="inlinecode"><span class="id" title="var">valid_hoare_triple</span></span>.  The <span class="inlinecode"><span class="id" title="var">assertion_auto''</span></span> tactic we just
    defined may be useful. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Theorem</span> <a id="if_minus_plus" class="idref" href="#if_minus_plus"><span class="id" title="lemma">if_minus_plus</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Hoare.html#:assn:assertion_scope:'True'"><span class="id" title="notation">True</span></a><a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">}}</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">if</span></a> <a class="idref" href="PLF.Imp.html#5a96623d056c293ebbcdf03005796e09"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="PLF.Imp.html#d43f15edd52d29ae8e0f90730a25ed5c"><span class="id" title="notation">≤</span></a> <a class="idref" href="PLF.Imp.html#Y"><span class="id" title="definition">Y</span></a><a class="idref" href="PLF.Imp.html#5a96623d056c293ebbcdf03005796e09"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">then</span></a> <a class="idref" href="PLF.Imp.html#Z"><span class="id" title="definition">Z</span></a> <a class="idref" href="PLF.Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <a class="idref" href="PLF.Imp.html#Y"><span class="id" title="definition">Y</span></a> <a class="idref" href="PLF.Imp.html#:com::x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="PLF.Imp.html#X"><span class="id" title="definition">X</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">else</span></a> <a class="idref" href="PLF.Imp.html#Y"><span class="id" title="definition">Y</span></a> <a class="idref" href="PLF.Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <a class="idref" href="PLF.Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="PLF.Imp.html#ad27fd091d9c8494ce7e5135135d19a8"><span class="id" title="notation">+</span></a> <a class="idref" href="PLF.Imp.html#Z"><span class="id" title="definition">Z</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">end</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Imp.html#Y"><span class="id" title="definition">Y</span></a> <a class="idref" href="PLF.Hoare.html#fa2b95bfba529b45357b44654fbd9bee"><span class="id" title="notation">=</span></a> <a class="idref" href="PLF.Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="PLF.Hoare.html#63ccab552ca49d46d18c9209edaa0a41"><span class="id" title="notation">+</span></a> <a class="idref" href="PLF.Imp.html#Z"><span class="id" title="definition">Z</span></a><a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">}}</span></a>.<br/>
<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Proof</span></a>.<br/>
 <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Admitted</span></a>.<br/>
</div>

<div class="doc">
<font size=-2>&#9744;</font> 
</div>
<div class="code">

<br/>
</div>

<div class="doc">
<a id="lab77"></a><h3 class="section">Exercise: One-sided conditionals</h3>

<div class="paragraph"> </div>

 In this exercise we consider extending Imp with "one-sided
    conditionals" of the form <span class="inlinecode"><span class="id" title="var">if1</span></span> <span class="inlinecode"><span class="id" title="var">b</span></span> <span class="inlinecode"><span class="id" title="keyword">then</span></span> <span class="inlinecode"><span class="id" title="var">c</span></span> <span class="inlinecode"><span class="id" title="keyword">end</span></span>. Here <span class="inlinecode"><span class="id" title="var">b</span></span> is a boolean
    expression, and <span class="inlinecode"><span class="id" title="var">c</span></span> is a command. If <span class="inlinecode"><span class="id" title="var">b</span></span> evaluates to <span class="inlinecode"><span class="id" title="var">true</span></span>, then
    command <span class="inlinecode"><span class="id" title="var">c</span></span> is evaluated. If <span class="inlinecode"><span class="id" title="var">b</span></span> evaluates to <span class="inlinecode"><span class="id" title="var">false</span></span>, then <span class="inlinecode"><span class="id" title="var">if1</span></span> <span class="inlinecode"><span class="id" title="var">b</span></span>
    <span class="inlinecode"><span class="id" title="keyword">then</span></span> <span class="inlinecode"><span class="id" title="var">c</span></span> <span class="inlinecode"><span class="id" title="keyword">end</span></span> does nothing.

<div class="paragraph"> </div>

    We recommend that you complete this exercise before attempting the
    ones that follow, as it should help solidify your understanding of
    the material. 
<div class="paragraph"> </div>

 The first step is to extend the syntax of commands and introduce
    the usual notations.  (We've done this for you.  We use a separate
    module to prevent polluting the global name space.) 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Module</span> <a id="If1" class="idref" href="#If1"><span class="id" title="module">If1</span></a>.<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a id="If1.com" class="idref" href="#If1.com"><span class="id" title="definition, inductive"><span id="If1.com_rect" class="id"><span id="If1.com_ind" class="id"><span id="If1.com_rec" class="id"><span id="If1.com_sind" class="id">com</span></span></span></span></span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Type</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">|</span></a> <a id="If1.CSkip" class="idref" href="#If1.CSkip"><span class="id" title="constructor">CSkip</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#com:112"><span class="id" title="inductive">com</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">|</span></a> <a id="If1.CAsgn" class="idref" href="#If1.CAsgn"><span class="id" title="constructor">CAsgn</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <span class="id" title="inductive">string</span> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="PLF.Imp.html#aexp"><span class="id" title="inductive">aexp</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="PLF.Hoare.html#com:112"><span class="id" title="inductive">com</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">|</span></a> <a id="If1.CSeq" class="idref" href="#If1.CSeq"><span class="id" title="constructor">CSeq</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#com:112"><span class="id" title="inductive">com</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="PLF.Hoare.html#com:112"><span class="id" title="inductive">com</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="PLF.Hoare.html#com:112"><span class="id" title="inductive">com</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">|</span></a> <a id="If1.CIf" class="idref" href="#If1.CIf"><span class="id" title="constructor">CIf</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Imp.html#bexp"><span class="id" title="inductive">bexp</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="PLF.Hoare.html#com:112"><span class="id" title="inductive">com</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="PLF.Hoare.html#com:112"><span class="id" title="inductive">com</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="PLF.Hoare.html#com:112"><span class="id" title="inductive">com</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">|</span></a> <a id="If1.CWhile" class="idref" href="#If1.CWhile"><span class="id" title="constructor">CWhile</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Imp.html#bexp"><span class="id" title="inductive">bexp</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="PLF.Hoare.html#com:112"><span class="id" title="inductive">com</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="PLF.Hoare.html#com:112"><span class="id" title="inductive">com</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">|</span></a> <a id="If1.CIf1" class="idref" href="#If1.CIf1"><span class="id" title="constructor">CIf1</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Imp.html#bexp"><span class="id" title="inductive">bexp</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="PLF.Hoare.html#com:112"><span class="id" title="inductive">com</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="PLF.Hoare.html#com:112"><span class="id" title="inductive">com</span></a>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a id="If1.:com::'if1'_x_'then'_x_'end'" class="idref" href="#If1.:com::'if1'_x_'then'_x_'end'"><span class="id" title="notation">&quot;</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">'if1' x 'then' y 'end'</span></a>" <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#If1.CIf1"><span class="id" title="constructor">CIf1</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">x</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">y</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">in</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">custom</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">com</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">0,</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">x</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">custom</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">com</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">99)</span></a>.<br/>
<span class="id" title="keyword">Notation</span> <a id="If1.:com::'skip'" class="idref" href="#If1.:com::'skip'"><span class="id" title="notation">&quot;</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">'skip'</span></a>"  <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#If1.CSkip"><span class="id" title="constructor">CSkip</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">in</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">custom</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">com</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">0)</span></a>.<br/>
<span class="id" title="keyword">Notation</span> <a id="7701c044b287c1aaa4e8c24829bcb1f5" class="idref" href="#7701c044b287c1aaa4e8c24829bcb1f5"><span class="id" title="notation">&quot;</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">x := y</span></a>"  <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#If1.CAsgn"><span class="id" title="constructor">CAsgn</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">x</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">y</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">in</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">custom</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">com</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">0,</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">x</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">constr</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">0,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">y</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">85,</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">no</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">associativity</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Notation</span> <a id="2beb5a0374ebea150aa81fd6eb578944" class="idref" href="#2beb5a0374ebea150aa81fd6eb578944"><span class="id" title="notation">&quot;</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">x ; y</span></a>" <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#If1.CSeq"><span class="id" title="constructor">CSeq</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">x</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">y</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">in</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">custom</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">com</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">90,</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">right</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">associativity</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Notation</span> <a id="If1.:com::'if'_x_'then'_x_'else'_x_'end'" class="idref" href="#If1.:com::'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">&quot;</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">'if' x 'then' y 'else' z 'end'</span></a>" <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#If1.CIf"><span class="id" title="constructor">CIf</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">x</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">y</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">z</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">in</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">custom</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">com</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">89,</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">x</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">99,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">y</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">99,</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">z</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">99)</span></a>.<br/>
<span class="id" title="keyword">Notation</span> <a id="If1.:com::'while'_x_'do'_x_'end'" class="idref" href="#If1.:com::'while'_x_'do'_x_'end'"><span class="id" title="notation">&quot;</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">'while' x 'do' y 'end'</span></a>" <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#If1.CWhile"><span class="id" title="constructor">CWhile</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">x</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">y</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">in</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">custom</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">com</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">89,</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">x</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">99,</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">y</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">99)</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab78"></a><h4 class="section">Exercise: 2 stars, standard, especially useful (if1_ceval)</h4>

<div class="paragraph"> </div>

 Add two new evaluation rules to relation <span class="inlinecode"><span class="id" title="var">ceval</span></span>, below, for
    <span class="inlinecode"><span class="id" title="var">if1</span></span>. Let the rules for <span class="inlinecode"><span class="id" title="keyword">if</span></span> guide you.
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Reserved Notation</span> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">&quot;st '=[' c ']=&gt;'' st'</span></a>"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">40,</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">c</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">custom</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">com</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">99,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">st</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">constr</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">,</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">st'</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">constr</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">next</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">level</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a>.<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a id="If1.ceval" class="idref" href="#If1.ceval"><span class="id" title="definition, inductive"><span id="If1.ceval_ind" class="id"><span id="If1.ceval_sind" class="id">ceval</span></span></span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#If1.com"><span class="id" title="inductive">com</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="PLF.Imp.html#state"><span class="id" title="definition">state</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="PLF.Imp.html#state"><span class="id" title="definition">state</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Prop</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">|</span></a> <a id="If1.E_Skip" class="idref" href="#If1.E_Skip"><span class="id" title="constructor">E_Skip</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">∀</span></a> <a id="st:116" class="idref" href="#st:116"><span class="id" title="binder">st</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#st:116"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Hoare.html#2bd5832dff0b8e46c42539b178101547"><span class="id" title="notation">=[</span></a> <a class="idref" href="PLF.Hoare.html#If1.:com::'skip'"><span class="id" title="notation">skip</span></a> <a class="idref" href="PLF.Hoare.html#2bd5832dff0b8e46c42539b178101547"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="PLF.Hoare.html#st:116"><span class="id" title="variable">st</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">|</span></a> <a id="If1.E_Asgn" class="idref" href="#If1.E_Asgn"><span class="id" title="constructor">E_Asgn</span></a>  <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">∀</span></a> <a id="st:117" class="idref" href="#st:117"><span class="id" title="binder">st</span></a> <a id="a1:118" class="idref" href="#a1:118"><span class="id" title="binder">a1</span></a> <a id="n:119" class="idref" href="#n:119"><span class="id" title="binder">n</span></a> <a id="x:120" class="idref" href="#x:120"><span class="id" title="binder">x</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Imp.html#aeval"><span class="id" title="definition">aeval</span></a> <a class="idref" href="PLF.Hoare.html#st:117"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Hoare.html#a1:118"><span class="id" title="variable">a1</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="PLF.Hoare.html#n:119"><span class="id" title="variable">n</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#st:117"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Hoare.html#2bd5832dff0b8e46c42539b178101547"><span class="id" title="notation">=[</span></a> <a class="idref" href="PLF.Hoare.html#x:120"><span class="id" title="variable">x</span></a> <a class="idref" href="PLF.Hoare.html#7701c044b287c1aaa4e8c24829bcb1f5"><span class="id" title="notation">:=</span></a> <a class="idref" href="PLF.Hoare.html#a1:118"><span class="id" title="variable">a1</span></a> <a class="idref" href="PLF.Hoare.html#2bd5832dff0b8e46c42539b178101547"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="PLF.Hoare.html#2bd5832dff0b8e46c42539b178101547"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#x:120"><span class="id" title="variable">x</span></a> <a class="idref" href="PLF.Maps.html#630986d105c0f1782d085b9a306379a7"><span class="id" title="notation">!-&gt;</span></a> <a class="idref" href="PLF.Hoare.html#n:119"><span class="id" title="variable">n</span></a> <a class="idref" href="PLF.Maps.html#630986d105c0f1782d085b9a306379a7"><span class="id" title="notation">;</span></a> <a class="idref" href="PLF.Hoare.html#st:117"><span class="id" title="variable">st</span></a><a class="idref" href="PLF.Hoare.html#2bd5832dff0b8e46c42539b178101547"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">|</span></a> <a id="If1.E_Seq" class="idref" href="#If1.E_Seq"><span class="id" title="constructor">E_Seq</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">∀</span></a> <a id="c1:121" class="idref" href="#c1:121"><span class="id" title="binder">c1</span></a> <a id="c2:122" class="idref" href="#c2:122"><span class="id" title="binder">c2</span></a> <a id="st:123" class="idref" href="#st:123"><span class="id" title="binder">st</span></a> <a id="st':124" class="idref" href="#st':124"><span class="id" title="binder">st'</span></a> <a id="st'':125" class="idref" href="#st'':125"><span class="id" title="binder">st''</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#st:123"><span class="id" title="variable">st</span></a>  <a class="idref" href="PLF.Hoare.html#2bd5832dff0b8e46c42539b178101547"><span class="id" title="notation">=[</span></a> <a class="idref" href="PLF.Hoare.html#c1:121"><span class="id" title="variable">c1</span></a> <a class="idref" href="PLF.Hoare.html#2bd5832dff0b8e46c42539b178101547"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="PLF.Hoare.html#st':124"><span class="id" title="variable">st'</span></a>  <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#st':124"><span class="id" title="variable">st'</span></a> <a class="idref" href="PLF.Hoare.html#2bd5832dff0b8e46c42539b178101547"><span class="id" title="notation">=[</span></a> <a class="idref" href="PLF.Hoare.html#c2:122"><span class="id" title="variable">c2</span></a> <a class="idref" href="PLF.Hoare.html#2bd5832dff0b8e46c42539b178101547"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="PLF.Hoare.html#st'':125"><span class="id" title="variable">st''</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#st:123"><span class="id" title="variable">st</span></a>  <a class="idref" href="PLF.Hoare.html#2bd5832dff0b8e46c42539b178101547"><span class="id" title="notation">=[</span></a> <a class="idref" href="PLF.Hoare.html#c1:121"><span class="id" title="variable">c1</span></a> <a class="idref" href="PLF.Hoare.html#2beb5a0374ebea150aa81fd6eb578944"><span class="id" title="notation">;</span></a> <a class="idref" href="PLF.Hoare.html#c2:122"><span class="id" title="variable">c2</span></a> <a class="idref" href="PLF.Hoare.html#2bd5832dff0b8e46c42539b178101547"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="PLF.Hoare.html#st'':125"><span class="id" title="variable">st''</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">|</span></a> <a id="If1.E_IfTrue" class="idref" href="#If1.E_IfTrue"><span class="id" title="constructor">E_IfTrue</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">∀</span></a> <a id="st:126" class="idref" href="#st:126"><span class="id" title="binder">st</span></a> <a id="st':127" class="idref" href="#st':127"><span class="id" title="binder">st'</span></a> <a id="b:128" class="idref" href="#b:128"><span class="id" title="binder">b</span></a> <a id="c1:129" class="idref" href="#c1:129"><span class="id" title="binder">c1</span></a> <a id="c2:130" class="idref" href="#c2:130"><span class="id" title="binder">c2</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Imp.html#beval"><span class="id" title="definition">beval</span></a> <a class="idref" href="PLF.Hoare.html#st:126"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Hoare.html#b:128"><span class="id" title="variable">b</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="PLF.Imp.html#:::'true'"><span class="id" title="notation">true</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#st:126"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Hoare.html#2bd5832dff0b8e46c42539b178101547"><span class="id" title="notation">=[</span></a> <a class="idref" href="PLF.Hoare.html#c1:129"><span class="id" title="variable">c1</span></a> <a class="idref" href="PLF.Hoare.html#2bd5832dff0b8e46c42539b178101547"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="PLF.Hoare.html#st':127"><span class="id" title="variable">st'</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#st:126"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Hoare.html#2bd5832dff0b8e46c42539b178101547"><span class="id" title="notation">=[</span></a> <a class="idref" href="PLF.Hoare.html#If1.:com::'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">if</span></a> <a class="idref" href="PLF.Hoare.html#b:128"><span class="id" title="variable">b</span></a> <a class="idref" href="PLF.Hoare.html#If1.:com::'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">then</span></a> <a class="idref" href="PLF.Hoare.html#c1:129"><span class="id" title="variable">c1</span></a> <a class="idref" href="PLF.Hoare.html#If1.:com::'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">else</span></a> <a class="idref" href="PLF.Hoare.html#c2:130"><span class="id" title="variable">c2</span></a> <a class="idref" href="PLF.Hoare.html#If1.:com::'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="PLF.Hoare.html#2bd5832dff0b8e46c42539b178101547"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="PLF.Hoare.html#st':127"><span class="id" title="variable">st'</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">|</span></a> <a id="If1.E_IfFalse" class="idref" href="#If1.E_IfFalse"><span class="id" title="constructor">E_IfFalse</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">∀</span></a> <a id="st:131" class="idref" href="#st:131"><span class="id" title="binder">st</span></a> <a id="st':132" class="idref" href="#st':132"><span class="id" title="binder">st'</span></a> <a id="b:133" class="idref" href="#b:133"><span class="id" title="binder">b</span></a> <a id="c1:134" class="idref" href="#c1:134"><span class="id" title="binder">c1</span></a> <a id="c2:135" class="idref" href="#c2:135"><span class="id" title="binder">c2</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Imp.html#beval"><span class="id" title="definition">beval</span></a> <a class="idref" href="PLF.Hoare.html#st:131"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Hoare.html#b:133"><span class="id" title="variable">b</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="PLF.Imp.html#:::'false'"><span class="id" title="notation">false</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#st:131"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Hoare.html#2bd5832dff0b8e46c42539b178101547"><span class="id" title="notation">=[</span></a> <a class="idref" href="PLF.Hoare.html#c2:135"><span class="id" title="variable">c2</span></a> <a class="idref" href="PLF.Hoare.html#2bd5832dff0b8e46c42539b178101547"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="PLF.Hoare.html#st':132"><span class="id" title="variable">st'</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#st:131"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Hoare.html#2bd5832dff0b8e46c42539b178101547"><span class="id" title="notation">=[</span></a> <a class="idref" href="PLF.Hoare.html#If1.:com::'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">if</span></a> <a class="idref" href="PLF.Hoare.html#b:133"><span class="id" title="variable">b</span></a> <a class="idref" href="PLF.Hoare.html#If1.:com::'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">then</span></a> <a class="idref" href="PLF.Hoare.html#c1:134"><span class="id" title="variable">c1</span></a> <a class="idref" href="PLF.Hoare.html#If1.:com::'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">else</span></a> <a class="idref" href="PLF.Hoare.html#c2:135"><span class="id" title="variable">c2</span></a> <a class="idref" href="PLF.Hoare.html#If1.:com::'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="PLF.Hoare.html#2bd5832dff0b8e46c42539b178101547"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="PLF.Hoare.html#st':132"><span class="id" title="variable">st'</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">|</span></a> <a id="If1.E_WhileFalse" class="idref" href="#If1.E_WhileFalse"><span class="id" title="constructor">E_WhileFalse</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">∀</span></a> <a id="b:136" class="idref" href="#b:136"><span class="id" title="binder">b</span></a> <a id="st:137" class="idref" href="#st:137"><span class="id" title="binder">st</span></a> <a id="c:138" class="idref" href="#c:138"><span class="id" title="binder">c</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Imp.html#beval"><span class="id" title="definition">beval</span></a> <a class="idref" href="PLF.Hoare.html#st:137"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Hoare.html#b:136"><span class="id" title="variable">b</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="PLF.Imp.html#:::'false'"><span class="id" title="notation">false</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#st:137"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Hoare.html#2bd5832dff0b8e46c42539b178101547"><span class="id" title="notation">=[</span></a> <a class="idref" href="PLF.Hoare.html#If1.:com::'while'_x_'do'_x_'end'"><span class="id" title="notation">while</span></a> <a class="idref" href="PLF.Hoare.html#b:136"><span class="id" title="variable">b</span></a> <a class="idref" href="PLF.Hoare.html#If1.:com::'while'_x_'do'_x_'end'"><span class="id" title="notation">do</span></a> <a class="idref" href="PLF.Hoare.html#c:138"><span class="id" title="variable">c</span></a> <a class="idref" href="PLF.Hoare.html#If1.:com::'while'_x_'do'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="PLF.Hoare.html#2bd5832dff0b8e46c42539b178101547"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="PLF.Hoare.html#st:137"><span class="id" title="variable">st</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">|</span></a> <a id="If1.E_WhileTrue" class="idref" href="#If1.E_WhileTrue"><span class="id" title="constructor">E_WhileTrue</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">∀</span></a> <a id="st:139" class="idref" href="#st:139"><span class="id" title="binder">st</span></a> <a id="st':140" class="idref" href="#st':140"><span class="id" title="binder">st'</span></a> <a id="st'':141" class="idref" href="#st'':141"><span class="id" title="binder">st''</span></a> <a id="b:142" class="idref" href="#b:142"><span class="id" title="binder">b</span></a> <a id="c:143" class="idref" href="#c:143"><span class="id" title="binder">c</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Imp.html#beval"><span class="id" title="definition">beval</span></a> <a class="idref" href="PLF.Hoare.html#st:139"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Hoare.html#b:142"><span class="id" title="variable">b</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="PLF.Imp.html#:::'true'"><span class="id" title="notation">true</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#st:139"><span class="id" title="variable">st</span></a>  <a class="idref" href="PLF.Hoare.html#2bd5832dff0b8e46c42539b178101547"><span class="id" title="notation">=[</span></a> <a class="idref" href="PLF.Hoare.html#c:143"><span class="id" title="variable">c</span></a> <a class="idref" href="PLF.Hoare.html#2bd5832dff0b8e46c42539b178101547"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="PLF.Hoare.html#st':140"><span class="id" title="variable">st'</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#st':140"><span class="id" title="variable">st'</span></a> <a class="idref" href="PLF.Hoare.html#2bd5832dff0b8e46c42539b178101547"><span class="id" title="notation">=[</span></a> <a class="idref" href="PLF.Hoare.html#If1.:com::'while'_x_'do'_x_'end'"><span class="id" title="notation">while</span></a> <a class="idref" href="PLF.Hoare.html#b:142"><span class="id" title="variable">b</span></a> <a class="idref" href="PLF.Hoare.html#If1.:com::'while'_x_'do'_x_'end'"><span class="id" title="notation">do</span></a> <a class="idref" href="PLF.Hoare.html#c:143"><span class="id" title="variable">c</span></a> <a class="idref" href="PLF.Hoare.html#If1.:com::'while'_x_'do'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="PLF.Hoare.html#2bd5832dff0b8e46c42539b178101547"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="PLF.Hoare.html#st'':141"><span class="id" title="variable">st''</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#st:139"><span class="id" title="variable">st</span></a>  <a class="idref" href="PLF.Hoare.html#2bd5832dff0b8e46c42539b178101547"><span class="id" title="notation">=[</span></a> <a class="idref" href="PLF.Hoare.html#If1.:com::'while'_x_'do'_x_'end'"><span class="id" title="notation">while</span></a> <a class="idref" href="PLF.Hoare.html#b:142"><span class="id" title="variable">b</span></a> <a class="idref" href="PLF.Hoare.html#If1.:com::'while'_x_'do'_x_'end'"><span class="id" title="notation">do</span></a> <a class="idref" href="PLF.Hoare.html#c:143"><span class="id" title="variable">c</span></a> <a class="idref" href="PLF.Hoare.html#If1.:com::'while'_x_'do'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="PLF.Hoare.html#2bd5832dff0b8e46c42539b178101547"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="PLF.Hoare.html#st'':141"><span class="id" title="variable">st''</span></a><br/>
<br/>
<br/>
<span class="id" title="keyword">where</span> <a id="2bd5832dff0b8e46c42539b178101547" class="idref" href="#2bd5832dff0b8e46c42539b178101547"><span class="id" title="notation">&quot;</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">st '=[' c ']=&gt;' st'</span></a>" <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:=</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#ceval:115"><span class="id" title="inductive">ceval</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">c</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">st</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">st'</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a>.<br/>

<br/>
<span class="id" title="keyword">Hint Constructors</span> <a class="idref" href="PLF.Hoare.html#ceval"><span class="id" title="inductive">ceval</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">core</span></a>.<br/>

<br/>
</div>

<div class="doc">
The following unit tests should be provable simply by <span class="inlinecode"><span class="id" title="tactic">eauto</span></span> if
    you have defined the rules for <span class="inlinecode"><span class="id" title="var">if1</span></span> correctly. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Example</span> <a id="If1.if1true_test" class="idref" href="#If1.if1true_test"><span class="id" title="definition">if1true_test</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Imp.html#empty_st"><span class="id" title="definition">empty_st</span></a> <a class="idref" href="PLF.Hoare.html#2bd5832dff0b8e46c42539b178101547"><span class="id" title="notation">=[</span></a> <a class="idref" href="PLF.Hoare.html#If1.:com::'if1'_x_'then'_x_'end'"><span class="id" title="notation">if1</span></a> <a class="idref" href="PLF.Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="PLF.Imp.html#9e5b22caf5d7cf490e97976162618c2a"><span class="id" title="notation">=</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">0</span></a> <a class="idref" href="PLF.Hoare.html#If1.:com::'if1'_x_'then'_x_'end'"><span class="id" title="notation">then</span></a> <a class="idref" href="PLF.Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="PLF.Hoare.html#7701c044b287c1aaa4e8c24829bcb1f5"><span class="id" title="notation">:=</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">1</span></a> <a class="idref" href="PLF.Hoare.html#If1.:com::'if1'_x_'then'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="PLF.Hoare.html#2bd5832dff0b8e46c42539b178101547"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="PLF.Hoare.html#2bd5832dff0b8e46c42539b178101547"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="PLF.Imp.html#c78e6ed7f05f8146dc2bcb368255bece"><span class="id" title="notation">!-&gt;</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">1</span></a><a class="idref" href="PLF.Hoare.html#2bd5832dff0b8e46c42539b178101547"><span class="id" title="notation">)</span></a>.<br/>
<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Proof</span></a>.  <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Admitted</span></a>.<br/>

<br/>
<span class="id" title="keyword">Example</span> <a id="If1.if1false_test" class="idref" href="#If1.if1false_test"><span class="id" title="definition">if1false_test</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#2bd5832dff0b8e46c42539b178101547"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="PLF.Imp.html#c78e6ed7f05f8146dc2bcb368255bece"><span class="id" title="notation">!-&gt;</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">2</span></a><a class="idref" href="PLF.Hoare.html#2bd5832dff0b8e46c42539b178101547"><span class="id" title="notation">)</span></a> <a class="idref" href="PLF.Hoare.html#2bd5832dff0b8e46c42539b178101547"><span class="id" title="notation">=[</span></a> <a class="idref" href="PLF.Hoare.html#If1.:com::'if1'_x_'then'_x_'end'"><span class="id" title="notation">if1</span></a> <a class="idref" href="PLF.Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="PLF.Imp.html#9e5b22caf5d7cf490e97976162618c2a"><span class="id" title="notation">=</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">0</span></a> <a class="idref" href="PLF.Hoare.html#If1.:com::'if1'_x_'then'_x_'end'"><span class="id" title="notation">then</span></a> <a class="idref" href="PLF.Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="PLF.Hoare.html#7701c044b287c1aaa4e8c24829bcb1f5"><span class="id" title="notation">:=</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">1</span></a> <a class="idref" href="PLF.Hoare.html#If1.:com::'if1'_x_'then'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="PLF.Hoare.html#2bd5832dff0b8e46c42539b178101547"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="PLF.Hoare.html#2bd5832dff0b8e46c42539b178101547"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="PLF.Imp.html#c78e6ed7f05f8146dc2bcb368255bece"><span class="id" title="notation">!-&gt;</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">2</span></a><a class="idref" href="PLF.Hoare.html#2bd5832dff0b8e46c42539b178101547"><span class="id" title="notation">)</span></a>.<br/>
<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Proof</span></a>.  <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Admitted</span></a>.<br/>

<br/>
</div>

<div class="doc">
<font size=-2>&#9744;</font> 
<div class="paragraph"> </div>

 Now we have to repeat the definition and notation of Hoare triples,
    so that they will use the updated <span class="inlinecode"><span class="id" title="var">com</span></span> type. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a id="If1.valid_hoare_triple" class="idref" href="#If1.valid_hoare_triple"><span class="id" title="definition">valid_hoare_triple</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a id="P:144" class="idref" href="#P:144"><span class="id" title="binder">P</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#Assertion"><span class="id" title="definition">Assertion</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a id="c:145" class="idref" href="#c:145"><span class="id" title="binder">c</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#If1.com"><span class="id" title="inductive">com</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a id="Q:146" class="idref" href="#Q:146"><span class="id" title="binder">Q</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#Assertion"><span class="id" title="definition">Assertion</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Prop</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">∀</span></a> <a id="st:147" class="idref" href="#st:147"><span class="id" title="binder">st</span></a> <a id="st':148" class="idref" href="#st':148"><span class="id" title="binder">st'</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#st:147"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Hoare.html#2bd5832dff0b8e46c42539b178101547"><span class="id" title="notation">=[</span></a> <a class="idref" href="PLF.Hoare.html#c:145"><span class="id" title="variable">c</span></a> <a class="idref" href="PLF.Hoare.html#2bd5832dff0b8e46c42539b178101547"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="PLF.Hoare.html#st':148"><span class="id" title="variable">st'</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#P:144"><span class="id" title="variable">P</span></a> <a class="idref" href="PLF.Hoare.html#st:147"><span class="id" title="variable">st</span></a>  <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#Q:146"><span class="id" title="variable">Q</span></a> <a class="idref" href="PLF.Hoare.html#st':148"><span class="id" title="variable">st'</span></a>.<br/>

<br/>
<span class="id" title="keyword">Hint Unfold</span> <a class="idref" href="PLF.Hoare.html#If1.valid_hoare_triple"><span class="id" title="definition">valid_hoare_triple</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">core</span></a>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a id="a65ed8b6644a21f0bfd19e8fe0529d92" class="idref" href="#a65ed8b6644a21f0bfd19e8fe0529d92"><span class="id" title="notation">&quot;</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">{{ P }} c {{ Q }}</span></a>" <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#If1.valid_hoare_triple"><span class="id" title="definition">valid_hoare_triple</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">P</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">c</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Q</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">2,</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">P</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">custom</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">assn</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">99,</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">c</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">custom</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">com</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">99,</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Q</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">custom</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">assn</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">99)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">hoare_spec_scope</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab79"></a><h4 class="section">Exercise: 2 stars, standard (hoare_if1)</h4>

<div class="paragraph"> </div>

 Invent a Hoare logic proof rule for <span class="inlinecode"><span class="id" title="var">if1</span></span>.  State and prove a
    theorem named <span class="inlinecode"><span class="id" title="var">hoare_if1</span></span> that shows the validity of your rule.
    Use <span class="inlinecode"><span class="id" title="var">hoare_if</span></span> as a guide. Try to invent a rule that is
    <i>complete</i>, meaning it can be used to prove the correctness of as
    many one-sided conditionals as possible.  Also try to keep your
    rule <i>compositional</i>, meaning that any Imp command that appears
    in a premise should syntactically be a part of the command
    in the conclusion.

<div class="paragraph"> </div>

    Hint: if you encounter difficulty getting Coq to parse part of
    your rule as an assertion, try manually indicating that it should
    be in the assertion scope.  For example, if you want <span class="inlinecode"><span class="id" title="var">e</span></span> to be
    parsed as an assertion, write it as <span class="inlinecode">(<span class="id" title="var">e</span>)%<span class="id" title="var">assertion</span></span>. 
</div>
<div class="code">

<br/>

<br/>
</div>

<div class="doc">
For full credit, prove formally (<span class="inlinecode"><span class="id" title="var">hoare_if1_good</span></span>) that your rule is
    precise enough to show the following Hoare triple is valid:

<div class="paragraph"> </div>

  <a href=" X + Y = Z "> X + Y = Z </a>
    if1 Y &lt;&gt; 0 then
      X := X + Y
    end
  <a href=" X = Z "> X = Z </a>

</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="If1.manual_grade_for_hoare_if1" class="idref" href="#If1.manual_grade_for_hoare_if1"><span class="id" title="definition">manual_grade_for_hoare_if1</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a><span class="id" title="inductive">string</span><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:=</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>
</div>

<div class="doc">
<font size=-2>&#9744;</font> 
<div class="paragraph"> </div>

 Before the next exercise, we need to restate the Hoare rules of
    consequence (for preconditions) and assignment for the new <span class="inlinecode"><span class="id" title="var">com</span></span>
    type. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Theorem</span> <a id="If1.hoare_consequence_pre" class="idref" href="#If1.hoare_consequence_pre"><span class="id" title="lemma">hoare_consequence_pre</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">∀</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a id="P:149" class="idref" href="#P:149"><span class="id" title="binder">P</span></a> <a id="P':150" class="idref" href="#P':150"><span class="id" title="binder">P'</span></a> <a id="Q:151" class="idref" href="#Q:151"><span class="id" title="binder">Q</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#Assertion"><span class="id" title="definition">Assertion</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a> <a id="c:152" class="idref" href="#c:152"><span class="id" title="binder">c</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#a65ed8b6644a21f0bfd19e8fe0529d92"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Hoare.html#P':150"><span class="id" title="variable">P'</span></a><a class="idref" href="PLF.Hoare.html#a65ed8b6644a21f0bfd19e8fe0529d92"><span class="id" title="notation">}}</span></a> <a class="idref" href="PLF.Hoare.html#c:152"><span class="id" title="variable">c</span></a> <a class="idref" href="PLF.Hoare.html#a65ed8b6644a21f0bfd19e8fe0529d92"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Hoare.html#Q:151"><span class="id" title="variable">Q</span></a><a class="idref" href="PLF.Hoare.html#a65ed8b6644a21f0bfd19e8fe0529d92"><span class="id" title="notation">}}</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#P:149"><span class="id" title="variable">P</span></a> <a class="idref" href="PLF.Hoare.html#::hoare_spec_scope:x_'-&gt;&gt;'_x"><span class="id" title="notation">-&gt;&gt;</span></a> <a class="idref" href="PLF.Hoare.html#P':150"><span class="id" title="variable">P'</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#a65ed8b6644a21f0bfd19e8fe0529d92"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Hoare.html#P:149"><span class="id" title="variable">P</span></a><a class="idref" href="PLF.Hoare.html#a65ed8b6644a21f0bfd19e8fe0529d92"><span class="id" title="notation">}}</span></a> <a class="idref" href="PLF.Hoare.html#c:152"><span class="id" title="variable">c</span></a> <a class="idref" href="PLF.Hoare.html#a65ed8b6644a21f0bfd19e8fe0529d92"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Hoare.html#Q:151"><span class="id" title="variable">Q</span></a><a class="idref" href="PLF.Hoare.html#a65ed8b6644a21f0bfd19e8fe0529d92"><span class="id" title="notation">}}</span></a>.<br/>
<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Proof</span></a>.<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">eauto</span></a>.<br/>
<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Qed</span></a>.<br/>

<br/>
<span class="id" title="keyword">Theorem</span> <a id="If1.hoare_asgn" class="idref" href="#If1.hoare_asgn"><span class="id" title="lemma">hoare_asgn</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">∀</span></a> <a id="Q:153" class="idref" href="#Q:153"><span class="id" title="binder">Q</span></a> <a id="X:154" class="idref" href="#X:154"><span class="id" title="binder">X</span></a> <a id="a:155" class="idref" href="#a:155"><span class="id" title="binder">a</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#a65ed8b6644a21f0bfd19e8fe0529d92"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Hoare.html#Q:153"><span class="id" title="variable">Q</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">[</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">X</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">|-&gt;</span></a> <a class="idref" href="PLF.Hoare.html#a:155"><span class="id" title="variable">a</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">]</span></a><a class="idref" href="PLF.Hoare.html#a65ed8b6644a21f0bfd19e8fe0529d92"><span class="id" title="notation">}}</span></a> <a class="idref" href="PLF.Imp.html#5a96623d056c293ebbcdf03005796e09"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#X:154"><span class="id" title="variable">X</span></a> <a class="idref" href="PLF.Hoare.html#7701c044b287c1aaa4e8c24829bcb1f5"><span class="id" title="notation">:=</span></a> <a class="idref" href="PLF.Hoare.html#a:155"><span class="id" title="variable">a</span></a><a class="idref" href="PLF.Imp.html#5a96623d056c293ebbcdf03005796e09"><span class="id" title="notation">)</span></a> <a class="idref" href="PLF.Hoare.html#a65ed8b6644a21f0bfd19e8fe0529d92"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Hoare.html#Q:153"><span class="id" title="variable">Q</span></a><a class="idref" href="PLF.Hoare.html#a65ed8b6644a21f0bfd19e8fe0529d92"><span class="id" title="notation">}}</span></a>.<br/>
<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Proof</span></a>.<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">intros</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Q</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">X</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">a</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">st</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">st'</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Heval</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">HQ</span></a>.<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">inversion</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Heval</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">;</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">subst</span></a>.<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">auto</span></a>.<br/>
<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Qed</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab80"></a><h4 class="section">Exercise: 2 stars, standard (hoare_if1_good)</h4>

<div class="paragraph"> </div>

 Use your <span class="inlinecode"><span class="id" title="var">if1</span></span> rule to prove the following (valid) Hoare triple.

<div class="paragraph"> </div>

    Hint: <span class="inlinecode"><span class="id" title="var">assertion_auto''</span></span> will once again get you most but not all
    the way to a completely automated proof.  You can finish manually,
    or tweak the tactic further.

<div class="paragraph"> </div>

    Hint: If you see a message like <span class="inlinecode"><span class="id" title="var">Unable</span></span> <span class="inlinecode"><span class="id" title="var">to</span></span> <span class="inlinecode"><span class="id" title="var">unify</span></span> <span class="inlinecode">&quot;<span class="id" title="var">Imp.ceval</span></span>
    <span class="inlinecode"><span class="id" title="var">Imp.CSkip</span></span> <span class="inlinecode"><span class="id" title="var">st</span></span> <span class="inlinecode"><span class="id" title="var">st'</span>&quot;</span> <span class="inlinecode"><span class="id" title="keyword">with</span>...</span>, it probably means you are using a
    definition or theorem <span class="inlinecode"><span class="id" title="var">e.g</span>.,</span> <span class="inlinecode"><span class="id" title="var">hoare_skip</span></span> from above this exercise
    without re-proving it for the new version of Imp with if1. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a id="If1.hoare_if1_good" class="idref" href="#If1.hoare_if1_good"><span class="id" title="lemma">hoare_if1_good</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#a65ed8b6644a21f0bfd19e8fe0529d92"><span class="id" title="notation">{{</span></a> <a class="idref" href="PLF.Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="PLF.Hoare.html#63ccab552ca49d46d18c9209edaa0a41"><span class="id" title="notation">+</span></a> <a class="idref" href="PLF.Imp.html#Y"><span class="id" title="definition">Y</span></a> <a class="idref" href="PLF.Hoare.html#fa2b95bfba529b45357b44654fbd9bee"><span class="id" title="notation">=</span></a> <a class="idref" href="PLF.Imp.html#Z"><span class="id" title="definition">Z</span></a> <a class="idref" href="PLF.Hoare.html#a65ed8b6644a21f0bfd19e8fe0529d92"><span class="id" title="notation">}}</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#If1.:com::'if1'_x_'then'_x_'end'"><span class="id" title="notation">if1</span></a> <a class="idref" href="PLF.Imp.html#Y"><span class="id" title="definition">Y</span></a> <a class="idref" href="PLF.Imp.html#:com::x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">0</span></a> <a class="idref" href="PLF.Hoare.html#If1.:com::'if1'_x_'then'_x_'end'"><span class="id" title="notation">then</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="PLF.Hoare.html#7701c044b287c1aaa4e8c24829bcb1f5"><span class="id" title="notation">:=</span></a> <a class="idref" href="PLF.Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="PLF.Imp.html#ad27fd091d9c8494ce7e5135135d19a8"><span class="id" title="notation">+</span></a> <a class="idref" href="PLF.Imp.html#Y"><span class="id" title="definition">Y</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#If1.:com::'if1'_x_'then'_x_'end'"><span class="id" title="notation">end</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#a65ed8b6644a21f0bfd19e8fe0529d92"><span class="id" title="notation">{{</span></a> <a class="idref" href="PLF.Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="PLF.Hoare.html#fa2b95bfba529b45357b44654fbd9bee"><span class="id" title="notation">=</span></a> <a class="idref" href="PLF.Imp.html#Z"><span class="id" title="definition">Z</span></a> <a class="idref" href="PLF.Hoare.html#a65ed8b6644a21f0bfd19e8fe0529d92"><span class="id" title="notation">}}</span></a>.<br/>
<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Proof</span></a>.  <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Admitted</span></a>.<br/>
</div>

<div class="doc">
<font size=-2>&#9744;</font> 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="PLF.Hoare.html#If1"><span class="id" title="module">If1</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab81"></a><h2 class="section">While Loops</h2>

<div class="paragraph"> </div>

 The Hoare rule for <span class="inlinecode"><span class="id" title="var">while</span></span> loops is based on the idea of a
    <i>command invariant</i> (or just <i>invariant</i>): an assertion whose
    truth is guaranteed after executing a command, assuming it is true
    before.

<div class="paragraph"> </div>

    That is, an assertion <span class="inlinecode"><span class="id" title="var">P</span></span> is a command invariant of <span class="inlinecode"><span class="id" title="var">c</span></span> if

<div class="paragraph"> </div>

      <a href="P">P</a> c <a href="P">P</a>

<div class="paragraph"> </div>

    holds.  Note that the command invariant might temporarily become
    false in the middle of executing <span class="inlinecode"><span class="id" title="var">c</span></span>, but by the end of <span class="inlinecode"><span class="id" title="var">c</span></span> it
    must be restored. 
<div class="paragraph"> </div>

  As a first attempt at a <span class="inlinecode"><span class="id" title="var">while</span></span> rule, we could try:

<div class="paragraph"> </div>

             <a href="P">P</a> c <a href="P">P</a>
<hr/>

      <a href="P"> while b do c end {{P</a>}

<div class="paragraph"> </div>

    That rule is valid: if <span class="inlinecode"><span class="id" title="var">P</span></span> is a command invariant of <span class="inlinecode"><span class="id" title="var">c</span></span>, as the premise
    requires, then no matter how many times the loop body executes,
    <span class="inlinecode"><span class="id" title="var">P</span></span> is going to be true when the loop finally finishes.

<div class="paragraph"> </div>

    But the rule also omits two crucial pieces of information.  First,
    the loop terminates when <span class="inlinecode"><span class="id" title="var">b</span></span> becomes false.  So we can strengthen
    the postcondition in the conclusion:

<div class="paragraph"> </div>

              <a href="P">P</a> c <a href="P">P</a>
<hr/>

      <a href="P"> while b do c end {{P /\ ~b</a>}

<div class="paragraph"> </div>

    Second, the loop body will be executed only if <span class="inlinecode"><span class="id" title="var">b</span></span> is true.  So we
    can also strengthen the precondition in the premise:

<div class="paragraph"> </div>

            <a href="P /\ b">P /\ b</a> c <a href="P">P</a>
<hr/>
 (hoare_while)
      <a href="P"> while b do c end {{P /\ ~b</a>}

<div class="paragraph"> </div>

 That is the Hoare <span class="inlinecode"><span class="id" title="var">while</span></span> rule.  Note how it combines
    aspects of <span class="inlinecode"><span class="id" title="var">skip</span></span> and conditionals:

<div class="paragraph"> </div>

<ul class="doclist">
<li> If the loop body executes zero times, the rule is like <span class="inlinecode"><span class="id" title="var">skip</span></span> in
      that the precondition survives to become (part of) the
      postcondition.

<div class="paragraph"> </div>


</li>
<li> Like a conditional, we can assume guard <span class="inlinecode"><span class="id" title="var">b</span></span> holds on entry to
      the subcommand. 

</li>
</ul>
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Theorem</span> <a id="hoare_while" class="idref" href="#hoare_while"><span class="id" title="lemma">hoare_while</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">∀</span></a> <a id="P:156" class="idref" href="#P:156"><span class="id" title="binder">P</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a id="b:157" class="idref" href="#b:157"><span class="id" title="binder">b</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a><a class="idref" href="PLF.Imp.html#bexp"><span class="id" title="inductive">bexp</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a> <a id="c:158" class="idref" href="#c:158"><span class="id" title="binder">c</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Hoare.html#P:156"><span class="id" title="variable">P</span></a> <a class="idref" href="PLF.Hoare.html#d437198920d8d757e4e6b60d46358c8a"><span class="id" title="notation">∧</span></a> <a class="idref" href="PLF.Hoare.html#b:157"><span class="id" title="variable">b</span></a><a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">}}</span></a> <a class="idref" href="PLF.Hoare.html#c:158"><span class="id" title="variable">c</span></a> <a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Hoare.html#P:156"><span class="id" title="variable">P</span></a><a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">}}</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Hoare.html#P:156"><span class="id" title="variable">P</span></a><a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">}}</span></a> <a class="idref" href="PLF.Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">while</span></a> <a class="idref" href="PLF.Hoare.html#b:157"><span class="id" title="variable">b</span></a> <a class="idref" href="PLF.Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">do</span></a> <a class="idref" href="PLF.Hoare.html#c:158"><span class="id" title="variable">c</span></a> <a class="idref" href="PLF.Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Hoare.html#P:156"><span class="id" title="variable">P</span></a> <a class="idref" href="PLF.Hoare.html#d437198920d8d757e4e6b60d46358c8a"><span class="id" title="notation">∧</span></a> <a class="idref" href="PLF.Hoare.html#74028603b8e85e0c9ec50b4dbd7dfecd"><span class="id" title="notation">¬</span></a> <a class="idref" href="PLF.Hoare.html#b:157"><span class="id" title="variable">b</span></a><a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">}}</span></a>.<br/>
<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Proof</span></a>.<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">intros</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">P</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">b</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">c</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Hhoare</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">st</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">st'</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Heval</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">HP</span></a>.<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">remember</span></a> <a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a><a class="idref" href="PLF.Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">while</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">b</span></a> <a class="idref" href="PLF.Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">do</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">c</span></a> <a class="idref" href="PLF.Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">end</span></a><a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">as</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">original_command</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">eqn</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Horig</span></a>.<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">induction</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Heval</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">try</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">inversion</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Horig</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">;</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">subst</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">;</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">clear</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Horig</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">);</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">eauto</span></a>.<br/>
<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Qed</span></a>.<br/>

<br/>
</div>

<div class="doc">
We call <span class="inlinecode"><span class="id" title="var">P</span></span> a <i>loop invariant</i> of <span class="inlinecode"><span class="id" title="var">while</span></span> <span class="inlinecode"><span class="id" title="var">b</span></span> <span class="inlinecode"><span class="id" title="tactic">do</span></span> <span class="inlinecode"><span class="id" title="var">c</span></span> <span class="inlinecode"><span class="id" title="keyword">end</span></span> if

<div class="paragraph"> </div>

      <a href="P /\ b">P /\ b</a> c <a href="P">P</a>

<div class="paragraph"> </div>

    is a valid Hoare triple.

<div class="paragraph"> </div>

    This means that <span class="inlinecode"><span class="id" title="var">P</span></span> will be true at the end of the loop body
    whenever the loop body executes. If <span class="inlinecode"><span class="id" title="var">P</span></span> contradicts <span class="inlinecode"><span class="id" title="var">b</span></span>, this
    holds trivially since the precondition is false.

<div class="paragraph"> </div>

    For instance, <span class="inlinecode"><span class="id" title="var">X</span></span> <span class="inlinecode">=</span> <span class="inlinecode">0</span> is a loop invariant of

<div class="paragraph"> </div>

      while X = 2 do X := 1 end

<div class="paragraph"> </div>

    since the program will never enter the loop. 
<div class="paragraph"> </div>

 The program

<div class="paragraph"> </div>

    while Y &gt; 10 do Y := Y - 1; Z := Z + 1 end

<div class="paragraph"> </div>

    admits an interesting loop invariant:

<div class="paragraph"> </div>

    X = Y + Z

<div class="paragraph"> </div>

    Note that this doesn't contradict the loop guard but neither
    is it a command invariant of

<div class="paragraph"> </div>

    Y := Y - 1; Z := Z + 1

<div class="paragraph"> </div>

    since, if X = 5,
    Y = 0 and Z = 5, running the command will set Y + Z to 6. The
    loop guard <span class="inlinecode"><span class="id" title="var">Y</span></span> <span class="inlinecode">&gt;</span> <span class="inlinecode">10</span> guarantees that this will not be the case.
    We will see many such loop invariants in the following chapter.

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Example</span> <a id="while_example" class="idref" href="#while_example"><span class="id" title="definition">while_example</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="PLF.Hoare.html#f9e963a42ba303abb7dc8a66eececf51"><span class="id" title="notation">≤</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">3</span></a><a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">}}</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">while</span></a> <a class="idref" href="PLF.Imp.html#5a96623d056c293ebbcdf03005796e09"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="PLF.Imp.html#d43f15edd52d29ae8e0f90730a25ed5c"><span class="id" title="notation">≤</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">2</span></a><a class="idref" href="PLF.Imp.html#5a96623d056c293ebbcdf03005796e09"><span class="id" title="notation">)</span></a> <a class="idref" href="PLF.Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">do</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="PLF.Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <a class="idref" href="PLF.Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="PLF.Imp.html#ad27fd091d9c8494ce7e5135135d19a8"><span class="id" title="notation">+</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">1</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">end</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="PLF.Hoare.html#fa2b95bfba529b45357b44654fbd9bee"><span class="id" title="notation">=</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">3</span></a><a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">}}</span></a>.<br/>
&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Proof</span></a>.<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">eapply</span></a> <a class="idref" href="PLF.Hoare.html#hoare_consequence_post"><span class="id" title="lemma">hoare_consequence_post</span></a>.<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">-</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">apply</span></a> <a class="idref" href="PLF.Hoare.html#hoare_while"><span class="id" title="lemma">hoare_while</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">eapply</span></a> <a class="idref" href="PLF.Hoare.html#hoare_consequence_pre"><span class="id" title="lemma">hoare_consequence_pre</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">+</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">apply</span></a> <a class="idref" href="PLF.Hoare.html#hoare_asgn"><span class="id" title="lemma">hoare_asgn</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">+</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">assertion_auto''</span></a>.<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">-</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">assertion_auto''</span></a>.<br/>
<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Qed</span></a>.<br/>

<br/>
</div>

<div class="doc">
If the loop never terminates, any postcondition will work. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Theorem</span> <a id="always_loop_hoare" class="idref" href="#always_loop_hoare"><span class="id" title="lemma">always_loop_hoare</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">∀</span></a> <a id="Q:159" class="idref" href="#Q:159"><span class="id" title="binder">Q</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Hoare.html#:assn:assertion_scope:'True'"><span class="id" title="notation">True</span></a><a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">}}</span></a> <a class="idref" href="PLF.Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">while</span></a> <a class="idref" href="PLF.Imp.html#:com::'true'"><span class="id" title="notation">true</span></a> <a class="idref" href="PLF.Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">do</span></a> <a class="idref" href="PLF.Imp.html#:com:com_scope:'skip'"><span class="id" title="notation">skip</span></a> <a class="idref" href="PLF.Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Hoare.html#Q:159"><span class="id" title="variable">Q</span></a><a class="idref" href="PLF.Hoare.html#a18cbce9fe584a9130c3f34d4f14555f"><span class="id" title="notation">}}</span></a>.<br/>
<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Proof</span></a>.<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">intros</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Q</span></a>.<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">eapply</span></a> <a class="idref" href="PLF.Hoare.html#hoare_consequence_post"><span class="id" title="lemma">hoare_consequence_post</span></a>.<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">-</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">apply</span></a> <a class="idref" href="PLF.Hoare.html#hoare_while"><span class="id" title="lemma">hoare_while</span></a>. <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">apply</span></a> <a class="idref" href="PLF.Hoare.html#hoare_post_true"><span class="id" title="axiom">hoare_post_true</span></a>. <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">auto</span></a>.<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">-</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">simpl</span></a>. <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">intros</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">st</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">[</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Hinv</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Hguard</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">]</span></a>. <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">congruence</span></a>.<br/>
<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Qed</span></a>.<br/>

<br/>
</div>

<div class="doc">
Of course, this result is not surprising if we remember that
    the definition of <span class="inlinecode"><span class="id" title="var">valid_hoare_triple</span></span> asserts that the postcondition
    must hold <i>only</i> when the command terminates.  If the command
    doesn't terminate, we can prove anything we like about the
    post-condition.

<div class="paragraph"> </div>

    Hoare rules that specify what happens <i>if</i> commands terminate,
    without proving that they do, are said to describe a logic of
    <i>partial</i> correctness.  It is also possible to give Hoare rules
    for <i>total</i> correctness, which additionally specifies that
    commands must terminate. Total correctness is out of the scope of
    this textbook. 
</div>
<div class="code">

<br/>
</div>

<div class="doc">
<a id="lab82"></a><h3 class="section">Exercise: <span class="inlinecode"><span class="id" title="var">REPEAT</span></span></h3>

<div class="paragraph"> </div>

<a id="lab83"></a><h4 class="section">Exercise: 4 stars, advanced, optional (hoare_repeat)</h4>


<div class="paragraph"> </div>

    In this exercise, we'll add a new command to our language of
    commands: <span class="inlinecode"><span class="id" title="var">REPEAT</span></span> c <span class="inlinecode"><span class="id" title="tactic">until</span></span> b <span class="inlinecode"><span class="id" title="keyword">end</span></span>. You will write the
    evaluation rule for <span class="inlinecode"><span class="id" title="var">REPEAT</span></span> and add a new Hoare rule to the
    language for programs involving it.  (You may recall that the
    evaluation rule is given in an example in the <span class="inlinecode"><span class="id" title="var">Auto</span></span> chapter.
    Try to figure it out yourself here rather than peeking.) 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Module</span> <a id="RepeatExercise" class="idref" href="#RepeatExercise"><span class="id" title="module">RepeatExercise</span></a>.<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a id="RepeatExercise.com" class="idref" href="#RepeatExercise.com"><span class="id" title="definition, inductive"><span id="RepeatExercise.com_rect" class="id"><span id="RepeatExercise.com_ind" class="id"><span id="RepeatExercise.com_rec" class="id"><span id="RepeatExercise.com_sind" class="id">com</span></span></span></span></span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Type</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">|</span></a> <a id="RepeatExercise.CSkip" class="idref" href="#RepeatExercise.CSkip"><span class="id" title="constructor">CSkip</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#com:160"><span class="id" title="inductive">com</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">|</span></a> <a id="RepeatExercise.CAsgn" class="idref" href="#RepeatExercise.CAsgn"><span class="id" title="constructor">CAsgn</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <span class="id" title="inductive">string</span> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="PLF.Imp.html#aexp"><span class="id" title="inductive">aexp</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="PLF.Hoare.html#com:160"><span class="id" title="inductive">com</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">|</span></a> <a id="RepeatExercise.CSeq" class="idref" href="#RepeatExercise.CSeq"><span class="id" title="constructor">CSeq</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#com:160"><span class="id" title="inductive">com</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="PLF.Hoare.html#com:160"><span class="id" title="inductive">com</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="PLF.Hoare.html#com:160"><span class="id" title="inductive">com</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">|</span></a> <a id="RepeatExercise.CIf" class="idref" href="#RepeatExercise.CIf"><span class="id" title="constructor">CIf</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Imp.html#bexp"><span class="id" title="inductive">bexp</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="PLF.Hoare.html#com:160"><span class="id" title="inductive">com</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="PLF.Hoare.html#com:160"><span class="id" title="inductive">com</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="PLF.Hoare.html#com:160"><span class="id" title="inductive">com</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">|</span></a> <a id="RepeatExercise.CWhile" class="idref" href="#RepeatExercise.CWhile"><span class="id" title="constructor">CWhile</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Imp.html#bexp"><span class="id" title="inductive">bexp</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="PLF.Hoare.html#com:160"><span class="id" title="inductive">com</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="PLF.Hoare.html#com:160"><span class="id" title="inductive">com</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">|</span></a> <a id="RepeatExercise.CRepeat" class="idref" href="#RepeatExercise.CRepeat"><span class="id" title="constructor">CRepeat</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#com:160"><span class="id" title="inductive">com</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="PLF.Imp.html#bexp"><span class="id" title="inductive">bexp</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="PLF.Hoare.html#com:160"><span class="id" title="inductive">com</span></a>.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" title="var">REPEAT</span></span> behaves like <span class="inlinecode"><span class="id" title="var">while</span></span>, except that the loop guard is
    checked <i>after</i> each execution of the body, with the loop
    repeating as long as the guard stays <i>false</i>.  Because of this,
    the body will always execute at least once. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Notation</span> <a id="RepeatExercise.:com::'repeat'_x_'until'_x_'end'" class="idref" href="#RepeatExercise.:com::'repeat'_x_'until'_x_'end'"><span class="id" title="notation">&quot;</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">'repeat' e1 'until' b2 'end'</span></a>" <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#RepeatExercise.CRepeat"><span class="id" title="constructor">CRepeat</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">e1</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">b2</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">in</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">custom</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">com</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">0,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">e1</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">custom</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">com</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">99,</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">b2</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">custom</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">com</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">99)</span></a>.<br/>
<span class="id" title="keyword">Notation</span> <a id="RepeatExercise.:com::'skip'" class="idref" href="#RepeatExercise.:com::'skip'"><span class="id" title="notation">&quot;</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">'skip'</span></a>"  <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#RepeatExercise.CSkip"><span class="id" title="constructor">CSkip</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">in</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">custom</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">com</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">0)</span></a>.<br/>
<span class="id" title="keyword">Notation</span> <a id="36cabe8d358913ff5c5a00e869f6acb5" class="idref" href="#36cabe8d358913ff5c5a00e869f6acb5"><span class="id" title="notation">&quot;</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">x := y</span></a>"  <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#RepeatExercise.CAsgn"><span class="id" title="constructor">CAsgn</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">x</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">y</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">in</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">custom</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">com</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">0,</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">x</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">constr</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">0,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">y</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">85,</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">no</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">associativity</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Notation</span> <a id="47032bba53eedb10a43a5da19a84838f" class="idref" href="#47032bba53eedb10a43a5da19a84838f"><span class="id" title="notation">&quot;</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">x ; y</span></a>" <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#RepeatExercise.CSeq"><span class="id" title="constructor">CSeq</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">x</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">y</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">in</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">custom</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">com</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">90,</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">right</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">associativity</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Notation</span> <a id="RepeatExercise.:com::'if'_x_'then'_x_'else'_x_'end'" class="idref" href="#RepeatExercise.:com::'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">&quot;</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">'if' x 'then' y 'else' z 'end'</span></a>" <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#RepeatExercise.CIf"><span class="id" title="constructor">CIf</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">x</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">y</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">z</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">in</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">custom</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">com</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">89,</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">x</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">99,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">y</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">99,</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">z</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">99)</span></a>.<br/>
<span class="id" title="keyword">Notation</span> <a id="RepeatExercise.:com::'while'_x_'do'_x_'end'" class="idref" href="#RepeatExercise.:com::'while'_x_'do'_x_'end'"><span class="id" title="notation">&quot;</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">'while' x 'do' y 'end'</span></a>" <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#RepeatExercise.CWhile"><span class="id" title="constructor">CWhile</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">x</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">y</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">in</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">custom</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">com</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">89,</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">x</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">99,</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">y</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">99)</span></a>.<br/>

<br/>
</div>

<div class="doc">
Add new rules for <span class="inlinecode"><span class="id" title="var">REPEAT</span></span> to <span class="inlinecode"><span class="id" title="var">ceval</span></span> below.  You can use the rules
    for <span class="inlinecode"><span class="id" title="var">while</span></span> as a guide, but remember that the body of a <span class="inlinecode"><span class="id" title="var">REPEAT</span></span>
    should always execute at least once, and that the loop ends when
    the guard becomes true. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Inductive</span> <a id="RepeatExercise.ceval" class="idref" href="#RepeatExercise.ceval"><span class="id" title="definition, inductive"><span id="RepeatExercise.ceval_ind" class="id"><span id="RepeatExercise.ceval_sind" class="id">ceval</span></span></span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Imp.html#state"><span class="id" title="definition">state</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="PLF.Hoare.html#RepeatExercise.com"><span class="id" title="inductive">com</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="PLF.Imp.html#state"><span class="id" title="definition">state</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Prop</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">|</span></a> <a id="RepeatExercise.E_Skip" class="idref" href="#RepeatExercise.E_Skip"><span class="id" title="constructor">E_Skip</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">∀</span></a> <a id="st:164" class="idref" href="#st:164"><span class="id" title="binder">st</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#st:164"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Hoare.html#6fac257586d84b458187327c836ad986"><span class="id" title="notation">=[</span></a> <a class="idref" href="PLF.Hoare.html#RepeatExercise.:com::'skip'"><span class="id" title="notation">skip</span></a> <a class="idref" href="PLF.Hoare.html#6fac257586d84b458187327c836ad986"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="PLF.Hoare.html#st:164"><span class="id" title="variable">st</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">|</span></a> <a id="RepeatExercise.E_Asgn" class="idref" href="#RepeatExercise.E_Asgn"><span class="id" title="constructor">E_Asgn</span></a>  <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">∀</span></a> <a id="st:165" class="idref" href="#st:165"><span class="id" title="binder">st</span></a> <a id="a1:166" class="idref" href="#a1:166"><span class="id" title="binder">a1</span></a> <a id="n:167" class="idref" href="#n:167"><span class="id" title="binder">n</span></a> <a id="x:168" class="idref" href="#x:168"><span class="id" title="binder">x</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Imp.html#aeval"><span class="id" title="definition">aeval</span></a> <a class="idref" href="PLF.Hoare.html#st:165"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Hoare.html#a1:166"><span class="id" title="variable">a1</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="PLF.Hoare.html#n:167"><span class="id" title="variable">n</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#st:165"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Hoare.html#6fac257586d84b458187327c836ad986"><span class="id" title="notation">=[</span></a> <a class="idref" href="PLF.Hoare.html#x:168"><span class="id" title="variable">x</span></a> <a class="idref" href="PLF.Hoare.html#36cabe8d358913ff5c5a00e869f6acb5"><span class="id" title="notation">:=</span></a> <a class="idref" href="PLF.Hoare.html#a1:166"><span class="id" title="variable">a1</span></a> <a class="idref" href="PLF.Hoare.html#6fac257586d84b458187327c836ad986"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="PLF.Hoare.html#6fac257586d84b458187327c836ad986"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#x:168"><span class="id" title="variable">x</span></a> <a class="idref" href="PLF.Maps.html#630986d105c0f1782d085b9a306379a7"><span class="id" title="notation">!-&gt;</span></a> <a class="idref" href="PLF.Hoare.html#n:167"><span class="id" title="variable">n</span></a> <a class="idref" href="PLF.Maps.html#630986d105c0f1782d085b9a306379a7"><span class="id" title="notation">;</span></a> <a class="idref" href="PLF.Hoare.html#st:165"><span class="id" title="variable">st</span></a><a class="idref" href="PLF.Hoare.html#6fac257586d84b458187327c836ad986"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">|</span></a> <a id="RepeatExercise.E_Seq" class="idref" href="#RepeatExercise.E_Seq"><span class="id" title="constructor">E_Seq</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">∀</span></a> <a id="c1:169" class="idref" href="#c1:169"><span class="id" title="binder">c1</span></a> <a id="c2:170" class="idref" href="#c2:170"><span class="id" title="binder">c2</span></a> <a id="st:171" class="idref" href="#st:171"><span class="id" title="binder">st</span></a> <a id="st':172" class="idref" href="#st':172"><span class="id" title="binder">st'</span></a> <a id="st'':173" class="idref" href="#st'':173"><span class="id" title="binder">st''</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#st:171"><span class="id" title="variable">st</span></a>  <a class="idref" href="PLF.Hoare.html#6fac257586d84b458187327c836ad986"><span class="id" title="notation">=[</span></a> <a class="idref" href="PLF.Hoare.html#c1:169"><span class="id" title="variable">c1</span></a> <a class="idref" href="PLF.Hoare.html#6fac257586d84b458187327c836ad986"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="PLF.Hoare.html#st':172"><span class="id" title="variable">st'</span></a>  <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#st':172"><span class="id" title="variable">st'</span></a> <a class="idref" href="PLF.Hoare.html#6fac257586d84b458187327c836ad986"><span class="id" title="notation">=[</span></a> <a class="idref" href="PLF.Hoare.html#c2:170"><span class="id" title="variable">c2</span></a> <a class="idref" href="PLF.Hoare.html#6fac257586d84b458187327c836ad986"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="PLF.Hoare.html#st'':173"><span class="id" title="variable">st''</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#st:171"><span class="id" title="variable">st</span></a>  <a class="idref" href="PLF.Hoare.html#6fac257586d84b458187327c836ad986"><span class="id" title="notation">=[</span></a> <a class="idref" href="PLF.Hoare.html#c1:169"><span class="id" title="variable">c1</span></a> <a class="idref" href="PLF.Hoare.html#47032bba53eedb10a43a5da19a84838f"><span class="id" title="notation">;</span></a> <a class="idref" href="PLF.Hoare.html#c2:170"><span class="id" title="variable">c2</span></a> <a class="idref" href="PLF.Hoare.html#6fac257586d84b458187327c836ad986"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="PLF.Hoare.html#st'':173"><span class="id" title="variable">st''</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">|</span></a> <a id="RepeatExercise.E_IfTrue" class="idref" href="#RepeatExercise.E_IfTrue"><span class="id" title="constructor">E_IfTrue</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">∀</span></a> <a id="st:174" class="idref" href="#st:174"><span class="id" title="binder">st</span></a> <a id="st':175" class="idref" href="#st':175"><span class="id" title="binder">st'</span></a> <a id="b:176" class="idref" href="#b:176"><span class="id" title="binder">b</span></a> <a id="c1:177" class="idref" href="#c1:177"><span class="id" title="binder">c1</span></a> <a id="c2:178" class="idref" href="#c2:178"><span class="id" title="binder">c2</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Imp.html#beval"><span class="id" title="definition">beval</span></a> <a class="idref" href="PLF.Hoare.html#st:174"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Hoare.html#b:176"><span class="id" title="variable">b</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="PLF.Imp.html#:::'true'"><span class="id" title="notation">true</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#st:174"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Hoare.html#6fac257586d84b458187327c836ad986"><span class="id" title="notation">=[</span></a> <a class="idref" href="PLF.Hoare.html#c1:177"><span class="id" title="variable">c1</span></a> <a class="idref" href="PLF.Hoare.html#6fac257586d84b458187327c836ad986"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="PLF.Hoare.html#st':175"><span class="id" title="variable">st'</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#st:174"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Hoare.html#6fac257586d84b458187327c836ad986"><span class="id" title="notation">=[</span></a> <a class="idref" href="PLF.Hoare.html#RepeatExercise.:com::'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">if</span></a> <a class="idref" href="PLF.Hoare.html#b:176"><span class="id" title="variable">b</span></a> <a class="idref" href="PLF.Hoare.html#RepeatExercise.:com::'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">then</span></a> <a class="idref" href="PLF.Hoare.html#c1:177"><span class="id" title="variable">c1</span></a> <a class="idref" href="PLF.Hoare.html#RepeatExercise.:com::'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">else</span></a> <a class="idref" href="PLF.Hoare.html#c2:178"><span class="id" title="variable">c2</span></a> <a class="idref" href="PLF.Hoare.html#RepeatExercise.:com::'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="PLF.Hoare.html#6fac257586d84b458187327c836ad986"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="PLF.Hoare.html#st':175"><span class="id" title="variable">st'</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">|</span></a> <a id="RepeatExercise.E_IfFalse" class="idref" href="#RepeatExercise.E_IfFalse"><span class="id" title="constructor">E_IfFalse</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">∀</span></a> <a id="st:179" class="idref" href="#st:179"><span class="id" title="binder">st</span></a> <a id="st':180" class="idref" href="#st':180"><span class="id" title="binder">st'</span></a> <a id="b:181" class="idref" href="#b:181"><span class="id" title="binder">b</span></a> <a id="c1:182" class="idref" href="#c1:182"><span class="id" title="binder">c1</span></a> <a id="c2:183" class="idref" href="#c2:183"><span class="id" title="binder">c2</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Imp.html#beval"><span class="id" title="definition">beval</span></a> <a class="idref" href="PLF.Hoare.html#st:179"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Hoare.html#b:181"><span class="id" title="variable">b</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="PLF.Imp.html#:::'false'"><span class="id" title="notation">false</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#st:179"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Hoare.html#6fac257586d84b458187327c836ad986"><span class="id" title="notation">=[</span></a> <a class="idref" href="PLF.Hoare.html#c2:183"><span class="id" title="variable">c2</span></a> <a class="idref" href="PLF.Hoare.html#6fac257586d84b458187327c836ad986"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="PLF.Hoare.html#st':180"><span class="id" title="variable">st'</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#st:179"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Hoare.html#6fac257586d84b458187327c836ad986"><span class="id" title="notation">=[</span></a> <a class="idref" href="PLF.Hoare.html#RepeatExercise.:com::'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">if</span></a> <a class="idref" href="PLF.Hoare.html#b:181"><span class="id" title="variable">b</span></a> <a class="idref" href="PLF.Hoare.html#RepeatExercise.:com::'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">then</span></a> <a class="idref" href="PLF.Hoare.html#c1:182"><span class="id" title="variable">c1</span></a> <a class="idref" href="PLF.Hoare.html#RepeatExercise.:com::'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">else</span></a> <a class="idref" href="PLF.Hoare.html#c2:183"><span class="id" title="variable">c2</span></a> <a class="idref" href="PLF.Hoare.html#RepeatExercise.:com::'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="PLF.Hoare.html#6fac257586d84b458187327c836ad986"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="PLF.Hoare.html#st':180"><span class="id" title="variable">st'</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">|</span></a> <a id="RepeatExercise.E_WhileFalse" class="idref" href="#RepeatExercise.E_WhileFalse"><span class="id" title="constructor">E_WhileFalse</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">∀</span></a> <a id="b:184" class="idref" href="#b:184"><span class="id" title="binder">b</span></a> <a id="st:185" class="idref" href="#st:185"><span class="id" title="binder">st</span></a> <a id="c:186" class="idref" href="#c:186"><span class="id" title="binder">c</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Imp.html#beval"><span class="id" title="definition">beval</span></a> <a class="idref" href="PLF.Hoare.html#st:185"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Hoare.html#b:184"><span class="id" title="variable">b</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="PLF.Imp.html#:::'false'"><span class="id" title="notation">false</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#st:185"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Hoare.html#6fac257586d84b458187327c836ad986"><span class="id" title="notation">=[</span></a> <a class="idref" href="PLF.Hoare.html#RepeatExercise.:com::'while'_x_'do'_x_'end'"><span class="id" title="notation">while</span></a> <a class="idref" href="PLF.Hoare.html#b:184"><span class="id" title="variable">b</span></a> <a class="idref" href="PLF.Hoare.html#RepeatExercise.:com::'while'_x_'do'_x_'end'"><span class="id" title="notation">do</span></a> <a class="idref" href="PLF.Hoare.html#c:186"><span class="id" title="variable">c</span></a> <a class="idref" href="PLF.Hoare.html#RepeatExercise.:com::'while'_x_'do'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="PLF.Hoare.html#6fac257586d84b458187327c836ad986"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="PLF.Hoare.html#st:185"><span class="id" title="variable">st</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">|</span></a> <a id="RepeatExercise.E_WhileTrue" class="idref" href="#RepeatExercise.E_WhileTrue"><span class="id" title="constructor">E_WhileTrue</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">∀</span></a> <a id="st:187" class="idref" href="#st:187"><span class="id" title="binder">st</span></a> <a id="st':188" class="idref" href="#st':188"><span class="id" title="binder">st'</span></a> <a id="st'':189" class="idref" href="#st'':189"><span class="id" title="binder">st''</span></a> <a id="b:190" class="idref" href="#b:190"><span class="id" title="binder">b</span></a> <a id="c:191" class="idref" href="#c:191"><span class="id" title="binder">c</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Imp.html#beval"><span class="id" title="definition">beval</span></a> <a class="idref" href="PLF.Hoare.html#st:187"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Hoare.html#b:190"><span class="id" title="variable">b</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="PLF.Imp.html#:::'true'"><span class="id" title="notation">true</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#st:187"><span class="id" title="variable">st</span></a>  <a class="idref" href="PLF.Hoare.html#6fac257586d84b458187327c836ad986"><span class="id" title="notation">=[</span></a> <a class="idref" href="PLF.Hoare.html#c:191"><span class="id" title="variable">c</span></a> <a class="idref" href="PLF.Hoare.html#6fac257586d84b458187327c836ad986"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="PLF.Hoare.html#st':188"><span class="id" title="variable">st'</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#st':188"><span class="id" title="variable">st'</span></a> <a class="idref" href="PLF.Hoare.html#6fac257586d84b458187327c836ad986"><span class="id" title="notation">=[</span></a> <a class="idref" href="PLF.Hoare.html#RepeatExercise.:com::'while'_x_'do'_x_'end'"><span class="id" title="notation">while</span></a> <a class="idref" href="PLF.Hoare.html#b:190"><span class="id" title="variable">b</span></a> <a class="idref" href="PLF.Hoare.html#RepeatExercise.:com::'while'_x_'do'_x_'end'"><span class="id" title="notation">do</span></a> <a class="idref" href="PLF.Hoare.html#c:191"><span class="id" title="variable">c</span></a> <a class="idref" href="PLF.Hoare.html#RepeatExercise.:com::'while'_x_'do'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="PLF.Hoare.html#6fac257586d84b458187327c836ad986"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="PLF.Hoare.html#st'':189"><span class="id" title="variable">st''</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#st:187"><span class="id" title="variable">st</span></a>  <a class="idref" href="PLF.Hoare.html#6fac257586d84b458187327c836ad986"><span class="id" title="notation">=[</span></a> <a class="idref" href="PLF.Hoare.html#RepeatExercise.:com::'while'_x_'do'_x_'end'"><span class="id" title="notation">while</span></a> <a class="idref" href="PLF.Hoare.html#b:190"><span class="id" title="variable">b</span></a> <a class="idref" href="PLF.Hoare.html#RepeatExercise.:com::'while'_x_'do'_x_'end'"><span class="id" title="notation">do</span></a> <a class="idref" href="PLF.Hoare.html#c:191"><span class="id" title="variable">c</span></a> <a class="idref" href="PLF.Hoare.html#RepeatExercise.:com::'while'_x_'do'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="PLF.Hoare.html#6fac257586d84b458187327c836ad986"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="PLF.Hoare.html#st'':189"><span class="id" title="variable">st''</span></a><br/>
<br/>
<br/>
<span class="id" title="keyword">where</span> <a id="6fac257586d84b458187327c836ad986" class="idref" href="#6fac257586d84b458187327c836ad986"><span class="id" title="notation">&quot;</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">st '=[' c ']=&gt;' st'</span></a>" <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:=</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#ceval:163"><span class="id" title="inductive">ceval</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">st</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">c</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">st'</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a>.<br/>

<br/>
</div>

<div class="doc">
A couple of definitions from above, copied here so they use the
    new <span class="inlinecode"><span class="id" title="var">ceval</span></span>. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a id="RepeatExercise.valid_hoare_triple" class="idref" href="#RepeatExercise.valid_hoare_triple"><span class="id" title="definition">valid_hoare_triple</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a id="P:192" class="idref" href="#P:192"><span class="id" title="binder">P</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#Assertion"><span class="id" title="definition">Assertion</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a id="c:193" class="idref" href="#c:193"><span class="id" title="binder">c</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#RepeatExercise.com"><span class="id" title="inductive">com</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a id="Q:194" class="idref" href="#Q:194"><span class="id" title="binder">Q</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#Assertion"><span class="id" title="definition">Assertion</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Prop</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">∀</span></a> <a id="st:195" class="idref" href="#st:195"><span class="id" title="binder">st</span></a> <a id="st':196" class="idref" href="#st':196"><span class="id" title="binder">st'</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">,</span></a> <a class="idref" href="PLF.Hoare.html#st:195"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Hoare.html#6fac257586d84b458187327c836ad986"><span class="id" title="notation">=[</span></a> <a class="idref" href="PLF.Hoare.html#c:193"><span class="id" title="variable">c</span></a> <a class="idref" href="PLF.Hoare.html#6fac257586d84b458187327c836ad986"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="PLF.Hoare.html#st':196"><span class="id" title="variable">st'</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="PLF.Hoare.html#P:192"><span class="id" title="variable">P</span></a> <a class="idref" href="PLF.Hoare.html#st:195"><span class="id" title="variable">st</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="PLF.Hoare.html#Q:194"><span class="id" title="variable">Q</span></a> <a class="idref" href="PLF.Hoare.html#st':196"><span class="id" title="variable">st'</span></a>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a id="05da839d89b90196e424d0704d49e3bd" class="idref" href="#05da839d89b90196e424d0704d49e3bd"><span class="id" title="notation">&quot;</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">{{ P }} c {{ Q }}</span></a>" <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#RepeatExercise.valid_hoare_triple"><span class="id" title="definition">valid_hoare_triple</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">P</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">c</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Q</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">2,</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">P</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">custom</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">assn</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">99,</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">c</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">custom</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">com</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">99,</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Q</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">custom</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">assn</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">99)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">hoare_spec_scope</span></a>.<br/>

<br/>
</div>

<div class="doc">
To make sure you've got the evaluation rules for <span class="inlinecode"><span class="id" title="tactic">repeat</span></span> right,
    prove that <span class="inlinecode"><span class="id" title="var">ex1_repeat</span></span> evaluates correctly. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a id="RepeatExercise.ex1_repeat" class="idref" href="#RepeatExercise.ex1_repeat"><span class="id" title="definition">ex1_repeat</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="PLF.Hoare.html#RepeatExercise.:com::'repeat'_x_'until'_x_'end'"><span class="id" title="notation">repeat</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="PLF.Hoare.html#36cabe8d358913ff5c5a00e869f6acb5"><span class="id" title="notation">:=</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">1</span></a><a class="idref" href="PLF.Hoare.html#47032bba53eedb10a43a5da19a84838f"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Imp.html#Y"><span class="id" title="definition">Y</span></a> <a class="idref" href="PLF.Hoare.html#36cabe8d358913ff5c5a00e869f6acb5"><span class="id" title="notation">:=</span></a> <a class="idref" href="PLF.Imp.html#Y"><span class="id" title="definition">Y</span></a> <a class="idref" href="PLF.Imp.html#ad27fd091d9c8494ce7e5135135d19a8"><span class="id" title="notation">+</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">1</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#RepeatExercise.:com::'repeat'_x_'until'_x_'end'"><span class="id" title="notation">until</span></a> <a class="idref" href="PLF.Imp.html#5a96623d056c293ebbcdf03005796e09"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="PLF.Imp.html#9e5b22caf5d7cf490e97976162618c2a"><span class="id" title="notation">=</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">1</span></a><a class="idref" href="PLF.Imp.html#5a96623d056c293ebbcdf03005796e09"><span class="id" title="notation">)</span></a> <a class="idref" href="PLF.Hoare.html#RepeatExercise.:com::'repeat'_x_'until'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a>.<br/>

<br/>
<span class="id" title="keyword">Theorem</span> <a id="RepeatExercise.ex1_repeat_works" class="idref" href="#RepeatExercise.ex1_repeat_works"><span class="id" title="lemma">ex1_repeat_works</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Imp.html#empty_st"><span class="id" title="definition">empty_st</span></a> <a class="idref" href="PLF.Hoare.html#6fac257586d84b458187327c836ad986"><span class="id" title="notation">=[</span></a> <a class="idref" href="PLF.Hoare.html#RepeatExercise.ex1_repeat"><span class="id" title="definition">ex1_repeat</span></a> <a class="idref" href="PLF.Hoare.html#6fac257586d84b458187327c836ad986"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="PLF.Hoare.html#6fac257586d84b458187327c836ad986"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Imp.html#Y"><span class="id" title="definition">Y</span></a> <a class="idref" href="PLF.Maps.html#630986d105c0f1782d085b9a306379a7"><span class="id" title="notation">!-&gt;</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">1</span></a> <a class="idref" href="PLF.Maps.html#630986d105c0f1782d085b9a306379a7"><span class="id" title="notation">;</span></a> <a class="idref" href="PLF.Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="PLF.Imp.html#c78e6ed7f05f8146dc2bcb368255bece"><span class="id" title="notation">!-&gt;</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">1</span></a><a class="idref" href="PLF.Hoare.html#6fac257586d84b458187327c836ad986"><span class="id" title="notation">)</span></a>.<br/>
<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Proof</span></a>.<br/>
 <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Admitted</span></a>.<br/>

<br/>
</div>

<div class="doc">
Now state and prove a theorem, <span class="inlinecode"><span class="id" title="var">hoare_repeat</span></span>, that expresses an
    appropriate proof rule for <span class="inlinecode"><span class="id" title="tactic">repeat</span></span> commands.  Use <span class="inlinecode"><span class="id" title="var">hoare_while</span></span>
    as a model, and try to make your rule as precise as possible. 
</div>
<div class="code">

<br/>

<br/>
</div>

<div class="doc">
For full credit, make sure (informally) that your rule can be used
    to prove the following valid Hoare triple:

<div class="paragraph"> </div>

  <a href=" X > 0 "> X > 0 </a>
    repeat
      Y := X;
      X := X - 1
    until X = 0 end
  <a href=" X = 0 /\ Y > 0 "> X = 0 /\ Y > 0 </a>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="PLF.Hoare.html#RepeatExercise"><span class="id" title="module">RepeatExercise</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="manual_grade_for_hoare_repeat" class="idref" href="#manual_grade_for_hoare_repeat"><span class="id" title="definition">manual_grade_for_hoare_repeat</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a><span class="id" title="inductive">string</span><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:=</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>
</div>

<div class="doc">
<font size=-2>&#9744;</font> 
</div>
<div class="code">

<br/>
</div>

<div class="doc">
<a id="lab84"></a><h1 class="section">Summary</h1>

<div class="paragraph"> </div>

 So far, we've introduced Hoare Logic as a tool for reasoning about
    Imp programs.

<div class="paragraph"> </div>

    The rules of Hoare Logic are:
<hr/>
 (hoare_asgn)
             <a href="Q [X |-> a]">Q [X |-> a]</a> X:=a <a href="Q">Q</a>
<hr/>
  (hoare_skip)
             <a href=" P "> P </a> skip <a href=" P "> P </a>

<div class="paragraph"> </div>

               <a href=" P "> P </a> c1 <a href=" Q "> Q </a>
               <a href=" Q "> Q </a> c2 <a href=" R "> R </a>
<hr/>
  (hoare_seq)
              <a href=" P "> P </a> c1;c2 <a href=" R "> R </a>

<div class="paragraph"> </div>

              <a href="P /\   b">P /\   b</a> c1 <a href="Q">Q</a>
              <a href="P /\ ~ b">P /\ ~ b</a> c2 <a href="Q">Q</a>
<hr/>
  (hoare_if)
      <a href="P">P</a> if b then c1 else c2 end <a href="Q">Q</a>

<div class="paragraph"> </div>

               <a href="P /\ b">P /\ b</a> c <a href="P">P</a>
<hr/>
  (hoare_while)
        <a href="P">P</a> while b do c end <a href="P /\ ~ b">P /\ ~ b</a>

<div class="paragraph"> </div>

                <a href="P'">P'</a> c <a href="Q'">Q'</a>
                   P -&gt;&gt; P'
                   Q' -&gt;&gt; Q
<hr/>
   (hoare_consequence)
                <a href="P">P</a> c <a href="Q">Q</a>

<div class="paragraph"> </div>

 Our task in this chapter has been to <i>define</i> the rules of Hoare
    logic, and prove that the definitions are sound.  Having done so,
    we can now work <i>within</i> Hoare logic to prove that particular
    programs satisfy particular Hoare triples.  In the next chapter,
    we'll see how Hoare logic is can be used to prove that more
    interesting programs satisfy interesting specifications of their
    behavior.

<div class="paragraph"> </div>

    Crucially, we will do so without ever again <span class="inlinecode"><span class="id" title="tactic">unfold</span></span>ing the
    definition of Hoare triples -- i.e., we will take the rules of
    Hoare logic as a closed world for reasoning about programs. 
</div>
<div class="code">

<br/>
</div>

<div class="doc">
<a id="lab85"></a><h1 class="section">Additional Exercises</h1>

</div>
<div class="code">

<br/>
</div>

<div class="doc">
<a id="lab86"></a><h2 class="section">Havoc</h2>

<div class="paragraph"> </div>

 In this exercise, we will derive proof rules for a <span class="inlinecode"><span class="id" title="var">HAVOC</span></span>
    command, which is similar to the nondeterministic <span class="inlinecode"><span class="id" title="var">any</span></span> expression
    from the the <span class="inlinecode"><span class="id" title="var">Imp</span></span> chapter.

<div class="paragraph"> </div>

    First, we enclose this work in a separate module, and recall the
    syntax and big-step semantics of Himp commands. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Module</span> <a id="Himp" class="idref" href="#Himp"><span class="id" title="module">Himp</span></a>.<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a id="Himp.com" class="idref" href="#Himp.com"><span class="id" title="definition, inductive"><span id="Himp.com_rect" class="id"><span id="Himp.com_ind" class="id"><span id="Himp.com_rec" class="id"><span id="Himp.com_sind" class="id">com</span></span></span></span></span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Type</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">|</span></a> <a id="Himp.CSkip" class="idref" href="#Himp.CSkip"><span class="id" title="constructor">CSkip</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#com:197"><span class="id" title="inductive">com</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">|</span></a> <a id="Himp.CAsgn" class="idref" href="#Himp.CAsgn"><span class="id" title="constructor">CAsgn</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <span class="id" title="inductive">string</span> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="PLF.Imp.html#aexp"><span class="id" title="inductive">aexp</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="PLF.Hoare.html#com:197"><span class="id" title="inductive">com</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">|</span></a> <a id="Himp.CSeq" class="idref" href="#Himp.CSeq"><span class="id" title="constructor">CSeq</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#com:197"><span class="id" title="inductive">com</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="PLF.Hoare.html#com:197"><span class="id" title="inductive">com</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="PLF.Hoare.html#com:197"><span class="id" title="inductive">com</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">|</span></a> <a id="Himp.CIf" class="idref" href="#Himp.CIf"><span class="id" title="constructor">CIf</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Imp.html#bexp"><span class="id" title="inductive">bexp</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="PLF.Hoare.html#com:197"><span class="id" title="inductive">com</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="PLF.Hoare.html#com:197"><span class="id" title="inductive">com</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="PLF.Hoare.html#com:197"><span class="id" title="inductive">com</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">|</span></a> <a id="Himp.CWhile" class="idref" href="#Himp.CWhile"><span class="id" title="constructor">CWhile</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Imp.html#bexp"><span class="id" title="inductive">bexp</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="PLF.Hoare.html#com:197"><span class="id" title="inductive">com</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="PLF.Hoare.html#com:197"><span class="id" title="inductive">com</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">|</span></a> <a id="Himp.CHavoc" class="idref" href="#Himp.CHavoc"><span class="id" title="constructor">CHavoc</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <span class="id" title="inductive">string</span> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="PLF.Hoare.html#com:197"><span class="id" title="inductive">com</span></a>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a id="Himp.:com::'havoc'_x" class="idref" href="#Himp.:com::'havoc'_x"><span class="id" title="notation">&quot;</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">'havoc' l</span></a>" <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:=</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#Himp.CHavoc"><span class="id" title="constructor">CHavoc</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">l</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">in</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">custom</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">com</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">60,</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">l</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">constr</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">0)</span></a>.<br/>
<span class="id" title="keyword">Notation</span> <a id="Himp.:com::'skip'" class="idref" href="#Himp.:com::'skip'"><span class="id" title="notation">&quot;</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">'skip'</span></a>"  <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#Himp.CSkip"><span class="id" title="constructor">CSkip</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">in</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">custom</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">com</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">0)</span></a>.<br/>
<span class="id" title="keyword">Notation</span> <a id="8520c4c68851dd55d33b324c83d1c4f5" class="idref" href="#8520c4c68851dd55d33b324c83d1c4f5"><span class="id" title="notation">&quot;</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">x := y</span></a>"  <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#Himp.CAsgn"><span class="id" title="constructor">CAsgn</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">x</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">y</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">in</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">custom</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">com</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">0,</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">x</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">constr</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">0,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">y</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">85,</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">no</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">associativity</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Notation</span> <a id="77cb1189aa0f77e096b5d4774eb2d829" class="idref" href="#77cb1189aa0f77e096b5d4774eb2d829"><span class="id" title="notation">&quot;</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">x ; y</span></a>" <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#Himp.CSeq"><span class="id" title="constructor">CSeq</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">x</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">y</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">in</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">custom</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">com</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">90,</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">right</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">associativity</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Notation</span> <a id="Himp.:com::'if'_x_'then'_x_'else'_x_'end'" class="idref" href="#Himp.:com::'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">&quot;</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">'if' x 'then' y 'else' z 'end'</span></a>" <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#Himp.CIf"><span class="id" title="constructor">CIf</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">x</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">y</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">z</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">in</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">custom</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">com</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">89,</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">x</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">99,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">y</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">99,</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">z</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">99)</span></a>.<br/>
<span class="id" title="keyword">Notation</span> <a id="Himp.:com::'while'_x_'do'_x_'end'" class="idref" href="#Himp.:com::'while'_x_'do'_x_'end'"><span class="id" title="notation">&quot;</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">'while' x 'do' y 'end'</span></a>" <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#Himp.CWhile"><span class="id" title="constructor">CWhile</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">x</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">y</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">in</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">custom</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">com</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">89,</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">x</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">99,</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">y</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">99)</span></a>.<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a id="Himp.ceval" class="idref" href="#Himp.ceval"><span class="id" title="definition, inductive"><span id="Himp.ceval_ind" class="id"><span id="Himp.ceval_sind" class="id">ceval</span></span></span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#Himp.com"><span class="id" title="inductive">com</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="PLF.Imp.html#state"><span class="id" title="definition">state</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="PLF.Imp.html#state"><span class="id" title="definition">state</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Prop</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">|</span></a> <a id="Himp.E_Skip" class="idref" href="#Himp.E_Skip"><span class="id" title="constructor">E_Skip</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">∀</span></a> <a id="st:201" class="idref" href="#st:201"><span class="id" title="binder">st</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#st:201"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Hoare.html#e8def6e1c7a66877a96e361d5569b34e"><span class="id" title="notation">=[</span></a> <a class="idref" href="PLF.Hoare.html#Himp.:com::'skip'"><span class="id" title="notation">skip</span></a> <a class="idref" href="PLF.Hoare.html#e8def6e1c7a66877a96e361d5569b34e"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="PLF.Hoare.html#st:201"><span class="id" title="variable">st</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">|</span></a> <a id="Himp.E_Asgn" class="idref" href="#Himp.E_Asgn"><span class="id" title="constructor">E_Asgn</span></a>  <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">∀</span></a> <a id="st:202" class="idref" href="#st:202"><span class="id" title="binder">st</span></a> <a id="a1:203" class="idref" href="#a1:203"><span class="id" title="binder">a1</span></a> <a id="n:204" class="idref" href="#n:204"><span class="id" title="binder">n</span></a> <a id="x:205" class="idref" href="#x:205"><span class="id" title="binder">x</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Imp.html#aeval"><span class="id" title="definition">aeval</span></a> <a class="idref" href="PLF.Hoare.html#st:202"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Hoare.html#a1:203"><span class="id" title="variable">a1</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="PLF.Hoare.html#n:204"><span class="id" title="variable">n</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#st:202"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Hoare.html#e8def6e1c7a66877a96e361d5569b34e"><span class="id" title="notation">=[</span></a> <a class="idref" href="PLF.Hoare.html#x:205"><span class="id" title="variable">x</span></a> <a class="idref" href="PLF.Hoare.html#8520c4c68851dd55d33b324c83d1c4f5"><span class="id" title="notation">:=</span></a> <a class="idref" href="PLF.Hoare.html#a1:203"><span class="id" title="variable">a1</span></a> <a class="idref" href="PLF.Hoare.html#e8def6e1c7a66877a96e361d5569b34e"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="PLF.Hoare.html#e8def6e1c7a66877a96e361d5569b34e"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#x:205"><span class="id" title="variable">x</span></a> <a class="idref" href="PLF.Maps.html#630986d105c0f1782d085b9a306379a7"><span class="id" title="notation">!-&gt;</span></a> <a class="idref" href="PLF.Hoare.html#n:204"><span class="id" title="variable">n</span></a> <a class="idref" href="PLF.Maps.html#630986d105c0f1782d085b9a306379a7"><span class="id" title="notation">;</span></a> <a class="idref" href="PLF.Hoare.html#st:202"><span class="id" title="variable">st</span></a><a class="idref" href="PLF.Hoare.html#e8def6e1c7a66877a96e361d5569b34e"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">|</span></a> <a id="Himp.E_Seq" class="idref" href="#Himp.E_Seq"><span class="id" title="constructor">E_Seq</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">∀</span></a> <a id="c1:206" class="idref" href="#c1:206"><span class="id" title="binder">c1</span></a> <a id="c2:207" class="idref" href="#c2:207"><span class="id" title="binder">c2</span></a> <a id="st:208" class="idref" href="#st:208"><span class="id" title="binder">st</span></a> <a id="st':209" class="idref" href="#st':209"><span class="id" title="binder">st'</span></a> <a id="st'':210" class="idref" href="#st'':210"><span class="id" title="binder">st''</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#st:208"><span class="id" title="variable">st</span></a>  <a class="idref" href="PLF.Hoare.html#e8def6e1c7a66877a96e361d5569b34e"><span class="id" title="notation">=[</span></a> <a class="idref" href="PLF.Hoare.html#c1:206"><span class="id" title="variable">c1</span></a> <a class="idref" href="PLF.Hoare.html#e8def6e1c7a66877a96e361d5569b34e"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="PLF.Hoare.html#st':209"><span class="id" title="variable">st'</span></a>  <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#st':209"><span class="id" title="variable">st'</span></a> <a class="idref" href="PLF.Hoare.html#e8def6e1c7a66877a96e361d5569b34e"><span class="id" title="notation">=[</span></a> <a class="idref" href="PLF.Hoare.html#c2:207"><span class="id" title="variable">c2</span></a> <a class="idref" href="PLF.Hoare.html#e8def6e1c7a66877a96e361d5569b34e"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="PLF.Hoare.html#st'':210"><span class="id" title="variable">st''</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#st:208"><span class="id" title="variable">st</span></a>  <a class="idref" href="PLF.Hoare.html#e8def6e1c7a66877a96e361d5569b34e"><span class="id" title="notation">=[</span></a> <a class="idref" href="PLF.Hoare.html#c1:206"><span class="id" title="variable">c1</span></a> <a class="idref" href="PLF.Hoare.html#77cb1189aa0f77e096b5d4774eb2d829"><span class="id" title="notation">;</span></a> <a class="idref" href="PLF.Hoare.html#c2:207"><span class="id" title="variable">c2</span></a> <a class="idref" href="PLF.Hoare.html#e8def6e1c7a66877a96e361d5569b34e"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="PLF.Hoare.html#st'':210"><span class="id" title="variable">st''</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">|</span></a> <a id="Himp.E_IfTrue" class="idref" href="#Himp.E_IfTrue"><span class="id" title="constructor">E_IfTrue</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">∀</span></a> <a id="st:211" class="idref" href="#st:211"><span class="id" title="binder">st</span></a> <a id="st':212" class="idref" href="#st':212"><span class="id" title="binder">st'</span></a> <a id="b:213" class="idref" href="#b:213"><span class="id" title="binder">b</span></a> <a id="c1:214" class="idref" href="#c1:214"><span class="id" title="binder">c1</span></a> <a id="c2:215" class="idref" href="#c2:215"><span class="id" title="binder">c2</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Imp.html#beval"><span class="id" title="definition">beval</span></a> <a class="idref" href="PLF.Hoare.html#st:211"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Hoare.html#b:213"><span class="id" title="variable">b</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="PLF.Imp.html#:::'true'"><span class="id" title="notation">true</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#st:211"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Hoare.html#e8def6e1c7a66877a96e361d5569b34e"><span class="id" title="notation">=[</span></a> <a class="idref" href="PLF.Hoare.html#c1:214"><span class="id" title="variable">c1</span></a> <a class="idref" href="PLF.Hoare.html#e8def6e1c7a66877a96e361d5569b34e"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="PLF.Hoare.html#st':212"><span class="id" title="variable">st'</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#st:211"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Hoare.html#e8def6e1c7a66877a96e361d5569b34e"><span class="id" title="notation">=[</span></a> <a class="idref" href="PLF.Hoare.html#Himp.:com::'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">if</span></a> <a class="idref" href="PLF.Hoare.html#b:213"><span class="id" title="variable">b</span></a> <a class="idref" href="PLF.Hoare.html#Himp.:com::'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">then</span></a> <a class="idref" href="PLF.Hoare.html#c1:214"><span class="id" title="variable">c1</span></a> <a class="idref" href="PLF.Hoare.html#Himp.:com::'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">else</span></a> <a class="idref" href="PLF.Hoare.html#c2:215"><span class="id" title="variable">c2</span></a> <a class="idref" href="PLF.Hoare.html#Himp.:com::'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="PLF.Hoare.html#e8def6e1c7a66877a96e361d5569b34e"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="PLF.Hoare.html#st':212"><span class="id" title="variable">st'</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">|</span></a> <a id="Himp.E_IfFalse" class="idref" href="#Himp.E_IfFalse"><span class="id" title="constructor">E_IfFalse</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">∀</span></a> <a id="st:216" class="idref" href="#st:216"><span class="id" title="binder">st</span></a> <a id="st':217" class="idref" href="#st':217"><span class="id" title="binder">st'</span></a> <a id="b:218" class="idref" href="#b:218"><span class="id" title="binder">b</span></a> <a id="c1:219" class="idref" href="#c1:219"><span class="id" title="binder">c1</span></a> <a id="c2:220" class="idref" href="#c2:220"><span class="id" title="binder">c2</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Imp.html#beval"><span class="id" title="definition">beval</span></a> <a class="idref" href="PLF.Hoare.html#st:216"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Hoare.html#b:218"><span class="id" title="variable">b</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="PLF.Imp.html#:::'false'"><span class="id" title="notation">false</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#st:216"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Hoare.html#e8def6e1c7a66877a96e361d5569b34e"><span class="id" title="notation">=[</span></a> <a class="idref" href="PLF.Hoare.html#c2:220"><span class="id" title="variable">c2</span></a> <a class="idref" href="PLF.Hoare.html#e8def6e1c7a66877a96e361d5569b34e"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="PLF.Hoare.html#st':217"><span class="id" title="variable">st'</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#st:216"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Hoare.html#e8def6e1c7a66877a96e361d5569b34e"><span class="id" title="notation">=[</span></a> <a class="idref" href="PLF.Hoare.html#Himp.:com::'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">if</span></a> <a class="idref" href="PLF.Hoare.html#b:218"><span class="id" title="variable">b</span></a> <a class="idref" href="PLF.Hoare.html#Himp.:com::'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">then</span></a> <a class="idref" href="PLF.Hoare.html#c1:219"><span class="id" title="variable">c1</span></a> <a class="idref" href="PLF.Hoare.html#Himp.:com::'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">else</span></a> <a class="idref" href="PLF.Hoare.html#c2:220"><span class="id" title="variable">c2</span></a> <a class="idref" href="PLF.Hoare.html#Himp.:com::'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="PLF.Hoare.html#e8def6e1c7a66877a96e361d5569b34e"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="PLF.Hoare.html#st':217"><span class="id" title="variable">st'</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">|</span></a> <a id="Himp.E_WhileFalse" class="idref" href="#Himp.E_WhileFalse"><span class="id" title="constructor">E_WhileFalse</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">∀</span></a> <a id="b:221" class="idref" href="#b:221"><span class="id" title="binder">b</span></a> <a id="st:222" class="idref" href="#st:222"><span class="id" title="binder">st</span></a> <a id="c:223" class="idref" href="#c:223"><span class="id" title="binder">c</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Imp.html#beval"><span class="id" title="definition">beval</span></a> <a class="idref" href="PLF.Hoare.html#st:222"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Hoare.html#b:221"><span class="id" title="variable">b</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="PLF.Imp.html#:::'false'"><span class="id" title="notation">false</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#st:222"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Hoare.html#e8def6e1c7a66877a96e361d5569b34e"><span class="id" title="notation">=[</span></a> <a class="idref" href="PLF.Hoare.html#Himp.:com::'while'_x_'do'_x_'end'"><span class="id" title="notation">while</span></a> <a class="idref" href="PLF.Hoare.html#b:221"><span class="id" title="variable">b</span></a> <a class="idref" href="PLF.Hoare.html#Himp.:com::'while'_x_'do'_x_'end'"><span class="id" title="notation">do</span></a> <a class="idref" href="PLF.Hoare.html#c:223"><span class="id" title="variable">c</span></a> <a class="idref" href="PLF.Hoare.html#Himp.:com::'while'_x_'do'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="PLF.Hoare.html#e8def6e1c7a66877a96e361d5569b34e"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="PLF.Hoare.html#st:222"><span class="id" title="variable">st</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">|</span></a> <a id="Himp.E_WhileTrue" class="idref" href="#Himp.E_WhileTrue"><span class="id" title="constructor">E_WhileTrue</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">∀</span></a> <a id="st:224" class="idref" href="#st:224"><span class="id" title="binder">st</span></a> <a id="st':225" class="idref" href="#st':225"><span class="id" title="binder">st'</span></a> <a id="st'':226" class="idref" href="#st'':226"><span class="id" title="binder">st''</span></a> <a id="b:227" class="idref" href="#b:227"><span class="id" title="binder">b</span></a> <a id="c:228" class="idref" href="#c:228"><span class="id" title="binder">c</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Imp.html#beval"><span class="id" title="definition">beval</span></a> <a class="idref" href="PLF.Hoare.html#st:224"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Hoare.html#b:227"><span class="id" title="variable">b</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="PLF.Imp.html#:::'true'"><span class="id" title="notation">true</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#st:224"><span class="id" title="variable">st</span></a>  <a class="idref" href="PLF.Hoare.html#e8def6e1c7a66877a96e361d5569b34e"><span class="id" title="notation">=[</span></a> <a class="idref" href="PLF.Hoare.html#c:228"><span class="id" title="variable">c</span></a> <a class="idref" href="PLF.Hoare.html#e8def6e1c7a66877a96e361d5569b34e"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="PLF.Hoare.html#st':225"><span class="id" title="variable">st'</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#st':225"><span class="id" title="variable">st'</span></a> <a class="idref" href="PLF.Hoare.html#e8def6e1c7a66877a96e361d5569b34e"><span class="id" title="notation">=[</span></a> <a class="idref" href="PLF.Hoare.html#Himp.:com::'while'_x_'do'_x_'end'"><span class="id" title="notation">while</span></a> <a class="idref" href="PLF.Hoare.html#b:227"><span class="id" title="variable">b</span></a> <a class="idref" href="PLF.Hoare.html#Himp.:com::'while'_x_'do'_x_'end'"><span class="id" title="notation">do</span></a> <a class="idref" href="PLF.Hoare.html#c:228"><span class="id" title="variable">c</span></a> <a class="idref" href="PLF.Hoare.html#Himp.:com::'while'_x_'do'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="PLF.Hoare.html#e8def6e1c7a66877a96e361d5569b34e"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="PLF.Hoare.html#st'':226"><span class="id" title="variable">st''</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#st:224"><span class="id" title="variable">st</span></a>  <a class="idref" href="PLF.Hoare.html#e8def6e1c7a66877a96e361d5569b34e"><span class="id" title="notation">=[</span></a> <a class="idref" href="PLF.Hoare.html#Himp.:com::'while'_x_'do'_x_'end'"><span class="id" title="notation">while</span></a> <a class="idref" href="PLF.Hoare.html#b:227"><span class="id" title="variable">b</span></a> <a class="idref" href="PLF.Hoare.html#Himp.:com::'while'_x_'do'_x_'end'"><span class="id" title="notation">do</span></a> <a class="idref" href="PLF.Hoare.html#c:228"><span class="id" title="variable">c</span></a> <a class="idref" href="PLF.Hoare.html#Himp.:com::'while'_x_'do'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="PLF.Hoare.html#e8def6e1c7a66877a96e361d5569b34e"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="PLF.Hoare.html#st'':226"><span class="id" title="variable">st''</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">|</span></a> <a id="Himp.E_Havoc" class="idref" href="#Himp.E_Havoc"><span class="id" title="constructor">E_Havoc</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">∀</span></a> <a id="st:229" class="idref" href="#st:229"><span class="id" title="binder">st</span></a> <a id="x:230" class="idref" href="#x:230"><span class="id" title="binder">x</span></a> <a id="n:231" class="idref" href="#n:231"><span class="id" title="binder">n</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#st:229"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Hoare.html#e8def6e1c7a66877a96e361d5569b34e"><span class="id" title="notation">=[</span></a> <a class="idref" href="PLF.Hoare.html#Himp.:com::'havoc'_x"><span class="id" title="notation">havoc</span></a> <a class="idref" href="PLF.Hoare.html#x:230"><span class="id" title="variable">x</span></a> <a class="idref" href="PLF.Hoare.html#e8def6e1c7a66877a96e361d5569b34e"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="PLF.Hoare.html#e8def6e1c7a66877a96e361d5569b34e"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#x:230"><span class="id" title="variable">x</span></a> <a class="idref" href="PLF.Maps.html#630986d105c0f1782d085b9a306379a7"><span class="id" title="notation">!-&gt;</span></a> <a class="idref" href="PLF.Hoare.html#n:231"><span class="id" title="variable">n</span></a> <a class="idref" href="PLF.Maps.html#630986d105c0f1782d085b9a306379a7"><span class="id" title="notation">;</span></a> <a class="idref" href="PLF.Hoare.html#st:229"><span class="id" title="variable">st</span></a><a class="idref" href="PLF.Hoare.html#e8def6e1c7a66877a96e361d5569b34e"><span class="id" title="notation">)</span></a><br/>
<br/>
<span class="id" title="keyword">where</span> <a id="e8def6e1c7a66877a96e361d5569b34e" class="idref" href="#e8def6e1c7a66877a96e361d5569b34e"><span class="id" title="notation">&quot;</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">st '=[' c ']=&gt;' st'</span></a>" <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:=</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#ceval:200"><span class="id" title="inductive">ceval</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">c</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">st</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">st'</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a>.<br/>

<br/>
<span class="id" title="keyword">Hint Constructors</span> <a class="idref" href="PLF.Hoare.html#ceval"><span class="id" title="inductive">ceval</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">core</span></a>.<br/>

<br/>
</div>

<div class="doc">
The definition of Hoare triples is exactly as before. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a id="Himp.valid_hoare_triple" class="idref" href="#Himp.valid_hoare_triple"><span class="id" title="definition">valid_hoare_triple</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a id="P:232" class="idref" href="#P:232"><span class="id" title="binder">P</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a><a class="idref" href="PLF.Hoare.html#Assertion"><span class="id" title="definition">Assertion</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a id="c:233" class="idref" href="#c:233"><span class="id" title="binder">c</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a><a class="idref" href="PLF.Hoare.html#Himp.com"><span class="id" title="inductive">com</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a id="Q:234" class="idref" href="#Q:234"><span class="id" title="binder">Q</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a><a class="idref" href="PLF.Hoare.html#Assertion"><span class="id" title="definition">Assertion</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Prop</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">∀</span></a> <a id="st:235" class="idref" href="#st:235"><span class="id" title="binder">st</span></a> <a id="st':236" class="idref" href="#st':236"><span class="id" title="binder">st'</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">,</span></a> <a class="idref" href="PLF.Hoare.html#st:235"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Hoare.html#e8def6e1c7a66877a96e361d5569b34e"><span class="id" title="notation">=[</span></a> <a class="idref" href="PLF.Hoare.html#c:233"><span class="id" title="variable">c</span></a> <a class="idref" href="PLF.Hoare.html#e8def6e1c7a66877a96e361d5569b34e"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="PLF.Hoare.html#st':236"><span class="id" title="variable">st'</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="PLF.Hoare.html#P:232"><span class="id" title="variable">P</span></a> <a class="idref" href="PLF.Hoare.html#st:235"><span class="id" title="variable">st</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="PLF.Hoare.html#Q:234"><span class="id" title="variable">Q</span></a> <a class="idref" href="PLF.Hoare.html#st':236"><span class="id" title="variable">st'</span></a>.<br/>

<br/>
<span class="id" title="keyword">Hint Unfold</span> <a class="idref" href="PLF.Hoare.html#Himp.valid_hoare_triple"><span class="id" title="definition">valid_hoare_triple</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">core</span></a>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a id="fa43534376ba696f5288a24534018f6c" class="idref" href="#fa43534376ba696f5288a24534018f6c"><span class="id" title="notation">&quot;</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">{{ P }} c {{ Q }}</span></a>" <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#Himp.valid_hoare_triple"><span class="id" title="definition">valid_hoare_triple</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">P</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">c</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Q</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">2,</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">P</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">custom</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">assn</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">99,</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">c</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">custom</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">com</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">99,</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Q</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">custom</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">assn</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">99)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">hoare_spec_scope</span></a>.<br/>

<br/>
</div>

<div class="doc">
And the precondition consequence rule is exactly as before. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Theorem</span> <a id="Himp.hoare_consequence_pre" class="idref" href="#Himp.hoare_consequence_pre"><span class="id" title="lemma">hoare_consequence_pre</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">∀</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a id="P:237" class="idref" href="#P:237"><span class="id" title="binder">P</span></a> <a id="P':238" class="idref" href="#P':238"><span class="id" title="binder">P'</span></a> <a id="Q:239" class="idref" href="#Q:239"><span class="id" title="binder">Q</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#Assertion"><span class="id" title="definition">Assertion</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a> <a id="c:240" class="idref" href="#c:240"><span class="id" title="binder">c</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#fa43534376ba696f5288a24534018f6c"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Hoare.html#P':238"><span class="id" title="variable">P'</span></a><a class="idref" href="PLF.Hoare.html#fa43534376ba696f5288a24534018f6c"><span class="id" title="notation">}}</span></a> <a class="idref" href="PLF.Hoare.html#c:240"><span class="id" title="variable">c</span></a> <a class="idref" href="PLF.Hoare.html#fa43534376ba696f5288a24534018f6c"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Hoare.html#Q:239"><span class="id" title="variable">Q</span></a><a class="idref" href="PLF.Hoare.html#fa43534376ba696f5288a24534018f6c"><span class="id" title="notation">}}</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#P:237"><span class="id" title="variable">P</span></a> <a class="idref" href="PLF.Hoare.html#::hoare_spec_scope:x_'-&gt;&gt;'_x"><span class="id" title="notation">-&gt;&gt;</span></a> <a class="idref" href="PLF.Hoare.html#P':238"><span class="id" title="variable">P'</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#fa43534376ba696f5288a24534018f6c"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Hoare.html#P:237"><span class="id" title="variable">P</span></a><a class="idref" href="PLF.Hoare.html#fa43534376ba696f5288a24534018f6c"><span class="id" title="notation">}}</span></a> <a class="idref" href="PLF.Hoare.html#c:240"><span class="id" title="variable">c</span></a> <a class="idref" href="PLF.Hoare.html#fa43534376ba696f5288a24534018f6c"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Hoare.html#Q:239"><span class="id" title="variable">Q</span></a><a class="idref" href="PLF.Hoare.html#fa43534376ba696f5288a24534018f6c"><span class="id" title="notation">}}</span></a>.<br/>
<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Proof</span></a>. <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">eauto</span></a>. <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Qed</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab87"></a><h4 class="section">Exercise: 3 stars, advanced (hoare_havoc)</h4>

<div class="paragraph"> </div>

 Complete the Hoare rule for <span class="inlinecode"><span class="id" title="var">HAVOC</span></span> commands below by defining
    <span class="inlinecode"><span class="id" title="var">havoc_pre</span></span>, and prove that the resulting rule is correct. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a id="Himp.havoc_pre" class="idref" href="#Himp.havoc_pre"><span class="id" title="definition">havoc_pre</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a id="X:241" class="idref" href="#X:241"><span class="id" title="binder">X</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <span class="id" title="inductive">string</span><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a id="Q:242" class="idref" href="#Q:242"><span class="id" title="binder">Q</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#Assertion"><span class="id" title="definition">Assertion</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a id="st:243" class="idref" href="#st:243"><span class="id" title="binder">st</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Maps.html#total_map"><span class="id" title="definition">total_map</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Prop</span></a><br/>
&nbsp;&nbsp;. <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Admitted</span></a>.<br/>

<br/>
<span class="id" title="keyword">Theorem</span> <a id="Himp.hoare_havoc" class="idref" href="#Himp.hoare_havoc"><span class="id" title="lemma">hoare_havoc</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">∀</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a id="Q:244" class="idref" href="#Q:244"><span class="id" title="binder">Q</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#Assertion"><span class="id" title="definition">Assertion</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a id="X:245" class="idref" href="#X:245"><span class="id" title="binder">X</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <span class="id" title="inductive">string</span><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#fa43534376ba696f5288a24534018f6c"><span class="id" title="notation">{{</span></a> <a class="idref" href="PLF.Hoare.html#050af2f8cd8a66ec7a9cad8a003de70c"><span class="id" title="notation">$(</span></a><a class="idref" href="PLF.Hoare.html#Himp.havoc_pre"><span class="id" title="axiom">havoc_pre</span></a> <a class="idref" href="PLF.Hoare.html#X:245"><span class="id" title="variable">X</span></a> <a class="idref" href="PLF.Hoare.html#Q:244"><span class="id" title="variable">Q</span></a><a class="idref" href="PLF.Hoare.html#050af2f8cd8a66ec7a9cad8a003de70c"><span class="id" title="notation">)</span></a> <a class="idref" href="PLF.Hoare.html#fa43534376ba696f5288a24534018f6c"><span class="id" title="notation">}}</span></a> <a class="idref" href="PLF.Hoare.html#Himp.:com::'havoc'_x"><span class="id" title="notation">havoc</span></a> <a class="idref" href="PLF.Hoare.html#X:245"><span class="id" title="variable">X</span></a> <a class="idref" href="PLF.Hoare.html#fa43534376ba696f5288a24534018f6c"><span class="id" title="notation">{{</span></a> <a class="idref" href="PLF.Hoare.html#Q:244"><span class="id" title="variable">Q</span></a> <a class="idref" href="PLF.Hoare.html#fa43534376ba696f5288a24534018f6c"><span class="id" title="notation">}}</span></a>.<br/>
<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Proof</span></a>.<br/>
 <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Admitted</span></a>.<br/>
</div>

<div class="doc">
<font size=-2>&#9744;</font> 
<div class="paragraph"> </div>

<a id="lab88"></a><h4 class="section">Exercise: 3 stars, advanced (havoc_post)</h4>


<div class="paragraph"> </div>

    Complete the following proof without changing any of the provided
    commands. If you find that it can't be completed, your definition of
    <span class="inlinecode"><span class="id" title="var">havoc_pre</span></span> is probably too strong. Find a way to relax it so that
    <span class="inlinecode"><span class="id" title="var">havoc_post</span></span> can be proved.

<div class="paragraph"> </div>

    Hint: the <span class="inlinecode"><span class="id" title="var">assertion_auto</span></span> tactics we've built won't help you here.
    You need to proceed manually. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Theorem</span> <a id="Himp.havoc_post" class="idref" href="#Himp.havoc_post"><span class="id" title="lemma">havoc_post</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">∀</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a id="P:246" class="idref" href="#P:246"><span class="id" title="binder">P</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#Assertion"><span class="id" title="definition">Assertion</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a id="X:247" class="idref" href="#X:247"><span class="id" title="binder">X</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <span class="id" title="inductive">string</span><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#fa43534376ba696f5288a24534018f6c"><span class="id" title="notation">{{</span></a> <a class="idref" href="PLF.Hoare.html#P:246"><span class="id" title="variable">P</span></a> <a class="idref" href="PLF.Hoare.html#fa43534376ba696f5288a24534018f6c"><span class="id" title="notation">}}</span></a> <a class="idref" href="PLF.Hoare.html#Himp.:com::'havoc'_x"><span class="id" title="notation">havoc</span></a> <a class="idref" href="PLF.Hoare.html#X:247"><span class="id" title="variable">X</span></a> <a class="idref" href="PLF.Hoare.html#fa43534376ba696f5288a24534018f6c"><span class="id" title="notation">{{</span></a> <a class="idref" href="PLF.Hoare.html#050af2f8cd8a66ec7a9cad8a003de70c"><span class="id" title="notation">$(</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">fun</span></a> <a id="st:248" class="idref" href="#st:248"><span class="id" title="binder">st</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">⇒</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a id="n:249" class="idref" href="#n:249"><span class="id" title="binder">n</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a> <a class="idref" href="PLF.Hoare.html#49b47699af62a6365326c407ef2ff815"><span class="id" title="notation">({{</span></a><a class="idref" href="PLF.Hoare.html#P:246"><span class="id" title="variable">P</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">[</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">X</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">|-&gt;</span></a> <a class="idref" href="PLF.Hoare.html#n:249"><span class="id" title="variable">n</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">]</span></a> <a class="idref" href="PLF.Hoare.html#49b47699af62a6365326c407ef2ff815"><span class="id" title="notation">}})</span></a> <a class="idref" href="PLF.Hoare.html#49b47699af62a6365326c407ef2ff815"><span class="id" title="notation">st</span></a><a class="idref" href="PLF.Hoare.html#050af2f8cd8a66ec7a9cad8a003de70c"><span class="id" title="notation">)</span></a> <a class="idref" href="PLF.Hoare.html#fa43534376ba696f5288a24534018f6c"><span class="id" title="notation">}}</span></a>.<br/>
<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Proof</span></a>.<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">intros</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">P</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">X</span></a>. <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">eapply</span></a> <a class="idref" href="PLF.Hoare.html#Himp.hoare_consequence_pre"><span class="id" title="lemma">hoare_consequence_pre</span></a>.<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">-</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">apply</span></a> <a class="idref" href="PLF.Hoare.html#Himp.hoare_havoc"><span class="id" title="axiom">hoare_havoc</span></a>.<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">-</span></a>  <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Admitted</span></a>.<br/>

<br/>
</div>

<div class="doc">
<font size=-2>&#9744;</font> 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="PLF.Hoare.html#Himp"><span class="id" title="module">Himp</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab89"></a><h2 class="section">Assert and Assume</h2>

<div class="paragraph"> </div>

<a id="lab90"></a><h4 class="section">Exercise: 4 stars, standard (assert_vs_assume)</h4>


<div class="paragraph"> </div>

    In this exercise, we will extend IMP with two commands, <span class="inlinecode"><span class="id" title="tactic">assert</span></span>
    and <span class="inlinecode"><span class="id" title="var">assume</span></span>. Both commands are ways to indicate that a certain
    assertion should hold any time this part of the program is
    reached. However they differ as follows:

<div class="paragraph"> </div>

<ul class="doclist">
<li> If an <span class="inlinecode"><span class="id" title="tactic">assert</span></span> statement fails, it causes the program to go into
      an error state and exit.

<div class="paragraph"> </div>


</li>
<li> If an <span class="inlinecode"><span class="id" title="var">assume</span></span> statement fails, the program fails to evaluate at
      all. In other words, the program gets stuck and has no final
      state.

</li>
</ul>

<div class="paragraph"> </div>

    The new set of commands is: 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Module</span> <a id="HoareAssertAssume" class="idref" href="#HoareAssertAssume"><span class="id" title="module">HoareAssertAssume</span></a>.<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a id="HoareAssertAssume.com" class="idref" href="#HoareAssertAssume.com"><span class="id" title="definition, inductive"><span id="HoareAssertAssume.com_rect" class="id"><span id="HoareAssertAssume.com_ind" class="id"><span id="HoareAssertAssume.com_rec" class="id"><span id="HoareAssertAssume.com_sind" class="id">com</span></span></span></span></span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Type</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">|</span></a> <a id="HoareAssertAssume.CSkip" class="idref" href="#HoareAssertAssume.CSkip"><span class="id" title="constructor">CSkip</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#com:250"><span class="id" title="inductive">com</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">|</span></a> <a id="HoareAssertAssume.CAsgn" class="idref" href="#HoareAssertAssume.CAsgn"><span class="id" title="constructor">CAsgn</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <span class="id" title="inductive">string</span> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="PLF.Imp.html#aexp"><span class="id" title="inductive">aexp</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="PLF.Hoare.html#com:250"><span class="id" title="inductive">com</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">|</span></a> <a id="HoareAssertAssume.CSeq" class="idref" href="#HoareAssertAssume.CSeq"><span class="id" title="constructor">CSeq</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#com:250"><span class="id" title="inductive">com</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="PLF.Hoare.html#com:250"><span class="id" title="inductive">com</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="PLF.Hoare.html#com:250"><span class="id" title="inductive">com</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">|</span></a> <a id="HoareAssertAssume.CIf" class="idref" href="#HoareAssertAssume.CIf"><span class="id" title="constructor">CIf</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Imp.html#bexp"><span class="id" title="inductive">bexp</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="PLF.Hoare.html#com:250"><span class="id" title="inductive">com</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="PLF.Hoare.html#com:250"><span class="id" title="inductive">com</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="PLF.Hoare.html#com:250"><span class="id" title="inductive">com</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">|</span></a> <a id="HoareAssertAssume.CWhile" class="idref" href="#HoareAssertAssume.CWhile"><span class="id" title="constructor">CWhile</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Imp.html#bexp"><span class="id" title="inductive">bexp</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="PLF.Hoare.html#com:250"><span class="id" title="inductive">com</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="PLF.Hoare.html#com:250"><span class="id" title="inductive">com</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">|</span></a> <a id="HoareAssertAssume.CAssert" class="idref" href="#HoareAssertAssume.CAssert"><span class="id" title="constructor">CAssert</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Imp.html#bexp"><span class="id" title="inductive">bexp</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="PLF.Hoare.html#com:250"><span class="id" title="inductive">com</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">|</span></a> <a id="HoareAssertAssume.CAssume" class="idref" href="#HoareAssertAssume.CAssume"><span class="id" title="constructor">CAssume</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Imp.html#bexp"><span class="id" title="inductive">bexp</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="PLF.Hoare.html#com:250"><span class="id" title="inductive">com</span></a>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a id="HoareAssertAssume.:com::'assert'_x" class="idref" href="#HoareAssertAssume.:com::'assert'_x"><span class="id" title="notation">&quot;</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">'assert' l</span></a>" <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:=</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#HoareAssertAssume.CAssert"><span class="id" title="constructor">CAssert</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">l</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">in</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">custom</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">com</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">8,</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">l</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">custom</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">com</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">0)</span></a>.<br/>
<span class="id" title="keyword">Notation</span> <a id="HoareAssertAssume.:com::'assume'_x" class="idref" href="#HoareAssertAssume.:com::'assume'_x"><span class="id" title="notation">&quot;</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">'assume' l</span></a>" <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:=</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#HoareAssertAssume.CAssume"><span class="id" title="constructor">CAssume</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">l</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">in</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">custom</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">com</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">8,</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">l</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">custom</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">com</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">0)</span></a>.<br/>
<span class="id" title="keyword">Notation</span> <a id="HoareAssertAssume.:com::'skip'" class="idref" href="#HoareAssertAssume.:com::'skip'"><span class="id" title="notation">&quot;</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">'skip'</span></a>"  <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#HoareAssertAssume.CSkip"><span class="id" title="constructor">CSkip</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">in</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">custom</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">com</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">0)</span></a>.<br/>
<span class="id" title="keyword">Notation</span> <a id="60a9f580307c9b3c5e2be1b3b9a8ef14" class="idref" href="#60a9f580307c9b3c5e2be1b3b9a8ef14"><span class="id" title="notation">&quot;</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">x := y</span></a>"  <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#HoareAssertAssume.CAsgn"><span class="id" title="constructor">CAsgn</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">x</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">y</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">in</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">custom</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">com</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">0,</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">x</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">constr</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">0,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">y</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">85,</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">no</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">associativity</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Notation</span> <a id="20723b1e1e241a343867017aa438ad3d" class="idref" href="#20723b1e1e241a343867017aa438ad3d"><span class="id" title="notation">&quot;</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">x ; y</span></a>" <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#HoareAssertAssume.CSeq"><span class="id" title="constructor">CSeq</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">x</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">y</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">in</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">custom</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">com</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">90,</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">right</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">associativity</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Notation</span> <a id="HoareAssertAssume.:com::'if'_x_'then'_x_'else'_x_'end'" class="idref" href="#HoareAssertAssume.:com::'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">&quot;</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">'if' x 'then' y 'else' z 'end'</span></a>" <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#HoareAssertAssume.CIf"><span class="id" title="constructor">CIf</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">x</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">y</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">z</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">in</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">custom</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">com</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">89,</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">x</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">99,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">y</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">99,</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">z</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">99)</span></a>.<br/>
<span class="id" title="keyword">Notation</span> <a id="HoareAssertAssume.:com::'while'_x_'do'_x_'end'" class="idref" href="#HoareAssertAssume.:com::'while'_x_'do'_x_'end'"><span class="id" title="notation">&quot;</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">'while' x 'do' y 'end'</span></a>" <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#HoareAssertAssume.CWhile"><span class="id" title="constructor">CWhile</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">x</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">y</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">in</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">custom</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">com</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">89,</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">x</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">99,</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">y</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">99)</span></a>.<br/>

<br/>
</div>

<div class="doc">
To define the behavior of <span class="inlinecode"><span class="id" title="tactic">assert</span></span> and <span class="inlinecode"><span class="id" title="var">assume</span></span>, we need to add
    notation for an error, which indicates that an assertion has
    failed. We modify the <span class="inlinecode"><span class="id" title="var">ceval</span></span> relation, therefore, so that
    it relates a start state to either an end state or to <span class="inlinecode"><span class="id" title="var">error</span></span>.
    The <span class="inlinecode"><span class="id" title="var">result</span></span> type indicates the end value of a program,
    either a state or an error: 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Inductive</span> <a id="HoareAssertAssume.result" class="idref" href="#HoareAssertAssume.result"><span class="id" title="definition, inductive"><span id="HoareAssertAssume.result_rect" class="id"><span id="HoareAssertAssume.result_ind" class="id"><span id="HoareAssertAssume.result_rec" class="id"><span id="HoareAssertAssume.result_sind" class="id">result</span></span></span></span></span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Type</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">|</span></a> <a id="HoareAssertAssume.RNormal" class="idref" href="#HoareAssertAssume.RNormal"><span class="id" title="constructor">RNormal</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Imp.html#state"><span class="id" title="definition">state</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="PLF.Hoare.html#result:252"><span class="id" title="inductive">result</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">|</span></a> <a id="HoareAssertAssume.RError" class="idref" href="#HoareAssertAssume.RError"><span class="id" title="constructor">RError</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#result:252"><span class="id" title="inductive">result</span></a>.<br/>

<br/>
</div>

<div class="doc">
Now we are ready to give you the ceval relation for the new language. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Inductive</span> <a id="HoareAssertAssume.ceval" class="idref" href="#HoareAssertAssume.ceval"><span class="id" title="definition, inductive"><span id="HoareAssertAssume.ceval_ind" class="id"><span id="HoareAssertAssume.ceval_sind" class="id">ceval</span></span></span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#HoareAssertAssume.com"><span class="id" title="inductive">com</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="PLF.Imp.html#state"><span class="id" title="definition">state</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="PLF.Hoare.html#HoareAssertAssume.result"><span class="id" title="inductive">result</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Prop</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:=</span></a><br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">|</span></a> <a id="HoareAssertAssume.E_Skip" class="idref" href="#HoareAssertAssume.E_Skip"><span class="id" title="constructor">E_Skip</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">∀</span></a> <a id="st:256" class="idref" href="#st:256"><span class="id" title="binder">st</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#st:256"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Hoare.html#4b975d013783f0069676486bfb27e44a"><span class="id" title="notation">=[</span></a> <a class="idref" href="PLF.Hoare.html#HoareAssertAssume.:com::'skip'"><span class="id" title="notation">skip</span></a> <a class="idref" href="PLF.Hoare.html#4b975d013783f0069676486bfb27e44a"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="PLF.Hoare.html#HoareAssertAssume.RNormal"><span class="id" title="constructor">RNormal</span></a> <a class="idref" href="PLF.Hoare.html#st:256"><span class="id" title="variable">st</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">|</span></a> <a id="HoareAssertAssume.E_Asgn" class="idref" href="#HoareAssertAssume.E_Asgn"><span class="id" title="constructor">E_Asgn</span></a>  <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">∀</span></a> <a id="st:257" class="idref" href="#st:257"><span class="id" title="binder">st</span></a> <a id="a1:258" class="idref" href="#a1:258"><span class="id" title="binder">a1</span></a> <a id="n:259" class="idref" href="#n:259"><span class="id" title="binder">n</span></a> <a id="x:260" class="idref" href="#x:260"><span class="id" title="binder">x</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Imp.html#aeval"><span class="id" title="definition">aeval</span></a> <a class="idref" href="PLF.Hoare.html#st:257"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Hoare.html#a1:258"><span class="id" title="variable">a1</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="PLF.Hoare.html#n:259"><span class="id" title="variable">n</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#st:257"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Hoare.html#4b975d013783f0069676486bfb27e44a"><span class="id" title="notation">=[</span></a> <a class="idref" href="PLF.Hoare.html#x:260"><span class="id" title="variable">x</span></a> <a class="idref" href="PLF.Hoare.html#60a9f580307c9b3c5e2be1b3b9a8ef14"><span class="id" title="notation">:=</span></a> <a class="idref" href="PLF.Hoare.html#a1:258"><span class="id" title="variable">a1</span></a> <a class="idref" href="PLF.Hoare.html#4b975d013783f0069676486bfb27e44a"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="PLF.Hoare.html#HoareAssertAssume.RNormal"><span class="id" title="constructor">RNormal</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#x:260"><span class="id" title="variable">x</span></a> <a class="idref" href="PLF.Maps.html#630986d105c0f1782d085b9a306379a7"><span class="id" title="notation">!-&gt;</span></a> <a class="idref" href="PLF.Hoare.html#n:259"><span class="id" title="variable">n</span></a> <a class="idref" href="PLF.Maps.html#630986d105c0f1782d085b9a306379a7"><span class="id" title="notation">;</span></a> <a class="idref" href="PLF.Hoare.html#st:257"><span class="id" title="variable">st</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">|</span></a> <a id="HoareAssertAssume.E_SeqNormal" class="idref" href="#HoareAssertAssume.E_SeqNormal"><span class="id" title="constructor">E_SeqNormal</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">∀</span></a> <a id="c1:261" class="idref" href="#c1:261"><span class="id" title="binder">c1</span></a> <a id="c2:262" class="idref" href="#c2:262"><span class="id" title="binder">c2</span></a> <a id="st:263" class="idref" href="#st:263"><span class="id" title="binder">st</span></a> <a id="st':264" class="idref" href="#st':264"><span class="id" title="binder">st'</span></a> <a id="r:265" class="idref" href="#r:265"><span class="id" title="binder">r</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#st:263"><span class="id" title="variable">st</span></a>  <a class="idref" href="PLF.Hoare.html#4b975d013783f0069676486bfb27e44a"><span class="id" title="notation">=[</span></a> <a class="idref" href="PLF.Hoare.html#c1:261"><span class="id" title="variable">c1</span></a> <a class="idref" href="PLF.Hoare.html#4b975d013783f0069676486bfb27e44a"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="PLF.Hoare.html#HoareAssertAssume.RNormal"><span class="id" title="constructor">RNormal</span></a> <a class="idref" href="PLF.Hoare.html#st':264"><span class="id" title="variable">st'</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#st':264"><span class="id" title="variable">st'</span></a> <a class="idref" href="PLF.Hoare.html#4b975d013783f0069676486bfb27e44a"><span class="id" title="notation">=[</span></a> <a class="idref" href="PLF.Hoare.html#c2:262"><span class="id" title="variable">c2</span></a> <a class="idref" href="PLF.Hoare.html#4b975d013783f0069676486bfb27e44a"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="PLF.Hoare.html#r:265"><span class="id" title="variable">r</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#st:263"><span class="id" title="variable">st</span></a>  <a class="idref" href="PLF.Hoare.html#4b975d013783f0069676486bfb27e44a"><span class="id" title="notation">=[</span></a> <a class="idref" href="PLF.Hoare.html#c1:261"><span class="id" title="variable">c1</span></a> <a class="idref" href="PLF.Hoare.html#20723b1e1e241a343867017aa438ad3d"><span class="id" title="notation">;</span></a> <a class="idref" href="PLF.Hoare.html#c2:262"><span class="id" title="variable">c2</span></a> <a class="idref" href="PLF.Hoare.html#4b975d013783f0069676486bfb27e44a"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="PLF.Hoare.html#r:265"><span class="id" title="variable">r</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">|</span></a> <a id="HoareAssertAssume.E_SeqError" class="idref" href="#HoareAssertAssume.E_SeqError"><span class="id" title="constructor">E_SeqError</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">∀</span></a> <a id="c1:266" class="idref" href="#c1:266"><span class="id" title="binder">c1</span></a> <a id="c2:267" class="idref" href="#c2:267"><span class="id" title="binder">c2</span></a> <a id="st:268" class="idref" href="#st:268"><span class="id" title="binder">st</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#st:268"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Hoare.html#4b975d013783f0069676486bfb27e44a"><span class="id" title="notation">=[</span></a> <a class="idref" href="PLF.Hoare.html#c1:266"><span class="id" title="variable">c1</span></a> <a class="idref" href="PLF.Hoare.html#4b975d013783f0069676486bfb27e44a"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="PLF.Hoare.html#HoareAssertAssume.RError"><span class="id" title="constructor">RError</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#st:268"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Hoare.html#4b975d013783f0069676486bfb27e44a"><span class="id" title="notation">=[</span></a> <a class="idref" href="PLF.Hoare.html#c1:266"><span class="id" title="variable">c1</span></a> <a class="idref" href="PLF.Hoare.html#20723b1e1e241a343867017aa438ad3d"><span class="id" title="notation">;</span></a> <a class="idref" href="PLF.Hoare.html#c2:267"><span class="id" title="variable">c2</span></a> <a class="idref" href="PLF.Hoare.html#4b975d013783f0069676486bfb27e44a"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="PLF.Hoare.html#HoareAssertAssume.RError"><span class="id" title="constructor">RError</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">|</span></a> <a id="HoareAssertAssume.E_IfTrue" class="idref" href="#HoareAssertAssume.E_IfTrue"><span class="id" title="constructor">E_IfTrue</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">∀</span></a> <a id="st:269" class="idref" href="#st:269"><span class="id" title="binder">st</span></a> <a id="r:270" class="idref" href="#r:270"><span class="id" title="binder">r</span></a> <a id="b:271" class="idref" href="#b:271"><span class="id" title="binder">b</span></a> <a id="c1:272" class="idref" href="#c1:272"><span class="id" title="binder">c1</span></a> <a id="c2:273" class="idref" href="#c2:273"><span class="id" title="binder">c2</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Imp.html#beval"><span class="id" title="definition">beval</span></a> <a class="idref" href="PLF.Hoare.html#st:269"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Hoare.html#b:271"><span class="id" title="variable">b</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="PLF.Imp.html#:::'true'"><span class="id" title="notation">true</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#st:269"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Hoare.html#4b975d013783f0069676486bfb27e44a"><span class="id" title="notation">=[</span></a> <a class="idref" href="PLF.Hoare.html#c1:272"><span class="id" title="variable">c1</span></a> <a class="idref" href="PLF.Hoare.html#4b975d013783f0069676486bfb27e44a"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="PLF.Hoare.html#r:270"><span class="id" title="variable">r</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#st:269"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Hoare.html#4b975d013783f0069676486bfb27e44a"><span class="id" title="notation">=[</span></a> <a class="idref" href="PLF.Hoare.html#HoareAssertAssume.:com::'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">if</span></a> <a class="idref" href="PLF.Hoare.html#b:271"><span class="id" title="variable">b</span></a> <a class="idref" href="PLF.Hoare.html#HoareAssertAssume.:com::'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">then</span></a> <a class="idref" href="PLF.Hoare.html#c1:272"><span class="id" title="variable">c1</span></a> <a class="idref" href="PLF.Hoare.html#HoareAssertAssume.:com::'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">else</span></a> <a class="idref" href="PLF.Hoare.html#c2:273"><span class="id" title="variable">c2</span></a> <a class="idref" href="PLF.Hoare.html#HoareAssertAssume.:com::'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="PLF.Hoare.html#4b975d013783f0069676486bfb27e44a"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="PLF.Hoare.html#r:270"><span class="id" title="variable">r</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">|</span></a> <a id="HoareAssertAssume.E_IfFalse" class="idref" href="#HoareAssertAssume.E_IfFalse"><span class="id" title="constructor">E_IfFalse</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">∀</span></a> <a id="st:274" class="idref" href="#st:274"><span class="id" title="binder">st</span></a> <a id="r:275" class="idref" href="#r:275"><span class="id" title="binder">r</span></a> <a id="b:276" class="idref" href="#b:276"><span class="id" title="binder">b</span></a> <a id="c1:277" class="idref" href="#c1:277"><span class="id" title="binder">c1</span></a> <a id="c2:278" class="idref" href="#c2:278"><span class="id" title="binder">c2</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Imp.html#beval"><span class="id" title="definition">beval</span></a> <a class="idref" href="PLF.Hoare.html#st:274"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Hoare.html#b:276"><span class="id" title="variable">b</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="PLF.Imp.html#:::'false'"><span class="id" title="notation">false</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#st:274"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Hoare.html#4b975d013783f0069676486bfb27e44a"><span class="id" title="notation">=[</span></a> <a class="idref" href="PLF.Hoare.html#c2:278"><span class="id" title="variable">c2</span></a> <a class="idref" href="PLF.Hoare.html#4b975d013783f0069676486bfb27e44a"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="PLF.Hoare.html#r:275"><span class="id" title="variable">r</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#st:274"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Hoare.html#4b975d013783f0069676486bfb27e44a"><span class="id" title="notation">=[</span></a> <a class="idref" href="PLF.Hoare.html#HoareAssertAssume.:com::'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">if</span></a> <a class="idref" href="PLF.Hoare.html#b:276"><span class="id" title="variable">b</span></a> <a class="idref" href="PLF.Hoare.html#HoareAssertAssume.:com::'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">then</span></a> <a class="idref" href="PLF.Hoare.html#c1:277"><span class="id" title="variable">c1</span></a> <a class="idref" href="PLF.Hoare.html#HoareAssertAssume.:com::'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">else</span></a> <a class="idref" href="PLF.Hoare.html#c2:278"><span class="id" title="variable">c2</span></a> <a class="idref" href="PLF.Hoare.html#HoareAssertAssume.:com::'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="PLF.Hoare.html#4b975d013783f0069676486bfb27e44a"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="PLF.Hoare.html#r:275"><span class="id" title="variable">r</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">|</span></a> <a id="HoareAssertAssume.E_WhileFalse" class="idref" href="#HoareAssertAssume.E_WhileFalse"><span class="id" title="constructor">E_WhileFalse</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">∀</span></a> <a id="b:279" class="idref" href="#b:279"><span class="id" title="binder">b</span></a> <a id="st:280" class="idref" href="#st:280"><span class="id" title="binder">st</span></a> <a id="c:281" class="idref" href="#c:281"><span class="id" title="binder">c</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Imp.html#beval"><span class="id" title="definition">beval</span></a> <a class="idref" href="PLF.Hoare.html#st:280"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Hoare.html#b:279"><span class="id" title="variable">b</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="PLF.Imp.html#:::'false'"><span class="id" title="notation">false</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#st:280"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Hoare.html#4b975d013783f0069676486bfb27e44a"><span class="id" title="notation">=[</span></a> <a class="idref" href="PLF.Hoare.html#HoareAssertAssume.:com::'while'_x_'do'_x_'end'"><span class="id" title="notation">while</span></a> <a class="idref" href="PLF.Hoare.html#b:279"><span class="id" title="variable">b</span></a> <a class="idref" href="PLF.Hoare.html#HoareAssertAssume.:com::'while'_x_'do'_x_'end'"><span class="id" title="notation">do</span></a> <a class="idref" href="PLF.Hoare.html#c:281"><span class="id" title="variable">c</span></a> <a class="idref" href="PLF.Hoare.html#HoareAssertAssume.:com::'while'_x_'do'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="PLF.Hoare.html#4b975d013783f0069676486bfb27e44a"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="PLF.Hoare.html#HoareAssertAssume.RNormal"><span class="id" title="constructor">RNormal</span></a> <a class="idref" href="PLF.Hoare.html#st:280"><span class="id" title="variable">st</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">|</span></a> <a id="HoareAssertAssume.E_WhileTrueNormal" class="idref" href="#HoareAssertAssume.E_WhileTrueNormal"><span class="id" title="constructor">E_WhileTrueNormal</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">∀</span></a> <a id="st:282" class="idref" href="#st:282"><span class="id" title="binder">st</span></a> <a id="st':283" class="idref" href="#st':283"><span class="id" title="binder">st'</span></a> <a id="r:284" class="idref" href="#r:284"><span class="id" title="binder">r</span></a> <a id="b:285" class="idref" href="#b:285"><span class="id" title="binder">b</span></a> <a id="c:286" class="idref" href="#c:286"><span class="id" title="binder">c</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Imp.html#beval"><span class="id" title="definition">beval</span></a> <a class="idref" href="PLF.Hoare.html#st:282"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Hoare.html#b:285"><span class="id" title="variable">b</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="PLF.Imp.html#:::'true'"><span class="id" title="notation">true</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#st:282"><span class="id" title="variable">st</span></a>  <a class="idref" href="PLF.Hoare.html#4b975d013783f0069676486bfb27e44a"><span class="id" title="notation">=[</span></a> <a class="idref" href="PLF.Hoare.html#c:286"><span class="id" title="variable">c</span></a> <a class="idref" href="PLF.Hoare.html#4b975d013783f0069676486bfb27e44a"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="PLF.Hoare.html#HoareAssertAssume.RNormal"><span class="id" title="constructor">RNormal</span></a> <a class="idref" href="PLF.Hoare.html#st':283"><span class="id" title="variable">st'</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#st':283"><span class="id" title="variable">st'</span></a> <a class="idref" href="PLF.Hoare.html#4b975d013783f0069676486bfb27e44a"><span class="id" title="notation">=[</span></a> <a class="idref" href="PLF.Hoare.html#HoareAssertAssume.:com::'while'_x_'do'_x_'end'"><span class="id" title="notation">while</span></a> <a class="idref" href="PLF.Hoare.html#b:285"><span class="id" title="variable">b</span></a> <a class="idref" href="PLF.Hoare.html#HoareAssertAssume.:com::'while'_x_'do'_x_'end'"><span class="id" title="notation">do</span></a> <a class="idref" href="PLF.Hoare.html#c:286"><span class="id" title="variable">c</span></a> <a class="idref" href="PLF.Hoare.html#HoareAssertAssume.:com::'while'_x_'do'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="PLF.Hoare.html#4b975d013783f0069676486bfb27e44a"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="PLF.Hoare.html#r:284"><span class="id" title="variable">r</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#st:282"><span class="id" title="variable">st</span></a>  <a class="idref" href="PLF.Hoare.html#4b975d013783f0069676486bfb27e44a"><span class="id" title="notation">=[</span></a> <a class="idref" href="PLF.Hoare.html#HoareAssertAssume.:com::'while'_x_'do'_x_'end'"><span class="id" title="notation">while</span></a> <a class="idref" href="PLF.Hoare.html#b:285"><span class="id" title="variable">b</span></a> <a class="idref" href="PLF.Hoare.html#HoareAssertAssume.:com::'while'_x_'do'_x_'end'"><span class="id" title="notation">do</span></a> <a class="idref" href="PLF.Hoare.html#c:286"><span class="id" title="variable">c</span></a> <a class="idref" href="PLF.Hoare.html#HoareAssertAssume.:com::'while'_x_'do'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="PLF.Hoare.html#4b975d013783f0069676486bfb27e44a"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="PLF.Hoare.html#r:284"><span class="id" title="variable">r</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">|</span></a> <a id="HoareAssertAssume.E_WhileTrueError" class="idref" href="#HoareAssertAssume.E_WhileTrueError"><span class="id" title="constructor">E_WhileTrueError</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">∀</span></a> <a id="st:287" class="idref" href="#st:287"><span class="id" title="binder">st</span></a> <a id="b:288" class="idref" href="#b:288"><span class="id" title="binder">b</span></a> <a id="c:289" class="idref" href="#c:289"><span class="id" title="binder">c</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Imp.html#beval"><span class="id" title="definition">beval</span></a> <a class="idref" href="PLF.Hoare.html#st:287"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Hoare.html#b:288"><span class="id" title="variable">b</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="PLF.Imp.html#:::'true'"><span class="id" title="notation">true</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#st:287"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Hoare.html#4b975d013783f0069676486bfb27e44a"><span class="id" title="notation">=[</span></a> <a class="idref" href="PLF.Hoare.html#c:289"><span class="id" title="variable">c</span></a> <a class="idref" href="PLF.Hoare.html#4b975d013783f0069676486bfb27e44a"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="PLF.Hoare.html#HoareAssertAssume.RError"><span class="id" title="constructor">RError</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#st:287"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Hoare.html#4b975d013783f0069676486bfb27e44a"><span class="id" title="notation">=[</span></a> <a class="idref" href="PLF.Hoare.html#HoareAssertAssume.:com::'while'_x_'do'_x_'end'"><span class="id" title="notation">while</span></a> <a class="idref" href="PLF.Hoare.html#b:288"><span class="id" title="variable">b</span></a> <a class="idref" href="PLF.Hoare.html#HoareAssertAssume.:com::'while'_x_'do'_x_'end'"><span class="id" title="notation">do</span></a> <a class="idref" href="PLF.Hoare.html#c:289"><span class="id" title="variable">c</span></a> <a class="idref" href="PLF.Hoare.html#HoareAssertAssume.:com::'while'_x_'do'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="PLF.Hoare.html#4b975d013783f0069676486bfb27e44a"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="PLF.Hoare.html#HoareAssertAssume.RError"><span class="id" title="constructor">RError</span></a><br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">|</span></a> <a id="HoareAssertAssume.E_AssertTrue" class="idref" href="#HoareAssertAssume.E_AssertTrue"><span class="id" title="constructor">E_AssertTrue</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">∀</span></a> <a id="st:290" class="idref" href="#st:290"><span class="id" title="binder">st</span></a> <a id="b:291" class="idref" href="#b:291"><span class="id" title="binder">b</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Imp.html#beval"><span class="id" title="definition">beval</span></a> <a class="idref" href="PLF.Hoare.html#st:290"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Hoare.html#b:291"><span class="id" title="variable">b</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="PLF.Imp.html#:::'true'"><span class="id" title="notation">true</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#st:290"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Hoare.html#4b975d013783f0069676486bfb27e44a"><span class="id" title="notation">=[</span></a> <a class="idref" href="PLF.Hoare.html#HoareAssertAssume.:com::'assert'_x"><span class="id" title="notation">assert</span></a> <a class="idref" href="PLF.Hoare.html#b:291"><span class="id" title="variable">b</span></a> <a class="idref" href="PLF.Hoare.html#4b975d013783f0069676486bfb27e44a"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="PLF.Hoare.html#HoareAssertAssume.RNormal"><span class="id" title="constructor">RNormal</span></a> <a class="idref" href="PLF.Hoare.html#st:290"><span class="id" title="variable">st</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">|</span></a> <a id="HoareAssertAssume.E_AssertFalse" class="idref" href="#HoareAssertAssume.E_AssertFalse"><span class="id" title="constructor">E_AssertFalse</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">∀</span></a> <a id="st:292" class="idref" href="#st:292"><span class="id" title="binder">st</span></a> <a id="b:293" class="idref" href="#b:293"><span class="id" title="binder">b</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Imp.html#beval"><span class="id" title="definition">beval</span></a> <a class="idref" href="PLF.Hoare.html#st:292"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Hoare.html#b:293"><span class="id" title="variable">b</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="PLF.Imp.html#:::'false'"><span class="id" title="notation">false</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#st:292"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Hoare.html#4b975d013783f0069676486bfb27e44a"><span class="id" title="notation">=[</span></a> <a class="idref" href="PLF.Hoare.html#HoareAssertAssume.:com::'assert'_x"><span class="id" title="notation">assert</span></a> <a class="idref" href="PLF.Hoare.html#b:293"><span class="id" title="variable">b</span></a> <a class="idref" href="PLF.Hoare.html#4b975d013783f0069676486bfb27e44a"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="PLF.Hoare.html#HoareAssertAssume.RError"><span class="id" title="constructor">RError</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">|</span></a> <a id="HoareAssertAssume.E_Assume" class="idref" href="#HoareAssertAssume.E_Assume"><span class="id" title="constructor">E_Assume</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">∀</span></a> <a id="st:294" class="idref" href="#st:294"><span class="id" title="binder">st</span></a> <a id="b:295" class="idref" href="#b:295"><span class="id" title="binder">b</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Imp.html#beval"><span class="id" title="definition">beval</span></a> <a class="idref" href="PLF.Hoare.html#st:294"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Hoare.html#b:295"><span class="id" title="variable">b</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="PLF.Imp.html#:::'true'"><span class="id" title="notation">true</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#st:294"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Hoare.html#4b975d013783f0069676486bfb27e44a"><span class="id" title="notation">=[</span></a> <a class="idref" href="PLF.Hoare.html#HoareAssertAssume.:com::'assume'_x"><span class="id" title="notation">assume</span></a> <a class="idref" href="PLF.Hoare.html#b:295"><span class="id" title="variable">b</span></a> <a class="idref" href="PLF.Hoare.html#4b975d013783f0069676486bfb27e44a"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="PLF.Hoare.html#HoareAssertAssume.RNormal"><span class="id" title="constructor">RNormal</span></a> <a class="idref" href="PLF.Hoare.html#st:294"><span class="id" title="variable">st</span></a><br/>
<br/>
<span class="id" title="keyword">where</span> <a id="4b975d013783f0069676486bfb27e44a" class="idref" href="#4b975d013783f0069676486bfb27e44a"><span class="id" title="notation">&quot;</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">st '=[' c ']=&gt;' r</span></a>" <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:=</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#ceval:255"><span class="id" title="inductive">ceval</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">c</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">st</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">r</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a>.<br/>

<br/>
</div>

<div class="doc">
We redefine hoare triples: Now, <span class="inlinecode">{{<span class="id" title="var">P</span>}}</span> <span class="inlinecode"><span class="id" title="var">c</span></span> <span class="inlinecode">{{<span class="id" title="var">Q</span>}}</span> means that,
    whenever <span class="inlinecode"><span class="id" title="var">c</span></span> is started in a state satisfying <span class="inlinecode"><span class="id" title="var">P</span></span>, and terminates
    with result <span class="inlinecode"><span class="id" title="var">r</span></span>, then <span class="inlinecode"><span class="id" title="var">r</span></span> is not an error and the state of <span class="inlinecode"><span class="id" title="var">r</span></span>
    satisfies <span class="inlinecode"><span class="id" title="var">Q</span></span>. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a id="HoareAssertAssume.valid_hoare_triple" class="idref" href="#HoareAssertAssume.valid_hoare_triple"><span class="id" title="definition">valid_hoare_triple</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a id="P:296" class="idref" href="#P:296"><span class="id" title="binder">P</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#Assertion"><span class="id" title="definition">Assertion</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a id="c:297" class="idref" href="#c:297"><span class="id" title="binder">c</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#HoareAssertAssume.com"><span class="id" title="inductive">com</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a id="Q:298" class="idref" href="#Q:298"><span class="id" title="binder">Q</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#Assertion"><span class="id" title="definition">Assertion</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Prop</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">∀</span></a> <a id="st:299" class="idref" href="#st:299"><span class="id" title="binder">st</span></a> <a id="r:300" class="idref" href="#r:300"><span class="id" title="binder">r</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#st:299"><span class="id" title="variable">st</span></a> <a class="idref" href="PLF.Hoare.html#4b975d013783f0069676486bfb27e44a"><span class="id" title="notation">=[</span></a> <a class="idref" href="PLF.Hoare.html#c:297"><span class="id" title="variable">c</span></a> <a class="idref" href="PLF.Hoare.html#4b975d013783f0069676486bfb27e44a"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="PLF.Hoare.html#r:300"><span class="id" title="variable">r</span></a>  <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="PLF.Hoare.html#P:296"><span class="id" title="variable">P</span></a> <a class="idref" href="PLF.Hoare.html#st:299"><span class="id" title="variable">st</span></a>  <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="st':301" class="idref" href="#st':301"><span class="id" title="binder">st'</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="PLF.Hoare.html#r:300"><span class="id" title="variable">r</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="PLF.Hoare.html#HoareAssertAssume.RNormal"><span class="id" title="constructor">RNormal</span></a> <a class="idref" href="PLF.Hoare.html#st':301"><span class="id" title="variable">st'</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="PLF.Hoare.html#Q:298"><span class="id" title="variable">Q</span></a> <a class="idref" href="PLF.Hoare.html#st':301"><span class="id" title="variable">st'</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a id="ab05c802c6c420830babdf44d877dfd1" class="idref" href="#ab05c802c6c420830babdf44d877dfd1"><span class="id" title="notation">&quot;</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">{{ P }} c {{ Q }}</span></a>" <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#HoareAssertAssume.valid_hoare_triple"><span class="id" title="definition">valid_hoare_triple</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">P</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">c</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Q</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">2,</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">P</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">custom</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">assn</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">99,</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">c</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">custom</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">com</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">99,</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Q</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">custom</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">assn</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">at</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">level</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">99)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">hoare_spec_scope</span></a>.<br/>

<br/>
</div>

<div class="doc">
To test your understanding of this modification, give an example
    precondition and postcondition that are satisfied by the <span class="inlinecode"><span class="id" title="var">assume</span></span>
    statement but not by the <span class="inlinecode"><span class="id" title="tactic">assert</span></span> statement. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Theorem</span> <a id="HoareAssertAssume.assert_assume_differ" class="idref" href="#HoareAssertAssume.assert_assume_differ"><span class="id" title="lemma">assert_assume_differ</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a id="P:302" class="idref" href="#P:302"><span class="id" title="binder">P</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a><a class="idref" href="PLF.Hoare.html#Assertion"><span class="id" title="definition">Assertion</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">)</span></a> <a id="b:303" class="idref" href="#b:303"><span class="id" title="binder">b</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">(</span></a><a id="Q:304" class="idref" href="#Q:304"><span class="id" title="binder">Q</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a><a class="idref" href="PLF.Hoare.html#Assertion"><span class="id" title="definition">Assertion</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#ab05c802c6c420830babdf44d877dfd1"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Hoare.html#P:302"><span class="id" title="variable">P</span></a><a class="idref" href="PLF.Hoare.html#ab05c802c6c420830babdf44d877dfd1"><span class="id" title="notation">}}</span></a> <a class="idref" href="PLF.Hoare.html#HoareAssertAssume.:com::'assume'_x"><span class="id" title="notation">assume</span></a> <a class="idref" href="PLF.Hoare.html#b:303"><span class="id" title="variable">b</span></a> <a class="idref" href="PLF.Hoare.html#ab05c802c6c420830babdf44d877dfd1"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Hoare.html#Q:304"><span class="id" title="variable">Q</span></a><a class="idref" href="PLF.Hoare.html#ab05c802c6c420830babdf44d877dfd1"><span class="id" title="notation">}}</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#ab05c802c6c420830babdf44d877dfd1"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Hoare.html#P:302"><span class="id" title="variable">P</span></a><a class="idref" href="PLF.Hoare.html#ab05c802c6c420830babdf44d877dfd1"><span class="id" title="notation">}}</span></a> <a class="idref" href="PLF.Hoare.html#HoareAssertAssume.:com::'assert'_x"><span class="id" title="notation">assert</span></a> <a class="idref" href="PLF.Hoare.html#b:303"><span class="id" title="variable">b</span></a> <a class="idref" href="PLF.Hoare.html#ab05c802c6c420830babdf44d877dfd1"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Hoare.html#Q:304"><span class="id" title="variable">Q</span></a><a class="idref" href="PLF.Hoare.html#ab05c802c6c420830babdf44d877dfd1"><span class="id" title="notation">}}</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">)</span></a>.<br/>
 <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Admitted</span></a>.<br/>

<br/>
</div>

<div class="doc">
Then prove that any triple for an <span class="inlinecode"><span class="id" title="tactic">assert</span></span> also works when
    <span class="inlinecode"><span class="id" title="tactic">assert</span></span> is replaced by <span class="inlinecode"><span class="id" title="var">assume</span></span>. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Theorem</span> <a id="HoareAssertAssume.assert_implies_assume" class="idref" href="#HoareAssertAssume.assert_implies_assume"><span class="id" title="lemma">assert_implies_assume</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">∀</span></a> <a id="P:305" class="idref" href="#P:305"><span class="id" title="binder">P</span></a> <a id="b:306" class="idref" href="#b:306"><span class="id" title="binder">b</span></a> <a id="Q:307" class="idref" href="#Q:307"><span class="id" title="binder">Q</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#ab05c802c6c420830babdf44d877dfd1"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Hoare.html#P:305"><span class="id" title="variable">P</span></a><a class="idref" href="PLF.Hoare.html#ab05c802c6c420830babdf44d877dfd1"><span class="id" title="notation">}}</span></a> <a class="idref" href="PLF.Hoare.html#HoareAssertAssume.:com::'assert'_x"><span class="id" title="notation">assert</span></a> <a class="idref" href="PLF.Hoare.html#b:306"><span class="id" title="variable">b</span></a> <a class="idref" href="PLF.Hoare.html#ab05c802c6c420830babdf44d877dfd1"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Hoare.html#Q:307"><span class="id" title="variable">Q</span></a><a class="idref" href="PLF.Hoare.html#ab05c802c6c420830babdf44d877dfd1"><span class="id" title="notation">}}</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Hoare.html#ab05c802c6c420830babdf44d877dfd1"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Hoare.html#P:305"><span class="id" title="variable">P</span></a><a class="idref" href="PLF.Hoare.html#ab05c802c6c420830babdf44d877dfd1"><span class="id" title="notation">}}</span></a> <a class="idref" href="PLF.Hoare.html#HoareAssertAssume.:com::'assume'_x"><span class="id" title="notation">assume</span></a> <a class="idref" href="PLF.Hoare.html#b:306"><span class="id" title="variable">b</span></a> <a class="idref" href="PLF.Hoare.html#ab05c802c6c420830babdf44d877dfd1"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Hoare.html#Q:307"><span class="id" title="variable">Q</span></a><a class="idref" href="PLF.Hoare.html#ab05c802c6c420830babdf44d877dfd1"><span class="id" title="notation">}}</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
<a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Proof</span></a>.<br/>
 <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">Admitted</span></a>.<br/>

<br/>
</div>

<div class="doc">
Next, here are proofs for the old hoare rules adapted to the new
    semantics.  You don't need to do anything with these. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Theorem</span> <a id="HoareAssertAssume.hoare_asgn" class="idref" href="#HoareAssertAssume.hoare_asgn"><span class="id" title="lemma">hoare_asgn</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">:</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">∀</span></a> <a id="Q:308" class="idref" href="#Q:308"><span class="id" title="binder">Q</span></a> <a id="X:309" class="idref" href="#X:309"><span class="id" title="binder">X</span></a> <a id="a:310" class="idref" href="#a:310"><span class="id" title="binder">a</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#ab05c802c6c420830babdf44d877dfd1"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Hoare.html#Q:308"><span class="id" title="variable">Q</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">[</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">X</span></a> <a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">|-&gt;</span></a> <a class="idref" href="PLF.Hoare.html#a:310"><span class="id" title="variable">a</span></a><a class="idref" href="PLF.Hoare.html#0f3bc01c0d68323c9389d5f2c160ebf5"><span class="id" title="notation">]</span></a><a class="idref" href="PLF.Hoare.html#ab05c802c6c420830babdf44d877dfd1"><span class="id" title="notation">}}</span></a> <a class="idref" href="PLF.Hoare.html#X:309"><span class="id" title="variable">X</span></a> <a class="idref" href="PLF.Hoare.html#60a9f580307c9b3c5e2be1b3b9a8ef14"><span class="id" title="notation">:=</span></a> <a class="idref" href="PLF.Hoare.html#a:310"><span class="id" title="variable">a</span></a> <a class="idref" href="PLF.Hoare.html#ab05c802c6c420830babdf44d877dfd1"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Hoare.html#Q:308"><span class="id" title="variable">Q</span></a><a class="idref" href="PLF.Hoare.html#ab05c802c6c420830babdf44d877dfd1"><span class="id" title="notation">}}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="PLF.Hoare.html#HoareAssertAssume.valid_hoare_triple"><span class="id" title="definition">valid_hoare_triple</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Q</span> <span class="id" title="var">X</span> <span class="id" title="var">a</span> <span class="id" title="var">st</span> <span class="id" title="var">st'</span> <span class="id" title="var">HE</span> <span class="id" title="var">HQ</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">HE</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">∃</span> (<span class="id" title="var">X</span> <a class="idref" href="PLF.Maps.html#630986d105c0f1782d085b9a306379a7"><span class="id" title="notation">!-&gt;</span></a> <a class="idref" href="PLF.Imp.html#aeval"><span class="id" title="definition">aeval</span></a> <span class="id" title="var">st</span> <span class="id" title="var">a</span> <a class="idref" href="PLF.Maps.html#630986d105c0f1782d085b9a306379a7"><span class="id" title="notation">;</span></a> <span class="id" title="var">st</span>). <span class="id" title="tactic">split</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Theorem</span> <a id="HoareAssertAssume.hoare_consequence_pre" class="idref" href="#HoareAssertAssume.hoare_consequence_pre"><span class="id" title="lemma">hoare_consequence_pre</span></a> : <span class="id" title="keyword">∀</span> (<a id="P:311" class="idref" href="#P:311"><span class="id" title="binder">P</span></a> <a id="P':312" class="idref" href="#P':312"><span class="id" title="binder">P'</span></a> <a id="Q:313" class="idref" href="#Q:313"><span class="id" title="binder">Q</span></a> : <a class="idref" href="PLF.Hoare.html#Assertion"><span class="id" title="definition">Assertion</span></a>) <a id="c:314" class="idref" href="#c:314"><span class="id" title="binder">c</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#ab05c802c6c420830babdf44d877dfd1"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Hoare.html#P':312"><span class="id" title="variable">P'</span></a><a class="idref" href="PLF.Hoare.html#ab05c802c6c420830babdf44d877dfd1"><span class="id" title="notation">}}</span></a> <a class="idref" href="PLF.Hoare.html#c:314"><span class="id" title="variable">c</span></a> <a class="idref" href="PLF.Hoare.html#ab05c802c6c420830babdf44d877dfd1"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Hoare.html#Q:313"><span class="id" title="variable">Q</span></a><a class="idref" href="PLF.Hoare.html#ab05c802c6c420830babdf44d877dfd1"><span class="id" title="notation">}}</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#P:311"><span class="id" title="variable">P</span></a> <a class="idref" href="PLF.Hoare.html#::hoare_spec_scope:x_'-&gt;&gt;'_x"><span class="id" title="notation">-&gt;&gt;</span></a> <a class="idref" href="PLF.Hoare.html#P':312"><span class="id" title="variable">P'</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#ab05c802c6c420830babdf44d877dfd1"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Hoare.html#P:311"><span class="id" title="variable">P</span></a><a class="idref" href="PLF.Hoare.html#ab05c802c6c420830babdf44d877dfd1"><span class="id" title="notation">}}</span></a> <a class="idref" href="PLF.Hoare.html#c:314"><span class="id" title="variable">c</span></a> <a class="idref" href="PLF.Hoare.html#ab05c802c6c420830babdf44d877dfd1"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Hoare.html#Q:313"><span class="id" title="variable">Q</span></a><a class="idref" href="PLF.Hoare.html#ab05c802c6c420830babdf44d877dfd1"><span class="id" title="notation">}}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">P</span> <span class="id" title="var">P'</span> <span class="id" title="var">Q</span> <span class="id" title="var">c</span> <span class="id" title="var">Hhoare</span> <span class="id" title="var">Himp</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">st</span> <span class="id" title="var">st'</span> <span class="id" title="var">Hc</span> <span class="id" title="var">HP</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">Hhoare</span> <span class="id" title="var">st</span> <span class="id" title="var">st'</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">Himp</span>. <span class="id" title="tactic">assumption</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Theorem</span> <a id="HoareAssertAssume.hoare_consequence_post" class="idref" href="#HoareAssertAssume.hoare_consequence_post"><span class="id" title="lemma">hoare_consequence_post</span></a> : <span class="id" title="keyword">∀</span> (<a id="P:315" class="idref" href="#P:315"><span class="id" title="binder">P</span></a> <a id="Q:316" class="idref" href="#Q:316"><span class="id" title="binder">Q</span></a> <a id="Q':317" class="idref" href="#Q':317"><span class="id" title="binder">Q'</span></a> : <a class="idref" href="PLF.Hoare.html#Assertion"><span class="id" title="definition">Assertion</span></a>) <a id="c:318" class="idref" href="#c:318"><span class="id" title="binder">c</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#ab05c802c6c420830babdf44d877dfd1"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Hoare.html#P:315"><span class="id" title="variable">P</span></a><a class="idref" href="PLF.Hoare.html#ab05c802c6c420830babdf44d877dfd1"><span class="id" title="notation">}}</span></a> <a class="idref" href="PLF.Hoare.html#c:318"><span class="id" title="variable">c</span></a> <a class="idref" href="PLF.Hoare.html#ab05c802c6c420830babdf44d877dfd1"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Hoare.html#Q':317"><span class="id" title="variable">Q'</span></a><a class="idref" href="PLF.Hoare.html#ab05c802c6c420830babdf44d877dfd1"><span class="id" title="notation">}}</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#Q':317"><span class="id" title="variable">Q'</span></a> <a class="idref" href="PLF.Hoare.html#::hoare_spec_scope:x_'-&gt;&gt;'_x"><span class="id" title="notation">-&gt;&gt;</span></a> <a class="idref" href="PLF.Hoare.html#Q:316"><span class="id" title="variable">Q</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#ab05c802c6c420830babdf44d877dfd1"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Hoare.html#P:315"><span class="id" title="variable">P</span></a><a class="idref" href="PLF.Hoare.html#ab05c802c6c420830babdf44d877dfd1"><span class="id" title="notation">}}</span></a> <a class="idref" href="PLF.Hoare.html#c:318"><span class="id" title="variable">c</span></a> <a class="idref" href="PLF.Hoare.html#ab05c802c6c420830babdf44d877dfd1"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Hoare.html#Q:316"><span class="id" title="variable">Q</span></a><a class="idref" href="PLF.Hoare.html#ab05c802c6c420830babdf44d877dfd1"><span class="id" title="notation">}}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">P</span> <span class="id" title="var">Q</span> <span class="id" title="var">Q'</span> <span class="id" title="var">c</span> <span class="id" title="var">Hhoare</span> <span class="id" title="var">Himp</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">st</span> <span class="id" title="var">r</span> <span class="id" title="var">Hc</span> <span class="id" title="var">HP</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="PLF.Hoare.html#HoareAssertAssume.valid_hoare_triple"><span class="id" title="definition">valid_hoare_triple</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hhoare</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="st':319" class="idref" href="#st':319"><span class="id" title="binder"><span id="st':320" class="id">st'</span></span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <span class="id" title="var">r</span> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="PLF.Hoare.html#HoareAssertAssume.RNormal"><span class="id" title="constructor">RNormal</span></a> <a class="idref" href="PLF.Hoare.html#st':319"><span class="id" title="variable">st'</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <span class="id" title="var">Q'</span> <a class="idref" href="PLF.Hoare.html#st':319"><span class="id" title="variable">st'</span></a>).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> (<span class="id" title="var">Hhoare</span> <span class="id" title="var">st</span>); <span class="id" title="tactic">assumption</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">st'</span> [<span class="id" title="var">Hr</span> <span class="id" title="var">HQ'</span>] ].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">st'</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Himp</span>. <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Theorem</span> <a id="HoareAssertAssume.hoare_seq" class="idref" href="#HoareAssertAssume.hoare_seq"><span class="id" title="lemma">hoare_seq</span></a> : <span class="id" title="keyword">∀</span> <a id="P:321" class="idref" href="#P:321"><span class="id" title="binder">P</span></a> <a id="Q:322" class="idref" href="#Q:322"><span class="id" title="binder">Q</span></a> <a id="R:323" class="idref" href="#R:323"><span class="id" title="binder">R</span></a> <a id="c1:324" class="idref" href="#c1:324"><span class="id" title="binder">c1</span></a> <a id="c2:325" class="idref" href="#c2:325"><span class="id" title="binder">c2</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#ab05c802c6c420830babdf44d877dfd1"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Hoare.html#Q:322"><span class="id" title="variable">Q</span></a><a class="idref" href="PLF.Hoare.html#ab05c802c6c420830babdf44d877dfd1"><span class="id" title="notation">}}</span></a> <a class="idref" href="PLF.Hoare.html#c2:325"><span class="id" title="variable">c2</span></a> <a class="idref" href="PLF.Hoare.html#ab05c802c6c420830babdf44d877dfd1"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Hoare.html#R:323"><span class="id" title="variable">R</span></a><a class="idref" href="PLF.Hoare.html#ab05c802c6c420830babdf44d877dfd1"><span class="id" title="notation">}}</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#ab05c802c6c420830babdf44d877dfd1"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Hoare.html#P:321"><span class="id" title="variable">P</span></a><a class="idref" href="PLF.Hoare.html#ab05c802c6c420830babdf44d877dfd1"><span class="id" title="notation">}}</span></a> <a class="idref" href="PLF.Hoare.html#c1:324"><span class="id" title="variable">c1</span></a> <a class="idref" href="PLF.Hoare.html#ab05c802c6c420830babdf44d877dfd1"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Hoare.html#Q:322"><span class="id" title="variable">Q</span></a><a class="idref" href="PLF.Hoare.html#ab05c802c6c420830babdf44d877dfd1"><span class="id" title="notation">}}</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#ab05c802c6c420830babdf44d877dfd1"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Hoare.html#P:321"><span class="id" title="variable">P</span></a><a class="idref" href="PLF.Hoare.html#ab05c802c6c420830babdf44d877dfd1"><span class="id" title="notation">}}</span></a> <a class="idref" href="PLF.Hoare.html#c1:324"><span class="id" title="variable">c1</span></a><a class="idref" href="PLF.Hoare.html#20723b1e1e241a343867017aa438ad3d"><span class="id" title="notation">;</span></a><a class="idref" href="PLF.Hoare.html#c2:325"><span class="id" title="variable">c2</span></a> <a class="idref" href="PLF.Hoare.html#ab05c802c6c420830babdf44d877dfd1"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Hoare.html#R:323"><span class="id" title="variable">R</span></a><a class="idref" href="PLF.Hoare.html#ab05c802c6c420830babdf44d877dfd1"><span class="id" title="notation">}}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">P</span> <span class="id" title="var">Q</span> <span class="id" title="var">R</span> <span class="id" title="var">c1</span> <span class="id" title="var">c2</span> <span class="id" title="var">H1</span> <span class="id" title="var">H2</span> <span class="id" title="var">st</span> <span class="id" title="var">r</span> <span class="id" title="var">H12</span> <span class="id" title="var">Pre</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H12</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">H6</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">H2</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H3</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Pre</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Pre</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">st'0</span> [<span class="id" title="var">Heq</span> <span class="id" title="var">HQ</span>] ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Heq</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H2</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H5</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H5</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Pre</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Pre</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">st'</span> [<span class="id" title="var">C</span> <span class="id" title="var">_</span>] ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">C</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Here are the other proof rules (sanity check) 
</div>
<div class="code">
<span class="id" title="keyword">Theorem</span> <a id="HoareAssertAssume.hoare_skip" class="idref" href="#HoareAssertAssume.hoare_skip"><span class="id" title="lemma">hoare_skip</span></a> : <span class="id" title="keyword">∀</span> <a id="P:326" class="idref" href="#P:326"><span class="id" title="binder">P</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#ab05c802c6c420830babdf44d877dfd1"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Hoare.html#P:326"><span class="id" title="variable">P</span></a><a class="idref" href="PLF.Hoare.html#ab05c802c6c420830babdf44d877dfd1"><span class="id" title="notation">}}</span></a> <a class="idref" href="PLF.Hoare.html#HoareAssertAssume.:com::'skip'"><span class="id" title="notation">skip</span></a> <a class="idref" href="PLF.Hoare.html#ab05c802c6c420830babdf44d877dfd1"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Hoare.html#P:326"><span class="id" title="variable">P</span></a><a class="idref" href="PLF.Hoare.html#ab05c802c6c420830babdf44d877dfd1"><span class="id" title="notation">}}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">P</span> <span class="id" title="var">st</span> <span class="id" title="var">st'</span> <span class="id" title="var">H</span> <span class="id" title="var">HP</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Theorem</span> <a id="HoareAssertAssume.hoare_if" class="idref" href="#HoareAssertAssume.hoare_if"><span class="id" title="lemma">hoare_if</span></a> : <span class="id" title="keyword">∀</span> <a id="P:327" class="idref" href="#P:327"><span class="id" title="binder">P</span></a> <a id="Q:328" class="idref" href="#Q:328"><span class="id" title="binder">Q</span></a> (<a id="b:329" class="idref" href="#b:329"><span class="id" title="binder">b</span></a>:<a class="idref" href="PLF.Imp.html#bexp"><span class="id" title="inductive">bexp</span></a>) <a id="c1:330" class="idref" href="#c1:330"><span class="id" title="binder">c1</span></a> <a id="c2:331" class="idref" href="#c2:331"><span class="id" title="binder">c2</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#ab05c802c6c420830babdf44d877dfd1"><span class="id" title="notation">{{</span></a> <a class="idref" href="PLF.Hoare.html#P:327"><span class="id" title="variable">P</span></a> <a class="idref" href="PLF.Hoare.html#d437198920d8d757e4e6b60d46358c8a"><span class="id" title="notation">∧</span></a> <a class="idref" href="PLF.Hoare.html#b:329"><span class="id" title="variable">b</span></a><a class="idref" href="PLF.Hoare.html#ab05c802c6c420830babdf44d877dfd1"><span class="id" title="notation">}}</span></a> <a class="idref" href="PLF.Hoare.html#c1:330"><span class="id" title="variable">c1</span></a> <a class="idref" href="PLF.Hoare.html#ab05c802c6c420830babdf44d877dfd1"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Hoare.html#Q:328"><span class="id" title="variable">Q</span></a><a class="idref" href="PLF.Hoare.html#ab05c802c6c420830babdf44d877dfd1"><span class="id" title="notation">}}</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#ab05c802c6c420830babdf44d877dfd1"><span class="id" title="notation">{{</span></a> <a class="idref" href="PLF.Hoare.html#P:327"><span class="id" title="variable">P</span></a> <a class="idref" href="PLF.Hoare.html#d437198920d8d757e4e6b60d46358c8a"><span class="id" title="notation">∧</span></a> <a class="idref" href="PLF.Hoare.html#74028603b8e85e0c9ec50b4dbd7dfecd"><span class="id" title="notation">¬</span></a> <a class="idref" href="PLF.Hoare.html#b:329"><span class="id" title="variable">b</span></a><a class="idref" href="PLF.Hoare.html#ab05c802c6c420830babdf44d877dfd1"><span class="id" title="notation">}}</span></a> <a class="idref" href="PLF.Hoare.html#c2:331"><span class="id" title="variable">c2</span></a> <a class="idref" href="PLF.Hoare.html#ab05c802c6c420830babdf44d877dfd1"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Hoare.html#Q:328"><span class="id" title="variable">Q</span></a><a class="idref" href="PLF.Hoare.html#ab05c802c6c420830babdf44d877dfd1"><span class="id" title="notation">}}</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#ab05c802c6c420830babdf44d877dfd1"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Hoare.html#P:327"><span class="id" title="variable">P</span></a><a class="idref" href="PLF.Hoare.html#ab05c802c6c420830babdf44d877dfd1"><span class="id" title="notation">}}</span></a> <a class="idref" href="PLF.Hoare.html#HoareAssertAssume.:com::'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">if</span></a> <a class="idref" href="PLF.Hoare.html#b:329"><span class="id" title="variable">b</span></a> <a class="idref" href="PLF.Hoare.html#HoareAssertAssume.:com::'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">then</span></a> <a class="idref" href="PLF.Hoare.html#c1:330"><span class="id" title="variable">c1</span></a> <a class="idref" href="PLF.Hoare.html#HoareAssertAssume.:com::'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">else</span></a> <a class="idref" href="PLF.Hoare.html#c2:331"><span class="id" title="variable">c2</span></a> <a class="idref" href="PLF.Hoare.html#HoareAssertAssume.:com::'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="PLF.Hoare.html#ab05c802c6c420830babdf44d877dfd1"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Hoare.html#Q:328"><span class="id" title="variable">Q</span></a><a class="idref" href="PLF.Hoare.html#ab05c802c6c420830babdf44d877dfd1"><span class="id" title="notation">}}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">P</span> <span class="id" title="var">Q</span> <span class="id" title="var">b</span> <span class="id" title="var">c1</span> <span class="id" title="var">c2</span> <span class="id" title="var">HTrue</span> <span class="id" title="var">HFalse</span> <span class="id" title="var">st</span> <span class="id" title="var">st'</span> <span class="id" title="var">HE</span> <span class="id" title="var">HP</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">HE</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">HTrue</span> <span class="id" title="var">st</span> <span class="id" title="var">st'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">split</span>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">HFalse</span> <span class="id" title="var">st</span> <span class="id" title="var">st'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Hoare.html#bexp_eval_false"><span class="id" title="lemma">bexp_eval_false</span></a>. <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Theorem</span> <a id="HoareAssertAssume.hoare_while" class="idref" href="#HoareAssertAssume.hoare_while"><span class="id" title="lemma">hoare_while</span></a> : <span class="id" title="keyword">∀</span> <a id="P:332" class="idref" href="#P:332"><span class="id" title="binder">P</span></a> (<a id="b:333" class="idref" href="#b:333"><span class="id" title="binder">b</span></a>:<a class="idref" href="PLF.Imp.html#bexp"><span class="id" title="inductive">bexp</span></a>) <a id="c:334" class="idref" href="#c:334"><span class="id" title="binder">c</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#ab05c802c6c420830babdf44d877dfd1"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Hoare.html#P:332"><span class="id" title="variable">P</span></a> <a class="idref" href="PLF.Hoare.html#d437198920d8d757e4e6b60d46358c8a"><span class="id" title="notation">∧</span></a> <a class="idref" href="PLF.Hoare.html#b:333"><span class="id" title="variable">b</span></a><a class="idref" href="PLF.Hoare.html#ab05c802c6c420830babdf44d877dfd1"><span class="id" title="notation">}}</span></a> <a class="idref" href="PLF.Hoare.html#c:334"><span class="id" title="variable">c</span></a> <a class="idref" href="PLF.Hoare.html#ab05c802c6c420830babdf44d877dfd1"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Hoare.html#P:332"><span class="id" title="variable">P</span></a><a class="idref" href="PLF.Hoare.html#ab05c802c6c420830babdf44d877dfd1"><span class="id" title="notation">}}</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#ab05c802c6c420830babdf44d877dfd1"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Hoare.html#P:332"><span class="id" title="variable">P</span></a><a class="idref" href="PLF.Hoare.html#ab05c802c6c420830babdf44d877dfd1"><span class="id" title="notation">}}</span></a> <a class="idref" href="PLF.Hoare.html#HoareAssertAssume.:com::'while'_x_'do'_x_'end'"><span class="id" title="notation">while</span></a> <a class="idref" href="PLF.Hoare.html#b:333"><span class="id" title="variable">b</span></a> <a class="idref" href="PLF.Hoare.html#HoareAssertAssume.:com::'while'_x_'do'_x_'end'"><span class="id" title="notation">do</span></a> <a class="idref" href="PLF.Hoare.html#c:334"><span class="id" title="variable">c</span></a> <a class="idref" href="PLF.Hoare.html#HoareAssertAssume.:com::'while'_x_'do'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="PLF.Hoare.html#ab05c802c6c420830babdf44d877dfd1"><span class="id" title="notation">{{</span></a> <a class="idref" href="PLF.Hoare.html#P:332"><span class="id" title="variable">P</span></a> <a class="idref" href="PLF.Hoare.html#d437198920d8d757e4e6b60d46358c8a"><span class="id" title="notation">∧</span></a> <a class="idref" href="PLF.Hoare.html#74028603b8e85e0c9ec50b4dbd7dfecd"><span class="id" title="notation">¬</span></a><a class="idref" href="PLF.Hoare.html#b:333"><span class="id" title="variable">b</span></a><a class="idref" href="PLF.Hoare.html#ab05c802c6c420830babdf44d877dfd1"><span class="id" title="notation">}}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">P</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> <span class="id" title="var">Hhoare</span> <span class="id" title="var">st</span> <span class="id" title="var">st'</span> <span class="id" title="var">He</span> <span class="id" title="var">HP</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> <a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a><a class="idref" href="PLF.Hoare.html#HoareAssertAssume.:com::'while'_x_'do'_x_'end'"><span class="id" title="notation">while</span></a> <span class="id" title="var">b</span> <a class="idref" href="PLF.Hoare.html#HoareAssertAssume.:com::'while'_x_'do'_x_'end'"><span class="id" title="notation">do</span></a> <span class="id" title="var">c</span> <a class="idref" href="PLF.Hoare.html#HoareAssertAssume.:com::'while'_x_'do'_x_'end'"><span class="id" title="notation">end</span></a><a class="idref" href="PLF.Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <span class="id" title="keyword">as</span> <span class="id" title="var">wcom</span> <span class="id" title="var">eqn</span>:<span class="id" title="var">Heqwcom</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">He</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> (<span class="id" title="tactic">inversion</span> <span class="id" title="var">Heqwcom</span>); <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">Heqwcom</span>.<br/>
&nbsp;&nbsp;- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">split</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="PLF.Hoare.html#bexp_eval_false"><span class="id" title="lemma">bexp_eval_false</span></a>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">IHHe1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHHe2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">clear</span> <span class="id" title="var">IHHe2</span> <span class="id" title="var">He2</span> <span class="id" title="var">r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="PLF.Hoare.html#HoareAssertAssume.valid_hoare_triple"><span class="id" title="definition">valid_hoare_triple</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hhoare</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hhoare</span> <span class="id" title="tactic">in</span> <span class="id" title="var">He1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">destruct</span> <span class="id" title="var">He1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">st1</span> [<span class="id" title="var">Heq</span> <span class="id" title="var">Hst1</span>] ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Heq</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">split</span>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exfalso</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">IHHe</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="PLF.Hoare.html#HoareAssertAssume.valid_hoare_triple"><span class="id" title="definition">valid_hoare_triple</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hhoare</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hhoare</span> <span class="id" title="tactic">in</span> <span class="id" title="var">He</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">He</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">st'</span> [<span class="id" title="var">C</span> <span class="id" title="var">_</span>] ]. <span class="id" title="tactic">inversion</span> <span class="id" title="var">C</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">split</span>; <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Finally, state Hoare rules for <span class="inlinecode"><span class="id" title="tactic">assert</span></span> and <span class="inlinecode"><span class="id" title="var">assume</span></span> and use them
    to prove a simple program correct.  Name your rules <span class="inlinecode"><span class="id" title="var">hoare_assert</span></span>
    and <span class="inlinecode"><span class="id" title="var">hoare_assume</span></span>. 
</div>
<div class="code">

<br/>

<br/>
</div>

<div class="doc">
Use your rules to prove the following triple. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Example</span> <a id="HoareAssertAssume.assert_assume_example" class="idref" href="#HoareAssertAssume.assert_assume_example"><span class="id" title="definition">assert_assume_example</span></a>:<br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#ab05c802c6c420830babdf44d877dfd1"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Hoare.html#:assn:assertion_scope:'True'"><span class="id" title="notation">True</span></a><a class="idref" href="PLF.Hoare.html#ab05c802c6c420830babdf44d877dfd1"><span class="id" title="notation">}}</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#HoareAssertAssume.:com::'assume'_x"><span class="id" title="notation">assume</span></a> <a class="idref" href="PLF.Imp.html#5a96623d056c293ebbcdf03005796e09"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="PLF.Imp.html#9e5b22caf5d7cf490e97976162618c2a"><span class="id" title="notation">=</span></a> 1<a class="idref" href="PLF.Imp.html#5a96623d056c293ebbcdf03005796e09"><span class="id" title="notation">)</span></a><a class="idref" href="PLF.Hoare.html#20723b1e1e241a343867017aa438ad3d"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="PLF.Hoare.html#60a9f580307c9b3c5e2be1b3b9a8ef14"><span class="id" title="notation">:=</span></a> <a class="idref" href="PLF.Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="PLF.Imp.html#ad27fd091d9c8494ce7e5135135d19a8"><span class="id" title="notation">+</span></a> 1<a class="idref" href="PLF.Hoare.html#20723b1e1e241a343867017aa438ad3d"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#HoareAssertAssume.:com::'assert'_x"><span class="id" title="notation">assert</span></a> <a class="idref" href="PLF.Imp.html#5a96623d056c293ebbcdf03005796e09"><span class="id" title="notation">(</span></a><a class="idref" href="PLF.Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="PLF.Imp.html#9e5b22caf5d7cf490e97976162618c2a"><span class="id" title="notation">=</span></a> 2<a class="idref" href="PLF.Imp.html#5a96623d056c293ebbcdf03005796e09"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PLF.Hoare.html#ab05c802c6c420830babdf44d877dfd1"><span class="id" title="notation">{{</span></a><a class="idref" href="PLF.Hoare.html#:assn:assertion_scope:'True'"><span class="id" title="notation">True</span></a><a class="idref" href="PLF.Hoare.html#ab05c802c6c420830babdf44d877dfd1"><span class="id" title="notation">}}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
 <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="PLF.Hoare.html#HoareAssertAssume"><span class="id" title="module">HoareAssertAssume</span></a>.<br/>
</div>

<div class="doc">
<font size=-2>&#9744;</font> 
</div>
<div class="code">

<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://rocq-prover.org/">coqdoc</a>
</div>

</div>

</body>
</html>